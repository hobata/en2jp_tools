read pdf file
source pdf file has 626 pages.
Get Document txt
page 1
IEEE Std 802.11ad  -2012(Amendment toIEEE Std 802.11  -2012,as amended by IEEE Std 802.11ae  -2012and IEEE Std 802.11aa  -2012)IEEE Standard for Information technology   Telecommunications and information exchange between systemsLocal and metropolitan area networks   Specific requirementsPart 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) SpecificationsAmendment 3: Enhancements for Very High Throughput in the 60 GHz BandSponsorLAN/MAN Standards Committee of the IEEE Computer SocietyApproved 19 October 2012IEEE-SA Standards Boar


page 2
The Institute of Electrical and Electronics Engineers, Inc.3 Park Avenue, New York, NY 10016-5997, USACopyright    2012 by The Institute of Electrical and Electronics Engineers, Inc.All rights reserved. Published 28 December 2012. Printed in the United States of America.IEEE and 802 are registered trademarks in the U.S. Patent & Trademark Office, owned by The Institute of Electrical and ElectronicsEngineers, Incorporated.Print: ISBN 978-0-7381-9- STD97302PDF: ISBN 978-0-7381-8096-0 STDPD97302IEEE prohibits discrimination, harassment and bullying. For more information, visit http://www.ieee.org/web/aboutus/whatis/policies/p9-26.html.No part of this publication may be reproduced in any form, in an electronic retrieval system or otherwise, without the prior written permissionof the publisher.Abstract: This amendment defines modifications to both the IEEE 802.11 physical layers (PHYs)and the IEEE 802.11 medium access control layer (MAC) to enable operation in frequencies around60GHz and capable of very high throughput. Keywords: 60 GHz, A-BFT, announcement transmission interval, association beamformingtraining time, ATI, beacon transmission interval, beamforming, BTI, CBAP, clustering, contention-based access period, directional multi-gigabit, DMG, dynamic allocation of service period, dynamicextension of service period, dynamic truncation of service period, fast session transfer, FST,GCMP, IEEE 802.11ad, millimeter-wave, multi-band operation, PBSS, PBSS control point, PCP,personal basic service set, relay operation, service period, SP, spatial sharin


page 3
Notice and Disclaimer of Liability Concerning the Use of IEEE Documents: IEEE Standards documents aredeveloped within the IEEE Societies and the Standards Coordinating Committees of the IEEE Standards Association(IEEE-SA) Standards Board. IEEE develops its standards through a consensus development process, approved by theAmerican National Standards Institute, which brings together volunteers representing varied viewpoints and interests toachieve the final product. Volunteers are not necessarily members of the Institute and serve without compensation.While IEEE administers the process and establishes rules to promote fairness in the consensus development process,IEEE does not independently evaluate, test, or verify the accuracy of any of the information or the soundness of anyjudgments contained in its standards.Use of an IEEE Standard is wholly voluntary. IEEE disclaims liability for any personal injury, property or other damage,of any nature whatsoever, whether special, indirect, consequential, or compensatory, directly or indirectly resulting fromthe publication, use of, or reliance upon any IEEE Standard document.IEEE does not warrant or represent the accuracy or content of the material contained in its standards, and expresslydisclaims any express or implied warranty, including any implied warranty of merchantability or fitness for a specificpurpose, or that the use of the material contained in its standards is free from patent infringement. IEEE Standardsdocuments are supplied "AS IS."The existence of an IEEE Standard does not imply that there are no other ways to produce, test, measure, purchase,market, or provide other goods and services related to the scope of the IEEE standard. Furthermore, the viewpointexpressed at the time a standard is approved and issued is subject to change brought about through developments in thestate of the art and comments received from users of the standard. Every IEEE standard is subjected to review at leastevery ten years. When a document is more than ten years old and has not undergone a revision process, it is reasonableto conclude that its contents, although still of some value, do not wholly reflect the present state of the art. Users arecautioned to check to determine that they have the latest edition of any IEEE standard.In publishing and making its standards available, IEEE is not suggesting or rendering professional or other services for,or on behalf of, any person or entity. Nor is IEEE undertaking to perform any duty owed by any other person or entity toanother. Any person utilizing any IEEE Standards document, should rely upon his or her own independent judgment inthe exercise of reasonable care in any given circumstances or, as appropriate, seek the advice of a competent professionalin determining the appropriateness of a given IEEE standard.Translations: The IEEE consensus development process involves the review of documents in English only. In the eventthat an IEEE standard is translated, only the English version published by IEEE should be considered the approved IEEEstandard.Official Statements: A statement, written or oral, that is not processed in accordance with the IEEE-SA StandardsBoard Operations Manual shall not be considered the official position of IEEE or any of its committees and shall not beconsidered to be, nor be relied upon as, a formal position of IEEE. At lectures, symposia, seminars, or educationalcourses, an individual presenting information on IEEE standards shall make it clear that his or her views should beconsidered the personal views of that individual rather than the formal position of IEEE. Comments on Standards: Comments for revision of IEEE Standards documents are welcome from any interested party,regardless of membership affiliation with IEEE. However, IEEE does not provide consulting information or advicepertaining to IEEE Standards documents. Suggestions for changes in documents should be in the form of a proposedchange of text, together with appropriate supporting comments. Since IEEE standards represent a consensus ofconcerned interests, it is important to ensure that any responses to comments and questions also receive the concurrenceof a balance of interests. For this reason, IEEE and the members of its societies and Standards Coordinating Committeesare not able to provide an instant response to comments or questions except in those cases where the matter haspreviously been addressed. Any person who would like to participate in evaluating comments or revisions to an IEEEstandard is welcome to join the relevant IEEE working group at http://standards.ieee.org/develop/wg/. Comments on standards should be submitted to the following address:Secretary, IEEE-SA Standards Board445 Hoes LanePiscataway, NJ 08854USAPhotocopies: Authorization to photocopy portions of any individual standard for internal or personal use is granted byThe Institute of Electrical and Electronics Engineers, Inc., provided that the appropriate fee is paid to CopyrightClearance Center. To arrange for payment of licensing fee, please contact Copyright Clearance Center, CustomerService, 222 Rosewood Drive, Danvers, MA 01923 USA; +1 978 750 8400. Permission to photocopy portions of anyindividual standard for educational classroom use can also be obtained through the Copyright Clearance Center


page 4
ivCopyright    2012 IEEE. All rights reserved.Notice to usersLaws and regulationsUsers of IEEE Standards documents should consult all applicable laws and regulations. Compliance with theprovisions of any IEEE standards document does not imply compliance to any applicable regulatoryrequirements. Implementers of the standard are responsible for observing or referring to the applicableregulatory requirements. IEEE does not, by the publication of its standards, intend to urge action that is notin compliance with applicable laws, and these documents may not be construed as doing so.CopyrightsThis document is copyrighted by the IEEE. It is made available for a wide variety of both public and privateuses. These include both use, by reference, in laws and regulations, and use in private self-regulation,standardization, and the promotion of engineering practices and methods. By making this documentavailable for use and adoption by public authorities and private users, the IEEE does not waive any rights incopyright to this document.Updating of IEEE documentsUsers of IEEE standards should be aware that these documents may be superseded at any time by theissuance of new editions or may be amended from time to time through the issuance of amendments,corrigenda, or errata. An official IEEE document at any point in time consists of the current edition of thedocument together with any amendments, corrigenda, or errata then in effect. In order to determine whethera given document is the current edition and whether it has been amended through the issuance ofamendments, corrigenda, or errata, visit the IEEE-SA website or contact the IEEE at the address listedpreviously. For more information about the IEEE Standards Association or the IEEE standards developmentprocess, visit the IEEE-SA website.ErrataErrata, if any, for this and all other standards can be accessed at the following URL: http://standards.ieee.org/findstds/errata/index.html. Users are encouraged to check this URL for errataperiodically.PatentsAttention is called to the possibility that implementation of this standard may require use of subject mattercovered by patent rights. By publication of this standard, no position is taken by the IEEE with respect to theexistence or validity of any patent rights in connection therewith. A patent holder or patent applicant hasfiled a statement of assurance via an Accepted Letter of Assurance, then the statement is listed on the IEEE-SA website http://standards.ieee.org/about/sasb/patcom/patents.html. Letters of Assurance may indicatewhether the Submitter is willing or unwilling to grant licenses under patent rights without compensation orunder reasonable rates, with reasonable terms and conditions that are demonstrably free of any unfairdiscrimination to applicants desiring to obtain such licenses. Essential Patent Claims may exist for which a Letter of Assurance has not been received. The IEEE is notresponsible for identifying Essential Patent Claims for which a license may be required, for conductinginquiries into the legal validity or scope of Patents Claims, or determining whether any licensing terms orconditions provided in connection with submission of a Letter of Assurance, if any, or in any licensingagreements are reasonable or nondiscriminatory. Users of this standard are expressly advised thatdetermination of the validity of any patent rights, and the risk of infringement of such rights, is entirely theirown responsibility. Further information may be obtained from the IEEE Standards Association


page 5
Copyright    2012 IEEE. All rights reserved.vParticipantsAt the time this amendment was submitted to the IEEE-SA Standards Board for approval, the IEEE 802.11Working Group had the following officers:Bruce P. Kraemer, ChairJon Walter Rosdahl and Adrian P. Stephens, Vice-ChairsStephen McCann, SecretaryAt the time this amendment was sent to sponsor ballot, the Task Group ad had the following officers:Eldad Perahia, ChairJames Yee, Vice-ChairCarlos Cordeiro, Technical EditorAt the time this amendment was sent to sponsor ballot, the IEEE 802.11 Working Group had the followingmembership:Osama S. AboulmagdSantosh P. AbrahamRoberto AielloCarlos H. AldanaThomas AlexanderPeiman AminiDavid C. AndrusSirikiat Lek AriyavisitakulLee R. ArmstrongYusuke AsaiAlex AshleyTorrey AtcittyKwok Shum AuVijay AuluckStefan AustGeert A. AwaterDavid BagbyMichael BahrGabor BajkoRaja BanerjeaJohn R. BarrTuncer BaykasAlan BerkemaAnirudh BhattBijoy BhukaniaTed BoothPhilippe BoucachardAndre BourdouxGregory BreitG. BumillerGeorge CalcevChris CalvertRuben Salazar CardozoWilliam CarneyPhilippe ChambelinKim ChangClint F. ChaplinMinho CheongInhwan ChoiIn-Kyeong ChoiJee-Yon ChoiLiwen ChuJohn CoffeyKenneth CoopSubir DasRolf J. de VegtHossein DehghanTheodorus DenteneerThomas DerhamOffie DrennanChunjie DuanRoger P. DurandPeter EcclesineRichard EdgarMarc EmmelmannLeonid EpsteinVinko ErcegPing FangStanislav FilinMatthew J. FischerGeorge FlammerColin FrankNoriyasu FukatsuPatrick FungMohamed Ghamri-DoudaneJames P. K. GilbClaude GiraudReinhard GlogerDaning GongMichelle GongDavid GoodallElad GottlibSudheer A. GrandhiMichael GrigatDavid HalaszMark HamiltonChristopher J. HansenHiroshi HaradaDan N. HarkinsBrian D. HartAhmadreza HedayatRobert F. HeileGuido R. HiertzGarth D. HillmanDavid HowardJing-Rong HsiehJu-Lan HsuDavid HunterAkio IsoMitsuru IwaokaWynona JacobsByung Jang JeongWuncheol JeongJorjeta G. JetchevaJunho JoVince JonesAvinash JoshiPadam KafleCarl W. KainNaveen K. KakaniByeongwoo KangHyunduk KangAssaf Y. KasherShuzo KatoRichard H. KennedyJohn KenneyStuart J. KerryPrithpal KhakuriaThet KhineBonghoe KimByoung-Hoon KimEun Sun KimJinkyeong KimJoonsuk KimSuhwook KimYouhan KimYoungsoo KimYunjoo KimShoichi KitazawaJarkko KnecktMark M. KobayashiFumihide KojimaTom Kolz


page 6
viCopyright    2012 IEEE. All rights reserved.Timo KoskelaRiichi KudoThomas M. KuriharaJoseph KwakPascal LagrangePaul LambertZhou LanLeonardo LananteJames LansfordDaewon LeeDonghun LeeJae Seung LeeJihyun LeeWooyong LeeYuro LeeZhongding LeiWai Kong LeungBin LiHonggang LiYunzhou LiErik LindskogJeremy LinkLu LiruDer-Zheng LiuJianhan LiuSiyang LiuYong LiuPeter LocYi LuoZhendong LuoKaiying LvBradley LynchMichael LynchJouni K. MalinenHiroshi ManoBill MarshallKenichi MaruhashiAvi MasourStephen McCannSimone MerlinMurat MeseJames MillerRobert R. MillerFanny MlinarskyApurva ModyEmmanuel MonnerieMichael MontemurroRajendra T. MoortiHitoshi MoriokaYuichi MoriokaDaniel Camps MurAndrew MylesYukimasa NagaiHiroki NakanoSai Shankar NandagopalanPradeep NemavatChiu NgoPaul NikolichKnut OdmanHiroyo OgawaJong-Ee OhKazuyasu OkadaDavid OlsonSatoshi OyamaSantosh Ghanshyam PandeyThomas PareJaewoo ParkMinyoung ParkSeung-Hoon ParkTaejoon ParkSandhya PatilJames E. PetranovichAlbert PetrickJohn PetroKrishna Madhavan PillaiRiku PirhonenJuho PirskanenVishakan PonnampalamRon PoratHenry S. PtasinskiIvan PustogarovSatish PuttaEmily H. QiHuyu QuJim E. RaabHarish RamamurthyJayaram RamasastryIvan ReedeEdward ReussAlex ReznikMaximilian RiegelMark RisonDongwook RohAlexander SafonovKazuyuki SakodaHemanth SampathSigurd SchelstraeteCristina SeibertYongho SeokKunal ShahHuairong ShaoNir ShapiraStephen J. ShellhammerIan SherlockWei ShiNobuhiko ShibagakiShusaku ShimadaChang Sub ShinThomas M. SiepMichael SimDwight SmithGraham Kenneth SmithIllSoo SohnChunyi SongRobert StaceyDorothy StanleyChin-Sean SumBo SunChen SunMohammad H. TaghaviKazuaki TakahashiMineo TakaiJerry ThrasherJens TingleffJames D. TomcikIchihiko ToyodaSolomon B. TraininHa Nguyen TranMasahiro UmehiraRichard D. J. Van NeeAllert Van ZelstPrabodh VarshneyGanesh VenkatesanSameer VermaniDalton T. VictorGabriel VillardiBhupender VirkGeorge A. VlantisSanjay WadhwaChao-Chun WangJames June WangJunyi WangQi WangLisa WardFujio WatanabeLei WenMenzo M. WentinkNicholas WestPyo Chang WooJames WorshamHarry R. WorstellTianyu WuAkira YamadaXun YangHuanchun YeJung YeePeter YeeSu Khiong YongChristopher YoungHeejung YuArtur ZaksHongyuan ZhangJunjian ZhangNing ZhangXin ZhangMu ZhaoQiang ZhaoJun ZhengChunhui Zh


page 7
Copyright    2012 IEEE. All rights reserved.viiThe following members of the individual balloting committee voted on this amendment. Balloters may havevoted for approval, disapproval, or abstention.Tomoko AdachiThomas AlexanderNobumitsu AmachiMark AndersonButch AntonLee R. ArmstrongAlex AshleyArthur AstrinKwok Shum AuTaehan BaeMadhusudan BanavaraRaja BanerjeaMathilde BenvenisteHarry BimsNancy BravinJohn BuffingtonWilliam BushWilliam ByrdPeter CalderonRadhakrishna CanchiWilliam CarneyDave CavalcantiClint F. ChaplinWei-Peng ChenYi-Ming ChenKeith ChowKen ClementsCharles CookTodor CooklevCarlos CordeiroJoseph DecuirPatrick DiamondThomas DineenJohn DorseySourav DuttaPeter EcclesineRichard EckardRichard EdgarStanislav FilinMatthew J. FischerMichael FischerMatthew GastDevon GaylePieter-Paul GiesbertsJames P. K. GilbReinhard GlogerSudheer A. GrandhiRandall GrovesMichael GundlachChris GuyMark HamiltonChristopher J. HansenBrian D. HartJerome HenryMarco HernandezGuido R. HiertzChung-Hsien HsuDavid HunterTetsushi IkegamiNoriyuki IkeuchiYasuhiko InoueSergiu IordanescuPaul IsaacsAkio IsoAtsushi ItoRaj JainJunghoon JeeMichael Johas TeenerHaeyoung JunPadam KafleTal KaitzNaveen K. KakaniShinkyo KakuMasahiko KanekoNoh-Gyoung KangPiotr KarockiAssaf Y. KasherStuart J. KerryBrian KiernanYongbum KimYouhan KimJarkko KnecktBruce P. KraemerThomas M. KuriharaHyukchoon KwonPaul LambertJeremy LandtJames LansfordJoseph LevyJan-Ray LiaoArthur LightRu LinErik LindskogDaniel LubarWilliam LumpkinsGreg LuriBradley LynchMichael LynchElvis MaculubaJouni K. MalinenRoger MarksJeffery MastersStephen McCannMichael McInnisSteven MethleyGary MichelMichael MontemurroJose MoralesKenichi MoriRonald MuriasRick MurphyPeter MurrayAndrew MylesNabil NasserMichael S. NewmanNick S. A. NikjooPaul NikolichJohn NotorSatoshi ObaraKnut OdmanRobert O   HaraSatoshi OyamaStephen PalmEldad PerahiaJames E. PetranovichBrian PhelpsRiku PirhonenVishakan PonnampalamVenkatesha PrasadEmily H. QiSridhar RajagopalR. K. RannowIvan ReedeEdward ReussMaximilian RiegelMark RisonBenjamin RolfeJon Walter RosdahlHerbert RuckRandall SafierJohn SanthoffShigenobu SasakiBartien SayogoIan SherlockWei ShiShusaku ShimadaTakashi ShonoGil ShultzThomas M. SiepGraham Kenneth SmithKapil SoodAmjad SoomroManikantan SrinivasanRobert StaceyDorothy StanleyKevin StantonThomas StaraiAdrian P. StephensWalter StrupplerGuenael StruttMark SturzaChin-Sean SumBo SunChen SunMohammad H. TaghaviJun Ichi TakadaJoseph TardoJens TingleffFei TongIchihiko ToyodaSolomon B. TraininHa Nguyen TranMark-Rene UchidaDmitri VarsanofievPrabodh VarshneyJohn VergisBhupender Vir


page 8
viiiCopyright    2012 IEEE. All rights reserved.When the IEEE-SA Standards Board approved this amendment on 19 October 2012, it had the followingmembership:Richard H. Hulett, ChairJohn Kulick, Vice ChairRobert M. Grow, Past ChairKonstantinos Karachalios, Secretary*Member EmeritusAlso included are the following nonvoting IEEE-SA Standards Board liaisons:Richard DeBlasio, DOE RepresentativeMichael Janezic, NIST RepresentativeMichelle TurnerIEEE Standards Program Manager, Document DevelopmentKathryn BennettIEEE Standards Program Manager, Technical Program DevelopmentGeorge A. VlantisJames June WangLei WangLisa WardKarl WeberHung-Yu WeiLudwig WinkelHarry R. WorstellJames YeeOren YuenDezhi ZhangXin ZhangDaidi ZhongSatish AggarwalMasayuki AriyoshiPeter BalmaWilliam BartleyTed BurseClint ChaplinWael DiabJean-Philippe FaureAlexander GelmanPaul Houz  Jim HughesYoung Kuyn KimJoseph L. Koepfinger*David J. LawThomas LeeHung LingOleg LogvinovTed OlsenGary RobinsonJon Walter RosdahlMike SeaveyYatin TrivediPhil WinstonYu Yua


page 9
Copyright    2012 IEEE. All rights reserved.ixIntroductionThis introduction is not part of IEEE Std 802.11ad-2012, IEEE Standard for Information technology  Telecommunications and information exchange between systems  Local and metropolitan area networks  Specificrequirements  Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications  Amendment 3: Enhancements for Very High Throughput in the 60 GHz Band.This amendment defines standardized modifications to both the IEEE 802.11 physical layers (PHYs) and theIEEE 802.11 medium access control layer (MAC) to enable operation in frequencies around 60 GHz andcapable of very high throughput


page 10
xCopyright    2012 IEEE. All rights reserved.Contents1.Overview..............................................................................................................................................21.3Supplementary information on purpose...................................................................................22.Normative references...........................................................................................................................23.Definitions, acronyms, and abbreviations............................................................................................23.1Definitions................................................................................................................................23.2Definitions specific to IEEE 802.11.........................................................................................43.3Abbreviations and acronyms....................................................................................................64.General description..............................................................................................................................94.3Components of the IEEE 802.11 architecture..........................................................................94.3.1General......................................................................................................................94.3.2aThe personal BSS (PBSS) as an ad hoc network......................................................94.3.4Distribution system (DS) concepts...........................................................................94.3.7QoS BSS: The QoS network..................................................................................114.3.17DMG STA..............................................................................................................134.3.18DMG relay..............................................................................................................134.4Logical service interfaces.......................................................................................................134.4.1General....................................................................................................................134.4.2aPBSS control point service (PCPS)........................................................................144.4.3DSS.........................................................................................................................144.5Overview of the services........................................................................................................154.5.1General....................................................................................................................154.5.3Services that support the distribution service and the PCP service........................164.5.4Access control and data confidentiality services....................................................164.7Differences between among ESS, PBSS, and IBSS LANs....................................................164.9Reference model.....................................................................................................................184.9.3Reference model for supporting multiple MAC sublayers.....................................184.9.4Reference model for multi-band operation.............................................................194.10IEEE Std 802.11 and IEEE Std 802.1X-2004........................................................................214.10.4aPBSS functional model description........................................................................214.11Generic advertisement service (GAS)....................................................................................225.MAC service definition.....................................................................................................................235.1Overview of MAC services....................................................................................................235.1.5MAC data service architecture...............................................................................235.2MAC data service specification..............................................................................................245.2.2MA-UNITDATA.request.......................................................................................246.Layer management.............................................................................................................................256.3MLME SAP interface.............................................................................................................256.3.3Scan........................................................................................................................256.3.4Synchronization......................................................................................................286.3.5Authenticate............................................................................................................296.3.7Associate.................................................................................................................316.3.8Reassociate.............................................................................................................3


page 11
Copyright    2012 IEEE. All rights reserved.xi6.3.11Start.........................................................................................................................436.3.12Stop.........................................................................................................................456.3.26TS management interface.......................................................................................466.3.29Block Ack...............................................................................................................556.3.71Network discovery and selection support...............................................................596.3.88AP PeerKey management.......................................................................................616.3.89On-channel Tunneling operation............................................................................616.3.90Multi-band operation..............................................................................................636.3.91DMG relay operation..............................................................................................716.3.92Quieting adjacent BSS operation............................................................................786.3.93DMG beamforming................................................................................................826.3.94PN event report.......................................................................................................846.5PLME SAP interface..............................................................................................................866.5.8PLME-TXTIME.confirm.......................................................................................866.5.9PLME-DMGTESTMODE.request.........................................................................866.5.10PLME-DMGTESTOUTPUT.request.....................................................................887.PHY service specification..................................................................................................................917.3Detailed PHY service specifications......................................................................................917.3.4Basic service and options.......................................................................................917.3.5PHY-SAP detailed service specification................................................................918.Frame formats....................................................................................................................................938.2MAC frame formats................................................................................................................938.2.3General frame format..............................................................................................938.2.4Frame fields............................................................................................................938.2.5Duration/ID field (QoS STA)...............................................................................1008.3Format of individual frame types.........................................................................................1018.3.1Control frames......................................................................................................1018.3.2Data frames...........................................................................................................1088.3.3Management frames.............................................................................................1118.3.4Extension frames..................................................................................................1148.4Management and Extension frame body components..........................................................1188.4.1Fields that are not information elements..............................................................1188.4.2Information elements............................................................................................1238.4aFields used in Management and Extension frame bodies and Control frames.....................1778.4a.1Sector Sweep field................................................................................................1778.4a.2Dynamic Allocation Info field..............................................................................1788.4a.3Sector Sweep Feedback field................................................................................1798.4a.4BRP Request field................................................................................................1798.4a.5Beamforming Control field..................................................................................1808.4a.6Beamformed Link Maintenance field...................................................................1828.5Action frame format details..................................................................................................1838.5.3QoS Action frame details.....................................................................................1838.5.5Block Ack Action frame details...........................................................................1888.5.7Radio Measurement action details........................................................................1898.5.8Public Action details.............................................................................................1908.5.11Protected Dual of Public Action frames...............................................................1948.5.13TDLS Action field formats...................................................................................1948.5.19Robust AV Streaming Action frame details.........................................................1958.5.20DMG Action frame details...................................................................................1958.5.21FST Action frame details......................................................................................21


page 12
xiiCopyright    2012 IEEE. All rights reserved.8.5.22Unprotected DMG Action frame details..............................................................2158.6Aggregate MPDU (A-MPDU)..............................................................................................2188.6.1A-MPDU format...................................................................................................2188.6.3A-MPDU contents................................................................................................2199.MAC sublayer functional description..............................................................................................2219.2 MAC architecture................................................................................................................2219.2.1General..................................................................................................................2219.2.2DCF......................................................................................................................2229.2.4Hybrid coordination function (HCF) ...................................................................2229.2.7Fragmentation/defragmentation overview............................................................2229.3DCF......................................................................................................................................2239.3.1General..................................................................................................................2239.3.2Procedures common to the DCF and EDCAF......................................................2239.3.3Random backoff time...........................................................................................2289.3.4DCF access procedure..........................................................................................2289.3.6Group addressed MPDU transfer procedure.........................................................2319.5Fragmentation.......................................................................................................................2319.7Multirate support..................................................................................................................2319.7.1Overview..............................................................................................................2319.7.5aMultirate support for DMG STAs........................................................................2329.7.8Modulation classes...............................................................................................2349.11A-MSDU operation..............................................................................................................2349.12A-MPDU operation..............................................................................................................2359.12.1A-MPDU contents................................................................................................2359.12.2A-MPDU length limit rules..................................................................................2359.12.3Minimum MPDU Start Spacing...........................................................................2359.12.4A-MPDU aggregation of group addressed data frames........................................2369.13PPDU duration constraint.....................................................................................................2379.13aDMG A-PPDU operation.....................................................................................................2379.18Operation across regulatory domains...................................................................................2379.18.2Operation upon entering a regulatory domain......................................................2379.18.6Operation with coverage classes...........................................................................2389.19HCF......................................................................................................................................2389.19.1General..................................................................................................................2389.19.2HCF contention-based channel access (EDCA)...................................................2399.21Block Acknowledgment (Block Ack)..................................................................................2409.21.1Introduction..........................................................................................................2409.21.2Setup and modification of the Block Ack parameters..........................................2409.21.3Data and acknowledgment transfer using immediate Block Ack policy and delayed Block Ack policy.....................................................................................2419.21.6Selection of BlockAck and BlockAckReq variants..............................................2419.21.7HT-immediate Block Ack extensions...................................................................2429.24MAC frame processing.........................................................................................................2439.24.3Duration/ID field processing................................................................................2439.25Reverse Direction protocol...................................................................................................2439.25.0aGeneral..................................................................................................................2439.25.1Reverse Direction (RD) exchange sequence........................................................2449.25.2Support for RD.....................................................................................................2449.25.3Rules for RD initiator...........................................................................................2449.25.4Rules for RD responder........................................................................................2459.26PSMP operation....................................................................................................................2469.26.0aGeneral..................................................................................................................24


page 13
Copyright    2012 IEEE. All rights reserved.xiii9.32Mesh forwarding framework................................................................................................2479.33DMG channel access............................................................................................................2479.33.1General..................................................................................................................2479.33.2Access periods within a beacon interval...............................................................2479.33.3ATI transmission rules..........................................................................................2489.33.4DTI transmission rules..........................................................................................2509.33.5Contention-based access period (CBAP) transmission rules...............................2509.33.6Channel access in scheduled DTI.........................................................................2519.33.7Dynamic allocation of service period...................................................................2599.33.8Dynamic truncation of service period..................................................................2639.33.9Dynamic extension of service period...................................................................2649.33.10Updating multiple NAV timers............................................................................2659.34DMG PCP/AP clustering......................................................................................................2689.34.1General..................................................................................................................2689.34.2Cluster formation..................................................................................................2699.34.3Cluster maintenance.............................................................................................2739.34.4Cluster report and re-scheduling...........................................................................2769.34.5Decentralized PCP/AP cluster request.................................................................2779.35DMG beamforming..............................................................................................................2789.35.1General..................................................................................................................2789.35.2Sector-level sweep (SLS) phase...........................................................................2819.35.3Beam Refinement Protocol (BRP) phase.............................................................2899.35.4Beamforming in BTI............................................................................................2939.35.5Beamforming in A-BFT.......................................................................................2949.35.6Beamforming in DTI............................................................................................2989.35.7Beam tracking.......................................................................................................3119.35.8State machines......................................................................................................3139.36DMG Block Ack with flow control......................................................................................3149.36.1General..................................................................................................................3149.36.2DMG Block Ack architecture with flow control..................................................3149.36.3Scoreboard context control with flow control......................................................3169.36.4Receive Reordering Buffer with flow control operation......................................3169.36.5Generation and transmission of BlockAck by a STA with flow control..............3189.36.6Originator   s behavior with flow control support..................................................3189.37DMG link adaptation............................................................................................................3189.37.1General..................................................................................................................3189.37.2DMG TPC.............................................................................................................3199.37.3Fast link adaptation...............................................................................................3209.38DMG dynamic tone pairing (DTP).......................................................................................3219.39DMG relay operation............................................................................................................3229.39.1General..................................................................................................................3229.39.2Link switching type..............................................................................................3229.39.3Link cooperating type...........................................................................................3269.39.4Relay link adaptation............................................................................................32810.MLME.............................................................................................................................................32910.1Synchronization....................................................................................................................32910.1.1General..................................................................................................................32910.1.2Basic approach......................................................................................................32910.1.3Maintaining synchronization................................................................................32910.1.4Acquiring synchronization, scanning...................................................................33510.1.5Adjusting STA timers...........................................................................................34110.1.7Terminating a network..........................................................................................34


page 14
xivCopyright    2012 IEEE. All rights reserved.10.2Power management...............................................................................................................34210.2.1Power management in an non-DMG infrastructure network...............................34210.2.4SM power save.....................................................................................................34210.2.5Power management in a PBSS and DMG infrastructure BSS .............................34210.3STA authentication and association.....................................................................................34910.3.1State variables.......................................................................................................34910.3.2State transition diagram for nonmesh STAs.........................................................35010.3.3Frame filtering based on STA state......................................................................35110.3.4Authentication and deauthentication....................................................................35310.3.5Association, reassociation, and disassociation.....................................................35410.3.6Additional mechanisms for an AP collocated with a mesh STA.........................36310.3.7Communicating PBSS information......................................................................36310.4TS operation.........................................................................................................................36310.4.1Introduction..........................................................................................................36310.4.2TSPEC Construction.............................................................................................36510.4.3TS life cycle..........................................................................................................36510.4.4TS Setup...............................................................................................................36610.4.7Failed TS Setup....................................................................................................36910.4.8Data Transfer........................................................................................................36910.4.9TS Deletion...........................................................................................................37010.4.10TS Timeout...........................................................................................................37010.4.13DMG allocation formats.......................................................................................37210.4.14PTP TS Operation.................................................................................................37310.5Block Ack operation.............................................................................................................37310.5.2Setup and modification of the Block Ack parameters..........................................37310.7DLS operation.......................................................................................................................37410.7.1General..................................................................................................................37410.8 TPC procedures...................................................................................................................37510.8.1General..................................................................................................................37510.8.2Association based on transmit power capability..................................................37510.8.4Specification of regulatory and local maximum transmit power levels...............37510.8.6Adaptation of the transmit power.........................................................................37610.9 DFS procedures...................................................................................................................37610.9.1General..................................................................................................................37610.9.2 Association based on supported channels...........................................................37710.9.3Quieting channels for testing ...............................................................................37710.9.7Requesting and reporting of measurements .........................................................37710.9.8Selecting and advertising a new channel..............................................................37810.11Radio measurement procedures............................................................................................37910.11.6Requesting and reporting of measurements..........................................................37910.11.8Triggered autonomous reporting..........................................................................37910.11.11Link Measurement................................................................................................37910.11.14Multiple BSSID Set..............................................................................................38010.11.16Access Delay Measurement..................................................................................38010.22Tunneled direct-link setup....................................................................................................38010.22.1General..................................................................................................................38010.23Wireless network management procedures..........................................................................38010.23.14Channel usage procedures....................................................................................38010.23.15Group addressed transmission service..................................................................38110.24WLAN interworking with external networks procedures....................................................38210.24.3Interworking procedures: generic advertisement service (GAS)..........................38210.27Procedures to manage OBSS................................................................................................38210.28DMG beamformed link and BSS maintenance....................................................................38210.28.1Beamformed link maintenance.............................................................................38


page 15
Copyright    2012 IEEE. All rights reserved.xv10.28.2PCP Handover......................................................................................................38510.29 DMG BSS peer and service discovery................................................................................38710.29.1Information Request and Response......................................................................38710.29.2Peer Service Discovery.........................................................................................38710.30 Changing DMG BSS parameters.........................................................................................38810.30.1General..................................................................................................................38810.30.2Moving the TBTT.................................................................................................38810.30.3Changing beacon interval duration.......................................................................38910.30.4Maintaining synchronization in a PCP/AP cluster...............................................39010.30.5Recommending DMG BSS parameters to the PCP/AP........................................39010.31Spatial sharing and interference mitigation for DMG STAs................................................39110.31.1General..................................................................................................................39110.31.2Spatial sharing and interference assessment.........................................................39110.31.3Achieving spatial sharing and interference mitigation.........................................39310.31.4PBSS and infrastructure BSS stability in OBSS scenarios...................................39410.32 Multi-band operation...........................................................................................................39410.32.1General..................................................................................................................39410.32.2FST setup protocol................................................................................................39610.32.3FST teardown.......................................................................................................40510.32.4On-channel Tunneling (OCT) operation..............................................................40510.32.5FST payload..........................................................................................................40710.33 MMSL cluster operation......................................................................................................40710.33.1Introduction..........................................................................................................40710.33.2MMSL cluster setup.............................................................................................40810.34DMG coexistence with non-IEEE-802.11 systems..............................................................40910.35DMG relay procedures.........................................................................................................41010.35.1General..................................................................................................................41010.35.2Common relay setup procedures..........................................................................41110.35.3Relay operation-type change procedure...............................................................41210.35.4Relay teardown.....................................................................................................41310.36Quieting adjacent DMG BSSs..............................................................................................41310.36.1General..................................................................................................................41310.36.2Procedure at the requester AP..............................................................................41410.36.3Procedure at the responder AP.............................................................................41410.37DMG beamforming..............................................................................................................41410.38DMG MAC sublayer parameters..........................................................................................41711.Security............................................................................................................................................41911.1Framework............................................................................................................................41911.1.2Security methods..................................................................................................41911.1.3RSNA equipment and RSNA capabilities............................................................41911.1.4RSNA establishment.............................................................................................41911.4RSNA confidentiality and integrity protocols .....................................................................42111.4.1Overview..............................................................................................................42111.4.3CTR with CBC-MAC Protocol (CCMP)..............................................................42111.4.4Broadcast/Multicast Integrity Protocol (BIP).......................................................42111.4.5GCM with Galois Message Authentication Code (GMAC) Protocol (GCMP)...42111.5RSNA security association management..............................................................................42711.5.1Security associations.............................................................................................42711.5.2RSNA selection....................................................................................................42811.5.7aRSNA policy selection in a PBSS........................................................................42811.5.8RSNA management of the IEEE 802.1X Controlled Port....................................42811.5.11aRSNA authentication in a PBSS...........................................................................42


page 16
xviCopyright    2012 IEEE. All rights reserved.11.5.14aRSNA key management in a PBSS......................................................................42911.5.15RSNA security association termination................................................................42911.5.18RSNA rekeying.....................................................................................................42911.5.19Multi-band RSNA ................................................................................................43011.6Keys and key distribution.....................................................................................................43311.6.2EAPOL-Key frames.............................................................................................43311.6.64-Way Handshake.................................................................................................43411.7Mapping EAPOL keys to IEEE 802.11 keys.......................................................................43511.7.8Mapping PTK to GCMP keys..............................................................................43513.MLME mesh procedures.................................................................................................................43713.1Mesh STA dependencies......................................................................................................43721.Directional multi-gigabit (DMG) PHY specification......................................................................43921.1DMG PHY introduction.......................................................................................................43921.1.1Scope....................................................................................................................43921.1.2DMG PHY functions............................................................................................43921.2DMG PHY service interface.................................................................................................44021.2.1Introduction..........................................................................................................44021.2.2TXVECTOR and RXVECTOR parameters.........................................................44021.2.3TXSTATUS parameters.......................................................................................44221.3Common parameters.............................................................................................................44321.3.1Channelization......................................................................................................44321.3.2Transmit mask .....................................................................................................44321.3.3Common requirements ........................................................................................44321.3.4Timing-related parameters....................................................................................44621.3.5Mathematical conventions in the signal description.............................................44721.3.6Common preamble...............................................................................................44821.3.7HCS calculation for headers of control PHY, OFDM PHY, and SC PHY..........45121.3.8Common LDPC parity matrices...........................................................................45121.3.9Scrambler..............................................................................................................45321.3.10Received channel power indicator (RCPI) measurement.....................................45421.4DMG control PHY................................................................................................................45421.4.1Introduction..........................................................................................................45421.4.2Frame format........................................................................................................45421.4.3Transmission.........................................................................................................45521.4.4Performance requirements ...................................................................................45821.5DMG OFDM PHY...............................................................................................................45921.5.1Introduction..........................................................................................................45921.5.2Frame format........................................................................................................45921.5.3Transmission.........................................................................................................45921.5.4Performance requirements ...................................................................................46821.6DMG SC PHY......................................................................................................................47021.6.1Introduction..........................................................................................................47021.6.2Frame format........................................................................................................47021.6.3Transmission.........................................................................................................47021.6.4Performance requirements ...................................................................................47721.7DMG low-power SC PHY....................................................................................................47821.7.1Introduction..........................................................................................................47821.7.2Transmission.........................................................................................................47921.8PLCP transmit procedure......................................................................................................48221.9PLCP receive procedure.......................................................................................................48


page 17
Copyright    2012 IEEE. All rights reserved.xvii21.10Beamforming........................................................................................................................48721.10.1Beamforming concept...........................................................................................48721.10.2Beamforming PHY frame format.........................................................................48721.11Golay sequences...................................................................................................................49021.12DMG PLME.........................................................................................................................49121.12.1PLME_SAP sublayer management primitives.....................................................49121.12.2DMG PHY MIB...................................................................................................49121.12.3TXTIME calculation.............................................................................................49221.12.4PHY characteristics..............................................................................................49221.13DMG PMD sublayer.............................................................................................................49421.13.1Scope and field of application..............................................................................49421.13.2Overview of service..............................................................................................49421.13.3Overview of interactions......................................................................................49421.13.4Basic service and options.....................................................................................49421.13.5PMD_SAP detailed service specification.............................................................495Annex B (normative) Protocol Implementation Conformance Statement (PICS) proforma.......................499B.4PICS proforma......................................................................................................................499B.4.3IUT configuration.................................................................................................499B.4.4MAC protocol.......................................................................................................500B.4.14QoS base functionality..........................................................................................505B.4.15QoS enhanced distributed channel access (EDCA)..............................................506B.4.17Radio management extensions.............................................................................507B.4.26DMG features.....................................................................................................508Annex C (normative) ASN.1 encoding of the MAC and PHY MIB...........................................................517C.3MIB Detail............................................................................................................................517Annex E (normative) Country elements and operating classes...................................................................539E.1Country information and operating classes..........................................................................539Annex H (normative) Usage of Ethertype 89-0d.........................................................................................541Annex L (informative) Examples of encoding a frame for OFDM PHYs and DMG PHYs.......................543L.4DMG example data vectors..................................................................................................543L.5DMG Example 1    CPHY encoding....................................................................................544L.5.1CPHY preamble....................................................................................................544L.5.2CPHY header........................................................................................................545L.5.3CPHY payload......................................................................................................547L.6DMG Example 2    SC PHY encoding.................................................................................548L.6.1sC PHY Preamble.................................................................................................548L.6.2SC PHY header.....................................................................................................549L.6.3SC PHY payload...................................................................................................552L.7DMG Example 3    OFDM PHY encoding..........................................................................557L.7.1OFDM PHY preamble..........................................................................................557L.7.2OFDM PHY header coding..................................................................................558L.7.3OFDM PHY header modulation...........................................................................560L.7.4OFDM PHY payload coding................................................................................561L.7.5OFDM PHY MCS14 payload modulation...........................................................562L.7.6OFDM PHY MCS17 payload modulation...........................................................56


page 18
xviiiCopyright    2012 IEEE. All rights reserved.L.7.7OFDM PHY MCS19 payload modulation...........................................................566L.7.8OFDM PHY MCS23 payload modulation...........................................................568L.8DMG Example 4    LP SC PHY encoding...........................................................................569L.8.1LP SC PHY preamble...........................................................................................569L.8.2LP SC PHY header...............................................................................................570L.8.3LP SC PHY MCS26 payload................................................................................573L.8.4LP SC PHY MCS30 payload................................................................................574Annex M (informative) RSNA reference implementations and test vectors...............................................577M.11GCMP...................................................................................................................................577M.11.1Test vector............................................................................................................577M.11.2Example of encryption C code.............................................................................579Annex N (informative) Admission control..................................................................................................593N.3Guidelines and reference design for sample scheduler and admission control unit.............593N.3.3Reference design for sample scheduler and admission control unit.....................593Annex Y (informative) Functions of the centralized coordination service root (CCSR)............................595Annex Z (informative) TSPEC aggregation for DMG BSSs......................................................................59


page 19
Copyright    2012 IEEE. All rights reserved.xixTablesTable 6-1  Supported TS management primitives.......................................................................................46Table 7-4  Vector descriptions.....................................................................................................................91Table 8-0a  Maximum MSDU and A-MSDU sizes.....................................................................................93Table 8-1  Valid type and subtype combinations........................................................................................94Table 8-1a  Control Frame Extension..........................................................................................................94Table 8-2  To/From DS combinations in data frame...................................................................................95Table 8-3  Duration/ID field encoding........................................................................................................97Table 8-4a  QoS Control field for frames transmitted within a DMG PPDU.............................................98Table 8-5  TID subfield...............................................................................................................................98Table 8-6  Ack Policy subfield in QoS Control field of QoS data frames..................................................99Table 8-16  BlockAckReq frame variant encoding...................................................................................102Table 8-15  BAR Ack Policy subfield.......................................................................................................102Table 8-18  BlockAck frame variant encoding..........................................................................................103Table 8-17  BA Ack Policy subfield..........................................................................................................103Table 8-19  Address field contents............................................................................................................108Table 8-20  Beacon frame body.................................................................................................................111Table 8-22  Association Request frame body............................................................................................111Table 8-23  Association Response frame body.........................................................................................112Table 8-24  Reassociation Request frame body.........................................................................................112Table 8-25  Reassociation Response frame body......................................................................................113Table 8-26  Probe Request frame body.....................................................................................................113Table 8-27  Probe Response frame body...................................................................................................114Table 8-28  Authentication frame body.....................................................................................................114Table 8-33a  DMG Beacon frame body.....................................................................................................115Table 8-37  Status codes............................................................................................................................119Table 8-38  Category values.....................................................................................................................120Table 8-53a  Band ID field........................................................................................................................122Table 8-53b  The BSS Type subfield.........................................................................................................122Table 8-54  Element IDs............................................................................................................................123Table 8-59  Measurement Type definitions for measurement requests.....................................................125Table 8-80a  Optional Subelement IDs for directional channel quality request........................................126Table 8-80b  Reporting Condition for Directional Channel Quality Report.............................................127Table 8-81  Measurement Type definitions for measurement reports ......................................................129Table 8-98a  Optional Subelement IDs for directional channel quality report..........................................130Table 8-98b  Optional Subelement IDs for directional measurement report.............................................131Table 8-98c  Optional Subelement IDs for directional statistics report....................................................133Table 8-99  Cipher suite selectors..............................................................................................................133Table 8-100  Cipher suite usage................................................................................................................133Table 8-103  Capabilities field...................................................................................................................134Table 8-107  Direction subfield encoding.................................................................................................135Table 8-108  Access Policy subfield..........................................................................................................135Table 8-110a  Reliability subfield values..................................................................................................137Table 8-122  Timeout Interval Type field value........................................................................................138Table 8-183f  Subfields of the A-MPDU Parameters field.......................................................................142Table 8-183g  FBCK-REQ field description.............................................................................................147Table 8-183h  FBCK-TYPE field description...........................................................................................148Table 8-183i  AllocationType field values................................................................................................150Table 8-183k  Allocation Period values....................................................................................................153Table 8-183j  Allocation Format values....................................................................................................153Table 8-183l  TSCONST Period values....................................................................................................154Table 8-183m  Channel Measurement Feedback element format ...........................................................155Table 8-183n  Channel measurement........................................................................................................15


page 20
xxCopyright    2012 IEEE. All rights reserved.Table 8-183o  STA Role field values........................................................................................................158Table 8-183p  Activity field values...........................................................................................................162Table 8-183q  Session Type field format...................................................................................................165Table 8-183r  DTP Report element format................................................................................................166Table 8-183s  MMS Element Owner field definition................................................................................172Table 8-183t  Single AID field definition..................................................................................................173Table 8-183u  LLC Header Copy field size...............................................................................................174Table 8-190a  Encoding of BeamLink Maintenance Unit Index...............................................................182Table 8-192a  Encoding of the ADDTS Request frame variant................................................................183Table 8-192b  Encoding of the ADDTS Response frame variant.............................................................183Table 8-190b  The Beamformed Link Maintenance negotiation...............................................................183Table 8-193  Basic ADDTS Request frame variant Action field format...................................................184Table 8-193a  DMG ADDTS Request frame variant Action field format................................................184Table 8-194  Basic ADDTS Response frame variant Action field format................................................186Table 8-194a  DMG ADDTS Response frame variant Action field format..............................................186Table 8-195  DELTS frame Action field format.......................................................................................187Table 8-203  ADDBA Request frame Action field format........................................................................188Table 8-204  ADDBA Response frame Action field format.....................................................................188Table 8-205  DELBA frame Action field format......................................................................................189Table 8-208  Optional Subelement IDs for Link Measurement Report frame..........................................189Table 8-210  Public Action field values....................................................................................................190Table 8-216  GAS Initial Request frame body format...............................................................................190Table 8-217  GAS Initial Response frame body format............................................................................191Table 8-218  GAS Comeback Request frame body format.......................................................................191Table 8-219  GAS Comeback Response frame body format.....................................................................192Table 8-220  Information for TDLS Discovery Response frame..............................................................192Table 8-221e  QAB Response frame Action field format.........................................................................193Table 8-221d  QAB Request frame Action field format...........................................................................193Table 8-228  Public Action field values defined for Protected Dual of Public Action frames..................194Table 8-239  Information for TDLS Setup Request Action field..............................................................194Table 8-240  Information for TDLS Setup Response Action field............................................................194Table 8-249  Information for TDLS Discovery Request Action field.......................................................195Table 8-281b  DMG Action field values...................................................................................................195Table 8-281c  Power Save Configuration Request frame Action field format..........................................196Table 8-281e  Information Request frame Action field format.................................................................197Table 8-281d  Power Save Configuration Response frame Action field format.......................................197Table 8-281f  Information Response frame Action field format...............................................................198Table 8-281g  Handover Request frame Action field format....................................................................199Table 8-281h  Handover Response frame Action field format..................................................................200Table 8-281i  Relay Search Request frame Action field format................................................................201Table 8-281j  Relay Search Response frame Action field format.............................................................201Table 8-281k  Multi-relay Channel Measurement Request frame Action field format.............................202Table 8-281l  Multi-relay Channel Measurement Report frame Action field format................................203Table 8-281m  RLS Request frame Action field format...........................................................................204Table 8-281o  RLS Announcement frame Action field format.................................................................205Table 8-281n  RLS Response frame Action field format..........................................................................205Table 8-281p  RLS Teardown frame Action field format.........................................................................206Table 8-281q  Relay ACK Request frame Action field format.................................................................206Table 8-281r  Relay ACK Response frame Action field format...............................................................207Table 8-281s  TPA Request frame Action field format.............................................................................208Table 8-281t  TPA Response frame Action field format...........................................................................208Table 8-281u  TPA Report frame Action field format..............................................................................209Table 8-281v  ROC Request frame Action field format............................................................................209Table 8-281w  ROC Response frame Action field format........................................................................21


page 21
Copyright    2012 IEEE. All rights reserved.xxiTable 8-281y  FST Setup Request frame Action field format...................................................................211Table 8-281x  FST Action field values......................................................................................................211Table 8-281z  FST Setup Response frame Action field format.................................................................212Table 8-281aa  FST Tear Down frame Action field format......................................................................213Table 8-281ab  FST Ack Request frame Action field format...................................................................213Table 8-281ac  FST Ack Response frame Action field format.................................................................214Table 8-281ad  On-channel Tunnel Request frame Action field format...................................................215Table 8-281af  Announce frame Action field format................................................................................216Table 8-281ae  Unprotected DMG Action field values.............................................................................216Table 8-281ag  BRP frame Action field format........................................................................................217Table 8-282  MPDU delimiter fields (non-DMG).....................................................................................218Table 8-282a  MPDU delimiter fields (DMG)..........................................................................................218Table 8-284  A-MPDU contents in the data enabled immediate response context...................................219Table 8-287  A-MPDU contents MPDUs in the control response context................................................220Table 9-4  Modulation classes...................................................................................................................234Table 9-16  Mandatory and optional procedures in the Beamforming mechanism...................................279Table 10-1a  Power management states for an Awake BI.........................................................................343Table 10-1b  Power management states for a Doze BI..............................................................................344Table 10-2a  Types of Block Ack agreement based on capabilities and ADDBA conditions for DMG STAs..................................................................................................................................................374Table 10-4  Allowed Measurement Requests............................................................................................378Table 10-6  Allowed Measurement Requests............................................................................................379Table 10-15  Exceptions for the initiator...................................................................................................399Table 10-16  FST status at state transition.................................................................................................401Table 10-17  Setting of Single AID field...................................................................................................408Table 10-18  DMG MAC sublayer parameter values................................................................................417Table 11-4  Cipher suite key lengths.........................................................................................................433Table 11-6  KDE........................................................................................................................................433Table 21-1  TXVECTOR and RXVECTOR parameters...........................................................................440Table 21-2  TXSTATUS parameters.........................................................................................................442Table 21-3  Receiver sensitivity................................................................................................................445Table 21-4  Timing-related parameters.....................................................................................................446Table 21-5  Frequently used parameters....................................................................................................446Table 21-6  Rate 1/2 LDPC code matrix (Each nonblank element i in the table is the cyclic permutation matrix Pi of size Z    Z; blank entries represent the zero matrix of size Z    Z).................................................................................452Table 21-7  Rate 5/8 LDPC code matrix (Each nonblank element i in the table is the cyclic permutation matrix Pi of size Z    Z; blank entries represent the zero matrix of size Z    Z).................................................................................452Table 21-8  Rate 3/4 LPDC code matrix (Each nonblank element i in the table is the cyclic permutation matrix Pi of size Z    Z; blank entries represent the zero matrix of size Z    Z).................................................................................453Table 21-9  Rate 13/16 LDPC code matrix (Each nonblank element i in the table is the cyclic permutation matrix Pi of size Z    Z; blank entries represent the zero matrix of size Z    Z).................................................................................453Table 21-10  Modulation and coding scheme for the control PHY...........................................................454Table 21-11  Control PHY header fields...................................................................................................456Table 21-12  EVM requirement for control PHY......................................................................................458Table 21-13  OFDM header fields............................................................................................................459Table 21-14  Modulation and coding scheme for OFDM.........................................................................461Table 21-15  LDPC code rates...................................................................................................................463Table 21-16  EVM requirements for OFDM.............................................................................................469Table 21-17  SC header fields....................................................................................................................470Table 21-18  Modulation and coding scheme for SC................................................................................47


page 22
xxiiCopyright    2012 IEEE. All rights reserved.Table 21-19  LDPC code rates...................................................................................................................473Table 21-20  Values of NCBPB................................................................................................................476Table 21-21  EVM requirements for SC PHY...........................................................................................477Table 21-22  Low-power SC modulation and coding schemes.................................................................479Table 21-23  Zero filling for SC BRP packets...........................................................................................488Table 21-24  The sequence Ga128(n)........................................................................................................490Table 21-25  The sequence Gb128(n)........................................................................................................490Table 21-26  The sequence Ga64(n)..........................................................................................................491Table 21-27  The sequence Gb64(n)..........................................................................................................491Table 21-28  The sequence Ga32(n)..........................................................................................................491Table 21-29  The sequence Gb32(n)..........................................................................................................491Table 21-31  DMG PHY characteristics....................................................................................................492Table 21-30  DMG PHY MIB attribute default values.............................................................................492Table 21-32  PMD_SAP peer-to-peer service primitives..........................................................................494Table 21-33  PMD_SAP sublayer-to-sublayer service primitives.............................................................495Table E-1  Operating classes in the United States.....................................................................................539Table E-2  Operating classes in Europe.....................................................................................................539Table E-3  Operating classes in Japan.......................................................................................................539Table E-4  Global operating classes..........................................................................................................540Table H-1  Payload Type field values.......................................................................................................541Table L-43  CPHY header settings............................................................................................................546Table L-44  SC PHY header settings.........................................................................................................550Table L-45  OFDM PHY header settings..................................................................................................559Table L-46  LP SC PHY header settings...................................................................................................57


page 23
Copyright    2012 IEEE. All rights reserved.xxiiiFiguresFigure 4-3a  CCSS and ECPAC..................................................................................................................11Figure 4-10a  DMG relay in a DMG BSS...................................................................................................14Figure 4-11  Complete IEEE 802.11 architecture........................................................................................15Figure 4-12  IEEE 802.11 architecture (again)............................................................................................17Figure 4-13a  Logical architecture of a PBSS.............................................................................................17Figure 4-16a  Reference model for supporting multiple MAC sublayers...................................................18Figure 4-16b  Reference model for a multi-band capable device (transparent FST)...................................19Figure 4-16c  Reference model for a multi-band capable device (nontransparent FST).............................20Figure 4-23a  Example of RSNA setup in a PBSS......................................................................................22Figure 5-2  MAC data plane architecture (transparent FST).......................................................................24Figure 6-25b  Operation of OCT.................................................................................................................61Figure 6-27  PN23 Generator.......................................................................................................................88Figure 8-2  Frame Control field when Type is not equal to 1 or Subtype is not equal to 6........................93Figure 8-2a  Frame Control field when Type is equal to 1 and Subtype is equal to 6................................94Figure 8-28b  BA information field (Extended Compressed BlockAck)..................................................103Figure 8-29a  Poll frame format................................................................................................................104Figure 8-29b  SPR frame format................................................................................................................104Figure 8-29c  Grant frame format..............................................................................................................105Figure 8-29d  DMG CTS frame format.....................................................................................................105Figure 8-29f  SSW frame format...............................................................................................................106Figure 8-29g  SSW-Feedback frame format..............................................................................................106Figure 8-29e  DMG DTS frame format.....................................................................................................106Figure 8-29h  SSW-ACK frame format.....................................................................................................107Figure 8-29i  Grant ACK frame format.....................................................................................................107Figure 8-32  Basic A-MSDU subframe structure......................................................................................109Figure 8-33a  Short A-MSDU subframe structure.....................................................................................110Figure 8-34a  DMG Beacon frame format.................................................................................................114Figure 8-34b  Beacon Interval Control field..............................................................................................116Figure 8-34c  Clustering Control field format if the Discovery Mode field is 0.......................................117Figure 8-34d  Clustering Control field format if the Discovery Mode field is 1.......................................117Figure 8-38  Capability Information field (non-DMG STA).....................................................................118Figure 8-38a  Capability Information field (DMG STA)..........................................................................118Figure 8-80b  Relay Capable STA Info field.............................................................................................121Figure 8-80c  DMG Parameters.................................................................................................................122Figure 8-139a  Measurement request field format for directional channel quality request.......................125Figure 8-139b  Directional Channel Quality Reporting Information data field format.............................126Figure 8-139c  Measurement Request field format for directional measurement request.........................127Figure 8-139d  Measurement Request field format for directional statistics request................................128Figure 8-139e  Directional Statistics Bitmap field format.........................................................................128Figure 8-182a  Measurement report field format for directional channel quality report...........................129Figure 8-182b  Measurement Report field format for directional measurement report............................130Figure 8-182c  Measurement Results field format....................................................................................131Figure 8-182d  Measurement Report field format for directional statistics report....................................132Figure 8-196  TSPEC element format (non-DMG)...................................................................................134Figure 8-196a  TSPEC element format (DMG).........................................................................................134Figure 8-198a  DMG Attributes field format.............................................................................................136Figure 8-321  Nontransmitted BSSID Capability element format............................................................139Figure 8-321a  DMG BSS Control field format........................................................................................139Figure 8-401l  DMG BSS Parameter Change element format..................................................................140Figure 8-401m  Change Type Bitmap field format...................................................................................140Figure 8-401o  DMG STA Capability Information field format...............................................................141Figure 8-401n  DMG Capabilities element format....................................................................................14


page 24
xxivCopyright    2012 IEEE. All rights reserved.Figure 8-401p  A-MPDU parameters field format....................................................................................142Figure 8-401q  Supported MCS Set field format.......................................................................................143Figure 8-401r  DMG PCP/AP Capability Information field format..........................................................144Figure 8-401s  DMG Operation element format.......................................................................................145Figure 8-401t  DMG Operation Information field format.........................................................................145Figure 8-401u  DMG BSS Parameter Configuration field format.............................................................145Figure 8-401v  DMG Beam Refinement element format..........................................................................146Figure 8-401w  FBCK-REQ field format..................................................................................................147Figure 8-401x  FBCK-TYPE field format.................................................................................................148Figure 8-401z  Extended Schedule element format...................................................................................149Figure 8-401aa  Allocation field format....................................................................................................149Figure 8-401y  Wakeup Schedule element format....................................................................................149Figure 8-401ab  Allocation Control field format.......................................................................................150Figure 8-401ac  STA availability element format.....................................................................................151Figure 8-401ad  STA Info field format......................................................................................................151Figure 8-401ae  DMG TSPEC element format.........................................................................................152Figure 8-401af  DMG Allocation Info field format...................................................................................152Figure 8-401ag  Traffic Scheduling Constraint field format.....................................................................154Figure 8-401ah  Constraint subfield format...............................................................................................154Figure 8-401ai  Next DMG ATI element format.......................................................................................155Figure 8-401aj  Awake Window element format......................................................................................157Figure 8-401ak  Multi-band element format .............................................................................................158Figure 8-401al  Multi-band Control field format ......................................................................................158Figure 8-401an  ADDBA Extension element format................................................................................160Figure 8-401am  Multi-band Connection Capability field format.............................................................160Figure 8-401ap  Next PCP List element format........................................................................................161Figure 8-401aq  PCP Handover element format........................................................................................161Figure 8-401ao  ADDBA Capabilities field format...................................................................................161Figure 8-401ar  DMG Link Margin element format..................................................................................162Figure 8-401as  DMG Link Adaptation Acknowledgment element format..............................................163Figure 8-401at  Switching Stream element format....................................................................................163Figure 8-401au  Switching parameters field format..................................................................................164Figure 8-401aw  Session Control field format...........................................................................................165Figure 8-401av  Session Transition element format..................................................................................165Figure 8-401ax  Cluster Report element format........................................................................................167Figure 8-401ay  Cluster Report Control field format................................................................................167Figure 8-401az  Relay capabilities element format...................................................................................168Figure 8-401ba  Relay Capabilities Info field format................................................................................168Figure 8-401bb  Relay Transfer Parameter Set element format................................................................169Figure 8-401bc  Relay Transfer Parameter field format............................................................................169Figure 8-401bd  Quiet Period Request element format.............................................................................170Figure 8-401be  Quiet Period Response element format...........................................................................171Figure 8-401bf  BeamLink Maintenance element format.........................................................................171Figure 8-401bg  MMS element format......................................................................................................172Figure 8-401bh  MMS Control field format..............................................................................................172Figure 8-401bj  ECPAC Policy element format........................................................................................174Figure 8-401bi  Upper layer protocol identification (U-PID) element format..........................................174Figure 8-401bk  ECPAC Policy Detail field format..................................................................................175Figure 8-401bm  Antenna Sector ID Pattern element format....................................................................176Figure 8-401bl  Cluster Time Offset element format................................................................................176Figure 8-401bn  Sequence Generator 1.....................................................................................................177Figure 8-401bo  Sequence Generator 2.....................................................................................................177Figure 8-431a  SSW field format...............................................................................................................177Figure 8-431b  Dynamic Allocation Info field format..............................................................................17


page 25
Copyright    2012 IEEE. All rights reserved.xxvFigure 8-431c  SSW Feedback field format when transmitted as part of an ISS......................................179Figure 8-431d  SSW Feedback field format when not transmitted as part of an ISS................................179Figure 8-431e  BRP Request field format ................................................................................................180Figure 8-431f  BF Control field format when both IsInitiatorTXSS and IsResponderTXSS subfields are equal to 1 and the BF Control field is transmitted in Grant or Grant ACK frames...............................181Figure 8-431g  BF Control field format in all other cases.........................................................................181Figure 8-431h  Beamformed Link Maintenance field format....................................................................182Figure 8-502f  DTP Request frame Action field format............................................................................200Figure 8-502g  DTP Report frame Action field format.............................................................................200Figure 8-502h  Channel Measurement Info field format...........................................................................203Figure 8-502i  Relay Operation Type field format....................................................................................210Figure 8-502j  Definition of OCT MMPDU..............................................................................................215Figure 8-505  MPDU delimiter (non-DMG).............................................................................................218Figure 8-505a  MPDU delimiter (DMG)...................................................................................................218Figure 9-1  MAC architecture....................................................................................................................221Figure 9-12a  Example topology of NAV setting in DMG STAs ............................................................229Figure 9-12b  Backoff procedure for DMG STAs ....................................................................................229Figure 9-43  Example of access periods within a beacon interval.............................................................248Figure 9-44  Example of frame exchanges during the ATI.......................................................................248Figure 9-45  The guard time......................................................................................................................255Figure 9-46  Example of dynamic allocation of service period mechanism..............................................261Figure 9-47  Decentralized PCP/AP clustering for 3 PCPs/APs...............................................................270Figure 9-48  An example of beamforming training...................................................................................278Figure 9-49  An example of SLS...............................................................................................................282Figure 9-50  An example of SLS...............................................................................................................282Figure 9-51  Initiator TXSS or Initiator RXSS..........................................................................................284Figure 9-52  Responder TXSS or Responder RXSS.................................................................................286Figure 9-53  An example of a beam refinement transaction......................................................................290Figure 9-54  Example of BRP setup subphase procedure (SLS in BTI and A-BFT)................................292Figure 9-55  Example of BRP setup subphase procedure (SLS in DTI)...................................................293Figure 9-56  A-BFT structure....................................................................................................................295Figure 9-57  SSW slot (aSSSlotTime) definition......................................................................................295Figure 9-58  Example of time allocation for the MIDC subphase withMIDandBCsubphases.............300Figure 9-59  Example of time allocation for the MIDC subphase withtheMIDsubphaseonly..............300Figure 9-60  Example of the use of the BRP setup subphase to set up the subsequent MIDC subphase in the A-BFT and DTI.................................................................................................................................301Figure 9-61  Example of the use of the BRP setup subphase to set up the subsequent MIDC subphase in the DTI.....................................................................................................................................................301Figure 9-62  Conceptual flow of a sample MIDC subphase execution with MID and BC subphases for the initiator link......................................................................................................................................302Figure 9-63  Examples of the use of the MID Extension field during the execution of the MID subphase..................................................................................................305Figure 9-64  Beam combining...................................................................................................................306Figure 9-65  Conceptual flow of a sample MIDC subphase execution with only the MID subphase for the initiator link......................................................................................................................................306Figure 9-66  Example of the use of the BRP setup subphase to set up the subsequent I-MID subphase..307Figure 9-67  Example beam refinement transaction (receive training).....................................................310Figure 9-68  Example beam refinement transaction (transmit training)....................................................310Figure 9-69  Example beam refinement transaction (combination of receive and transmit training).......311Figure 9-70  Example of a beam tracking procedure with the initiator requesting TRN-R......................312Figure 9-71  Example of a beam tracking procedure with the initiator requesting TRN-T.......................312Figure 9-72  SLS phase state machine (initiator)......................................................................................313Figure 9-73  SLS phase state machine (responder)...................................................................................314Figure 9-74  DMG Block Ack architecture...............................................................................................31


page 26
xxviCopyright    2012 IEEE. All rights reserved.Figure 9-75  Flow control and its associated parameters as a function of receiver buffer size.................315Figure 9-76  Example of the fast link adaptation procedure......................................................................321Figure 9-77  Example of Normal mode operation with FD-AF relay.......................................................324Figure 9-78  Example of the operation with HD-DF relay........................................................................325Figure 9-79  TPA mechanism....................................................................................................................326Figure 9-80  Example of data transmission in an SP with link cooperating relay.....................................328Figure 10-1a  Example of DMG Beacon transmission by PCP/AP during the BTI..................................331Figure 10-3a  Active scanning for DMG STAs.........................................................................................339Figure 10-3b  PCP Factor for a DMG STA...............................................................................................339Figure 10-5a  State transition diagram of non-PCP/non-AP STA in Active and Power Save Mode........345Figure 10-5b  State Transition Diagram of PCP Power Management Mode............................................348Figure 10-5c  Example operation of PPS mode.........................................................................................349Figure 10-6  Relationships between state and services..............................................................................350Figure 10-28  Example of beamformed link maintenance........................................................................384Figure 10-29  Moving the TBTT position.................................................................................................389Figure 10-30  Changing beacon interval duration.....................................................................................390Figure 10-31  Example of spatial sharing assessment...............................................................................392Figure 10-32  Example of spatial sharing between SP1 and SP2..............................................................393Figure 10-33  Procedure of the FST setup protocol...................................................................................397Figure 10-34  States of the FST setup protocol.........................................................................................398Figure 10-35  On-channel tunneling procedure.........................................................................................406Figure 10-36  Quieting adjacent BSS operation........................................................................................415Figure 10-37  Beamforming training procedure in the DTI......................................................................416Figure 10-38  Beamforming training when joining an infrastructure BSS or PBSS.................................416Figure 11-23a  Expanded GCMP MPDU..................................................................................................422Figure 11-23b  GCMP encapsulation block diagram................................................................................423Figure 11-23c  Nonce construction............................................................................................................424Figure 11-23d  GCMP decapsulation block diagram................................................................................425Figure 11-39a  Multi-band GTK KDE......................................................................................................433Figure 11-39b  Multi-band Key ID KDE...................................................................................................433Figure 21-1  Transmit mask ......................................................................................................................443Figure 21-2  Packet structure.....................................................................................................................447Figure 21-3  Illustration of windowing function.......................................................................................448Figure 21-4  SC preamble..........................................................................................................................449Figure 21-5  Channel Estimation field for SC packets .............................................................................450Figure 21-6  Channel Estimation field for OFDM packets.......................................................................450Figure 21-7  Data scrambler......................................................................................................................453Figure 21-8  Control PHY frames..............................................................................................................455Figure 21-9  Control PHY preamble..........................................................................................................455Figure 21-10  OFDM frame format...........................................................................................................459Figure 21-11  64-QAM modulation mapping............................................................................................465Figure 21-12  SC frame format..................................................................................................................470Figure 21-13  BPSK constellation bit encoding........................................................................................475Figure 21-14  QPSK constellation bit encoding........................................................................................475Figure 21-15  16-QAM constellation bit encoding....................................................................................476Figure 21-16  Block transmission..............................................................................................................477Figure 21-17  Blocking for low-power SC................................................................................................482Figure 21-18  PLCP transmit procedure....................................................................................................483Figure 21-19  Typical Tx state machine (Training Length=0 is assumed; some optional features such as SC low-power PHY are not shown)................................................................................................484Figure 21-20  PLCP receive procedure......................................................................................................485Figure 21-21  Typical Rx state machine (some optional features such as  low-power SC PHY are not shown)....................................................................................................................................................486Figure 21-22  BRP packet structure...........................................................................................................48


page 27
Copyright    2012 IEEE. All rights reserved.xxviiFigure 21-23  TRN-R field definition........................................................................................................489Figure 21-24  TRN-T field definition........................................................................................................489Figure 21-25  PMD layer reference model................................................................................................494Figure L-1  CPHY preamble expressed in Ga128 and Gb128 sequences.................................................544Figure Z-1  Example of TSPEC aggregation (SPCA and EDCA access policies)....................................59


page 28



page 29
Copyright    2012 IEEE. All rights reserved.1IEEE Standard for Information technology   Telecommunications and information exchange between systemsLocal and metropolitan area networks   Specific requirementsPart 11: Wireless LAN Medium Access Control(MAC) and Physical Layer (PHY) SpecificationsAmendment 3: Enhancements for Very High Throughput in the 60 GHz BandIMPORTANT NOTICE: IEEE Standards documents are not intended to ensure safety, health, orenvironmental protection or ensure against interference with or from other devices or networks.Implementers of IEEE Standards documents are responsible for determining and complying with allappropriate safety, security, environmental, health, and interference protection practices and allapplicable laws and regulations.This IEEE document is made available for use subject to important notices and legal disclaimers. Thesenotices and disclaimers appear in all publications containing this document and may be found under theheading    Important Notice    or    Important Notices and Disclaimers Concerning IEEE Documents.   They can also be obtained on request from IEEE or viewed at http://standards.ieee.org/IPR/disclaimers.html.(This amendment is based on IEEE Std 802.11  -2012, as amended by IEEE Std 802.11ae  -2012 andIEEE Std 802.11aa  -2012.)NOTE  The editing instructions contained in this amendment define how to merge the material contained therein intothe existing base standard and its amendments to form the comprehensive standard. The editing instructions are shownin bold italic. Four editing instructions are used: change, delete, insert, and replace. Change is used to make correctionsin existing text or tables. The editing instruction specifies the location of the change and describes what is being changedby using strikethrough (to remove old material) and underscore (to add new material). Delete removes existing material.Insert adds new material without disturbing the existing material. Deletions and insertions may require renumbering. Ifso, renumbering instructions are given in the editing instruction. Replace is used to make changes in figures or equationsby removing the existing figure or equation and replacing it with a new one. Editing instructions, change markings, andthis NOTE will not be carried over into future editions because the changes will be incorporated into the base standard.11Notes in text, tables, and figures are given for information only and do not contain requirements needed to implement the standard


page 30
1. Overview1.3 Supplementary information on purposeChange the first list item of the dashed list in 1.3 as follows:  Describes the functions and services required by an IEEE 802.11  -compliant device to operatewithin independent, personal, and infrastructure networks as well as the aspects of STA mobility(transition) within those networks.Insert the following list item at the end of the dashed list in 1.3:  Defines the PHY signaling, MAC, and beamforming procedures required for operation withdirectional antenna patterns.2. Normative referencesInsert the following references into Clause 2 in alphanumeric order:ITU-T Recommendation O.150, General requirements for instrumentation for performance measurementson digital transmission equipment.2NIST Special Publication 800-38D, Recommendation for Block Cipher Modes of Operation: Galois/Counter Mode (GCM) and GMAC, Morris Dworkin, November 2007.33. Definitions, acronyms, and abbreviations3.1 DefinitionsDelete the following definitions from 3.1 (note that both definitions are reinserted with changes into 3.2):downlinkuplinkChange the following definitions in 3.1 as follows:coordination function: The logical function that determines when a station (STA) operating within a basicservice set (BSS) is permitted to transmit protocol data units (PDUs) via the wireless medium (WM). Thecoordination function within a BSS might have one hybrid coordination function (HCF), or it might haveone HCF and one point coordination function (PCF) and has one distributed coordination function (DCF). Aquality-of-service (QoS) BSS has one DCF and one HCF. In addition, a directional multi-gigabit (DMG)STA has a DMG channel access function that includes the beacon transmission interval (BTI), theassociation beamforming training (A-BFT), the announcement transmission interval (ATI), and the serviceperiod channel access (SPCA). 2ITU publications are available from the International Telecommunications Union (http://www.itu.int/).3NIST publications are available from the National Institute of Standards and Technology (http://csrc.nist.gov/)


page 31
3scheduled service period (SP): The SP that is scheduled by the quality-of-service (QoS) access point (AP)or the personal basic service set (PBSS) control point (PCP). Scheduled SPs start at fixed intervals of time.Insert the following definitions into 3.1 in alphabetic order:access period: A time period during a beacon interval established in a directional multi-gigabit (DMG)basic service set (BSS) that has associated channel access rules. antenna weight vector (AWV): A vector of weights describing the excitation (amplitude and phase) foreach element of an antenna array. average noise plus interference power indicator (ANIPI): A medium access control (MAC) indication ofthe average noise plus interference power measured on a channel that meets the two simultaneousconditions: 1) the station (STA) is not transmitting a frame, and 2) the station (STA) is not receiving a frameaddressed to itself.contention-based access period (CBAP): The time period within the data transfer interval (DTI) of adirectional multi-gigabit (DMG) basic service set (BSS) where enhanced distributed channel access (EDCA)is used. directional multi-gigabit (DMG): Pertaining to operation in a frequency band containing a channel withthe Channel starting frequency above 45 GHz. NOTE  The Channel starting frequency for 802.11 stations (STAs) is defined in Annex E.fast session transfer (FST): The transfer of a session from a channel to another channel, in the same ordifferent frequency bands. The term    session    refers to non-physical layer state information kept by a pair ofstations (STAs) that communicate directly (i.e., excludes forwarding). multiple medium access control (MAC) station management entity (SME) (MM-SME): Component ofstation management that manages multiple cooperating stations (STAs). non-personal basic service set control point (non-PCP) station (STA): A STA that is not a PCP. non-personal basic service set control point (non-PCP)/non-access point (non-AP) station (STA): ASTA that is not a PCP and that is not an AP. personal basic service set (PBSS): A directional multi-gigabit (DMG) basic service set (BSS) that includesone PBSS control point (PCP), and in which access to a distribution system (DS) is not present but an intra-PBSS forwarding service is optionally present. personal basic service set (PBSS) control point (PCP): An entity that contains one station (STA) andcoordinates access to the wireless medium (WM) by STAs that are members of a PBSS. personal basic service set (PBSS) control point (PCP)/access point (AP): A station (STA) that is at leastone of a PCP or an AP.peer-to-peer traffic specification (PTP TSPEC): The quality-of-service (QoS) characteristics of a dataflow between non-access point (non-AP) QoS stations (STAs). sector: A transmit or receive antenna pattern corresponding to a Sector ID. spatial sharing (SPSH): Use of a frequency channel by multiple stations (STAs) located in the samevicinity, and whose directional transmissions may overlap in time


page 32
3.2 Definitions specific to IEEE 802.11Change the following definition in 3.2:bufferable unit (BU): An MSDU, A-MSDU (HT STAs and DMG STAs only) or bufferable MMPDU thatis buffered to operate the power saving protocol. Insert the following definitions into 3.2 in alphabetic order:beacon header interval (BHI): The contiguous period of time that starts at the target beacon transmissiontime (TBTT) of a beacon interval of a directional multi-gigabit (DMG) basic service set (BSS) and that endsno later than the beginning of the data transfer interval (DTI) of the beacon interval. beacon transmission interval (BTI): The time interval between the start of the first Directional Multi-gigabit (DMG) Beacon frame transmission by a DMG station (STA) in a beacon interval to the end of thelast DMG Beacon frame transmission by the DMG STA in the same beacon interval. centralized coordination service root (CCSR): An entity that provides synchronization and configurationservices to synchronization access points (S-APs). centralized coordination service set (CCSS): The collection of one centralized coordination service root(CCSR) and a set of one or more synchronization access points (S-APs) that are stationary with respect totheir local environment while operating and are connected to the CCSR. destination directional multi-gigabit (DMG) station (STA): A DMG STA identified by the destinationassociation identifier (AID) field contained in a Grant frame or Extended Schedule element that caused theallocation of a service period (SP) or a contention-based access period (CBAP). directional multi-gigabit (DMG) access point (AP): An AP whose radio transmitter is capable oftransmitting and receiving DMG physical layer convergence procedure (PLCP) protocol data units(PPDUs). directional multi-gigabit (DMG) antenna: A DMG antenna is a phased array, a single element antenna, ora set of switched beam antennas covered by a quasi-omni antenna pattern. directional multi-gigabit (DMG) basic service set (BSS): A BSS in which DMG Beacon frames aretransmitted by DMG stations (STAs). directional multi-gigabit (DMG) frame: A frame transmitted or received within a DMG physical layerconvergence procedure (PLCP) protocol data unit (PPDU). directional multi-gigabit (DMG) physical layer convergence procedure (PLCP) protocol data unit(PPDU): A Clause 21 PPDU transmitted or received using the Clause 21 physical layer (PHY).directional multi-gigabit (DMG) station (STA): A STA whose radio transmitter is capable of transmittingand receiving DMG physical layer convergence procedure (PLCP) protocol data units (PPDUs). directional transmission: A transmission that does not use an omnidirectional antenna pattern or quasi-omni antenna pattern. downlink: A unidirectional link from an access point (AP) to one or more non-AP stations (STAs) or aunidirectional link from a non-AP destination directional multi-gigabit (DMG) STA to a non-AP sourceDMG STA


page 33
5extended centralized personal basic service set (PBSS) control point (PCP)/access point (AP) cluster(ECPAC): The collection of 1) a single centralized coordination service set (CCSS), 2) the set of centralizedPCP/AP clusters such that each synchronization AP (S-AP) of a centralized PCP/AP cluster is within theCCSS, and 3) all stations (STAs) within the basic service sets (BSSs) of the S-APs and member PCPs/APsof the centralized PCP/AP clusters. multiple medium access control (MAC) sublayers link (MMSL): A link between two stations (STAs),wherein one of the STAs is coordinated by a multiple MAC station management entity (MM-SME) thatdelivered a Multiple MAC Sublayers (MMS) element to the peer STA. multiple medium access control (MAC) sublayers link cluster: All multiple MAC sublayers linksbetween a pair of stations (STAs). personal basic service set (PBSS) control point (PCP)/access point (AP) cluster: One directional multi-gigabit (DMG) synchronization PCP or DMG synchronization AP, plus zero or more neighboring DMGPCPs, DMG APs (or a mixture of both) that join as member PCPs/APs to the synchronization PCP orsynchronization AP. quasi-omni antenna pattern: A directional multi-gigabit (DMG) antenna operating mode with the widestbeamwidth attainable. receive sector sweep (RXSS): Reception of Sector Sweep (SSW) frames via different sectors, in which asweep is performed between consecutive receptions. source directional multi-gigabit (DMG) station (STA): A DMG STA identified by the source associationidentifier (AID) field contained in a Grant frame or Extended Schedule element that caused the allocation ofa service period (SP) or contention-based access period (CBAP). sweep: A sequence of transmissions, separated by a short beamforming interframe space (SBIFS) interval,in which the antenna configuration at the transmitter or receiver is changed between transmissions. synchronization access point (AP) (S-AP): An AP that provides synchronization and other services to apersonal basic service set (PBSS) control point (PCP)/AP Cluster.synchronization personal basic service set (PBSS) control point (PCP) (S-PCP): A PCP that providessynchronization and other services to a PCP/access point (AP) Cluster. synchronization personal basic service set (PBSS) control point (PCP) (S-PCP)/synchronization accesspoint (AP) (S-AP): A station (STA) that is at least one of an S-PCP or an S-AP. transmit sector sweep (TXSS): Transmission of multiple Sector Sweep (SSW) or Directional Multi-gigabit(DMG) Beacon frames via different sectors, in which a sweep is performed between consecutivetransmissions. transmit sector sweep contention-based access period (TXSS CBAP): A CBAP that is available to allstations (STAs) in an extended centralized personal basic service set (PBSS) control point (PCP)/accesspoint (AP) cluster outside which TXSSs in the data transfer interval (DTI) can be prohibited. uplink: A unidirectional link from a non-access point (non-AP) station (STA) to an access point (AP) or aunidirectional link from a non-AP source directional multi-gigabit (DMG) STA to a non-AP destinationDMG STA


page 34
3.3 Abbreviations and acronymsInsert the following abbreviations into 3.3 in alphabetic order:A-BFTassociation beamforming trainingANIPIaverage noise plus interference power indicatorATIannouncement transmission intervalAWVantenna weight vectorBCbeam combiningBFbeamformingBHIbeacon header interval BRPbeam refinement protocolBRPIFSbeam refinement protocol interframe spaceBTIbeacon transmission intervalCBAPcontention-based access periodCCSRcentralized coordination service rootCCSScentralized coordination service setCPHYcontrol physical layerDMGdirectional multi-gigabitDTPdynamic tone pairingDTIdata transfer intervalECPACextended centralized PCP/AP clusterFD-AFfull-duplex amplify-and-forwardFSTfast session transferFSTSfast session transfer sessionGCMGalois/Counter ModeGCMPGalois/Counter Mode with GMAC ProtocolGMACGalois Message Authentication CodeGPgrant periodHD-DFhalf-duplex decode-and-forwardISSinitiator sector sweepLBIFSlong beamforming interframe spaceLPlow powerMBIFSmedium beamforming interframe spaceMIDmultiple sector identifierMIDCmultiple sector identifier captureMM-SMEmultiple MAC station management entityMMSmultiple MAC sublayersMMSLmultiple MAC sublayers linkOCTon-channel tunnelingPBSSpersonal basic service setPCPPBSS control pointPCPSPBSS control point servicePPpolling periodPTP TSPECpeer-to-peer traffic specificationQABquieting adjacent BSSRLSrelay link setu


page 35
7ROCrelay operation type changeRSSresponder sector sweepRDSrelay DMG STAREDSrelay endpoint DMG STARXSSreceive sector sweepS-APsynchronization access pointSBIFSshort beamforming interframe spaceSCsingle carrierSEMMSPCA-EDCA mixed modeSLSsector-level sweepSPCAservice period channel accessS-PCPsynchronization PBSS control pointSPRservice period requestSPSHspatial sharingSSWsector sweepTDDTItime division data transfer intervalTPAtransmission time-point adjustmentTRN-Rreceive trainingTRN-Ttransmit trainingTXSStransmit sector swee


page 36



page 37
94. General description4.3 Components of the IEEE 802.11 architecture4.3.1 GeneralChange the third paragraph of 4.3.1 as follows:It is useful to think of the ovals used to depict a BSS as the coverage area within which the member STAs ofthe BSS may remain in communication. In the case of transmissions such as in a directional multi-gigabit(DMG) BSS, the individual coverage area of a transmission from one member STA to another can bethought of as a cone and hence is referred to as a directional transmission. The collection of all possibledirectional transmissions by a member STA defines the coverage area. (The concept of area, while notprecise, is often good enough.) This area is called the Basic Service Area (BSA). If a STA moves out of itsBSA, it can no longer directly communicate with other STAs present in the BSA. Insert the following subclause, 4.3.2a, after 4.3.2:4.3.2a The personal BSS (PBSS) as an ad hoc networkSimilar to the IBSS, the PBSS is a type of IEEE 802.11 LAN in which STAs communicate directly witheach other. In contrast to the IBSS, in the PBSS one STA assumes the role of the PBSS control point (PCP). The PCPprovides the basic timing for the PBSS through DMG Beacon and Announce frames as well as allocation ofservice periods and contention-based access periods. A PBSS can be established only by DMG STAs. Not every DMG BSS is a PBSS. A DMG BSS can be aPBSS, an infrastructure BSS, or an IBSS.4.3.4 Distribution system (DS) concepts4.3.4.3 Robust security network association (RSNA)Change the third and fourth paragraphs of 4.3.4.3 as follows: The first component is an IEEE 802.1X port access entity (PAE). PAEs are present on all STAs in an RSNAand control the forwarding of data to and from the medium access control (MAC). An AP alwaysimplements the Authenticator PAE and Extensible Authentication Protocol (EAP) Authenticator roles, and anon-AP STA always implements the Supplicant PAE and EAP peer roles. In an IBSS or PBSS, each STAimplements both the Authenticator PAE and Supplicant PAE roles and both EAP Authenticator and EAPpeer roles.A second component is the Authentication Server (AS). The AS may authenticate the elements of the RSNAitself, i.e., the STAs may provide material that the RSNA elements can use to authenticate each other. TheAS communicates through the IEEE 802.1X Authenticator with the IEEE 802.1X Supplicant on each STA,enabling the STA to be authenticated to the AS and vice versa. An RSNA depends upon the use of an EAPmethod that supports mutual authentication of the AS and the STA, such as those that meet the requirementsin IETF RFC 4017. In certain applications, the AS may be integrated into the same physical device as theAP, or into a STA in an IBSS or PBSS


page 38
Insert the following subclause, 4.3.4.4, after 4.3.4.3:4.3.4.4 Centralized Coordination Service Set (CCSS) and Extended Centralized PCP/AP Cluster (ECPAC) within the DMGPCP/AP clustering is a protocol between a DMG Synchronization PCP/AP (S-PCP/S-AP) and other DMGPCP/APs within the cluster, known as member PCP/APs, and the protocol is used to improve spatial sharingand interference mitigation among the DMG BSSs of the S-PCP/S-AP  and member PCP/APs. PCP/APclustering allows a PCP/AP within a cluster to schedule transmissions in nonoverlapping time periods withrespect to other PCP/APs within the same cluster. There are two types of clustering:   Decentralized PCP/AP clustering involves a single S-PCP/S-AP in the BSA of the S- PCP/S-AP.  Centralized PCP/AP clustering is where there can be multiple S-APs in the BSA of any one S-APand all S-APs are coordinated via a single centralized coordination service set (CCSS). New architectural entities are introduced to support centralized PCP/AP clustering as follows. A CCSScomprises a centralized coordination service root (CCSR) and a set of one or more synchronization APs thatare stationary with respect to their local environment while operating and are connected to the CCSR via, forinstance, one of the following:  The wireless medium to an associated STA that contains the CCSR  The DS to an AP (or beyond, to a STA associated to the AP)  A combination of distribution service, portal, and external networkThe CCSR is the entity that provides coordination services for the CCSS, such as selecting the target Beacontransmission time of S-APs within the CCSS to minimize interference (see Annex Y for a more detaileddescription of the functions of the CCSR). The CCSR might logically reside within an S-AP or in anotherentity as long as it has a globally administered MAC address as defined in 9.2 of IEEE Std 802-2001. ACCSS is suited to an area and a frequency band having propagation characteristics so that the BSAs of the S-APs within a CCSS cover the area, yet transmissions within the area are isolated to a high degree. An extended centralized PCP/AP cluster (ECPAC) comprises a single CCSS and the set of centralized PCP/AP clusters so that each S-AP of a centralized PCP/AP cluster is within the CCSS. The ECPAC alsoincludes all STAs within the BSSs of the S-APs and member PCPs/APs of the centralized PCP/AP clusters.This is shown by example in Figure4-3a, wherein   STA3a and STA3b are two STAs coordinated by a one MM-SME component  STA4a and STA4b are two STAs coordinated by a second MM-SME component  The CCSR happens to be located in an external networkThere are no S-PCPs in an ECPAC since a PCP has no mechanism to communicate with the CCSR.The CCSS is unrelated to an ESS in the sense that a CCSS might contain whole ESSs, subsets of ESSs, orsome combination thereof. Decentralized PCP/AP clustering does not involve the use of the CCSS, CCSR, and ECPAC entities


page 39
114.3.7 QoS BSS: The QoS networkChange 4.3.7 as follows: The IEEE 802.11 QoS facility provides MAC enhancements to support LAN applications with QoSrequirements. The QoS enhancements are available to QoS STAs associated with a QoS access point or PCPin a QoS BSS. A subset of the QoS enhancements is available for use between STAs that are members of thesame QoS IBSS. Similarly, a subset of the QoS enhancements is available for use between neighbor peermesh STAs. A mesh BSS is one type of QoS BSS, and it is described in 4.3.15. For a QoS STA that is a non-DMG STA, Bbecause a the nonmesh QoS STA implements a superset of STA functionality, as defined inthis standard, the STA might associate with a non-QoS access point in a non-QoS BSS, to provide non-QoSMAC data service when there is no QoS BSS with which to associate. As a mesh STA does not implementthe necessary service, the mesh STA does not associate with any access point. A STA within a DMG BSS is a QoS STA; hence a DMG BSS is a QoS BSS. The enhancements that distinguish QoS STAs from non-QoS STAs and QoS APs from non-QoS APs arecollectively termed the QoS facility. Which of the QoS-specific mechanisms a QoS STA supports mightvary among QoS implementations, as well as between QoS STAs and QoS APs, over ranges specified insubsequent clauses. All service primitives, frame formats, coordination function and frame exchange rules,and management interface functions except for the Block Acknowledgment (Block Ack) function, direct-link setup (DLS), and automatic power-save delivery (APSD) are part of the core QoS facilities. A QoS STAFigure 4-3a  CCSS and ECPACPortalSTA1S-APSTA2S-APSTA5STA3aAPSTA7STA4aPCPSTA8ECPAC (excluding DS1, DS2 and external network)DS2BSS1BSS3BSS4STA6BSS2DS1CCSSSTA3bSTA4bCentralized Coordination Service RootCentralized PCP/AP clusterExternal Networ


page 40
or QoS AP implements those core QoS facilities necessary for its QoS functions to interoperate with otherQoS STAs. Functions such as the Block Ack, DLS, and APSD are separate from the core QoS facilities; andthe presence of these functions is indicated by STAs separately from the core QoS facilities. For infrastructure BSS, and IBSS, this standard provides four two mechanisms for the support ofapplications with QoS requirements.The first mechanism, designated the enhanced distributed channel access (EDCA), delivers traffic based ondifferentiating user priorities (UPs). This differentiation is achieved by varying the following for differentUP values:   Amount of time a STA senses the channel to be idle before backoff or transmission, or  The length of the contention window to be used for the backoff, or  The duration a STA may transmit after it acquires the channel.These transmissions may also be subject to certain channel access restrictions in the form of admissioncontrol. A DMG STA uses EDCA only within a contention-based access period (CBAP). Details of thismechanism are provided in 9.19.2 and, for DMG STAs, additional details are provided in 9.33.4, 9.33.5, and9.33.6.3.The second mechanism, designated the hybrid coordination function (HCF) controlled channel access(HCCA), is not applicable to DMG STAs and allows for the reservation of transmission opportunities(TXOPs) with the hybrid coordinator (HC). A STA based on its requirements requests the HC for TXOPs,both for its own transmissions as well as for transmissions from the AP to itself.13 The request is initiated bythe station management entity (SME) of the STA. The HC, which is collocated at the AP, either accepts orrejects the request based on an admission control policy. If the request is accepted, the HC schedules TXOPsfor both STAs (both the AP and the non-AP STA). For transmissions from the non-AP STA, the HC pollsthe STA based on the parameters supplied by the STA at the time of its request. For transmissions to theSTA, the AP directly obtains TXOPs from the collocated HC and delivers the queued frames to the STA,again based on the parameters supplied by the STA. Details of the mechanism are provided in 9.19.3 and10.4. This mechanism may be used for applications such as voice and video, which may need periodicservice from the HC. If the application constraints dictate the use of this mechanism, the application initiatesthis mechanism by using the management service primitives. The third mechanism, designated the service period (SP) access or service period channel access (SPCA), isapplicable only to the DMG STAs and allows for the reservation of channel time by the PCP/AP. A non-PCP/non-AP STA requests the PCP/AP for SPs, which can be used for transmission to any other STA in theBSS. The request is initiated by the SME of the non-PCP/non-AP STA. The PCP/AP either accepts orrejects the request based on an admission control policy. If the request is accepted, the PCP/AP uses theExtended Schedule element to schedule SPs for communication between the source and destination DMGSTAs indicated within the request. Details of this mechanism are provided in 9.33.6.2, 9.33.6.4, 9.33.6.6,and 10.4. The fourth mechanism, designated as dynamic allocation, is applicable only to the DMG STAs and allowsfor near-real-time reservation of channel time with the PCP/AP. This type of access is used in addition to theservice period and contention-based access period mechanisms. A PCP/AP can poll a STA and receiverequests for channel time allocation. Based on the received requests, the PCP/AP can accept a request andimmediately allocate (within the same beacon interval) channel time for the STA to communicate withanother STA by using a Grant frame. Details of this mechanism are provided in 9.33.7, 9.33.8, and 9.33.9. Non-QoS STAs may associate in a QoS BSS, if allowed to associate by the AP. All individually addressedframes that are sent to non-QoS STAs by an AP do not use the frame formats associated with the QoSfacility


page 41
13A QoS STA associated in a non-QoS BSS acts as a non-QoS STA. Insert the following subclauses, 4.3.17 and 4.3.18 (including Figure 4-10a), after 4.3.15.5.13:4.3.17 DMG STAThe IEEE 802.11 DMG STA provides PHY and MAC features that can support a throughput of 1 Gb/s andgreater, as measured at the MAC data service access point (SAP). A DMG STA supports DMG features asidentified in Clause 9, Clause 10, and Clause 21. A DMG STA operates in a DMG BSS and supportstransmission and reception of frames that are compliant with PHY specifications as defined in Clause 21. ADMG STA is also a QoS STA. The basic channel access of a DMG STA (see 9.33) allows it to operate in anInfrastructure BSS, in an IBSS, and in a PBSS. Certain DMG features such as service period allocation areavailable only to DMG STAs that are associated with an AP or with a PCP, while other DMG features suchas EDCA operation in a PBSS do not require association. A DMG STA supports beamforming (BF) asdescribed in 9.35 and 21.10 and GCM encryption as described in 11.4.5. A DMG STA supports the PHY signaling as described in 21.4, 21.5, 21.6, and 21.7. At a minimum, a DMGSTA supports the mandatory modulation and coding scheme (MCS) and PLCP protocol data unit (PPDU)formats described in 21.4 and 21.6. A DMG STA has PHY features that include a low-density parity check(LDPC) encoding, a preamble making use of Golay sequences, and beamforming. The PPDUs are alwaystransmitted with the same channel spacing as described in Annex E. A DMG STA supports MAC features that provide channel access in an environment in which transmissionsuse a directional antenna pattern. A DMG STA has MAC features that include frame aggregation, BlockAck features, service periods, contention-based access periods, DMG protected period, PCP/AP clustering,dynamic channel time management, reverse direction, spatial sharing, beamforming, and operation (fastsession transfer) in a multi-band device. A DMG STA is not a mesh STA. A DMG STA follows the samechannel access rules irrespective of the type of BSS in which it operates. 4.3.18 DMG relayThe 802.11 DMG relay function allows a source relay endpoint DMG STA (REDS) to transmit frames to adestination REDS with the assistance of another DMG STA, the relay DMG STA (RDS), as shown inFigure4-10a. Relaying can improve the reliability of communication in a DMG BSS in the case the directlink between the source REDS and the destination REDS has poor quality or is disrupted. Following theDMG relay setup procedures, a source REDS can discover and select an appropriate RDS to act as the relayfor a particular destination REDS, prior to data frame transmission using the relay. A relay operating as alink switching type of relay uses the RDS to forward frames between the source and destination REDS if thedirect link between the REDS is disrupted. In a link cooperating type of relay operation, the RDSsimultaneously repeats the transmission of frames between the source and destination REDS, which canpossibly increase the signal quality received at the destination REDS.4.4 Logical service interfaces4.4.1 GeneralChange the second paragraph of 4.4.1 as follows:IEEE Std 802.11 explicitly does not specify the details of DS implementations. Instead, IEEE Std 802.11specifies services. The services are associated with different components of the architecture. There are threetwo categories of IEEE 802.11 service: the station service (SS), the PCP service (PCPS), and the distributionsystem service (DSS). These Both categories of service are used by the IEEE 802.11 MAC sublayer


page 42
Change the last paragraph of 4.4.1 as follows:This set of services is divided into three two groups: the SS, the PCPS, and the DSS. The SS is part of everySTA. The PCPS is provided by the PCP of a PBSS. The DSS are provided by the DS. Insert the following subclause, 4.4.2a, after 4.4.2:4.4.2a PBSS control point service (PCPS)The service provided by the PCP of a PBSS is known as the PCPS. Since all STAs within a PBSS canoperate as a PCP, every STA within the PBSS is capable of providing PCPS should it become the PCP of thePBSS. Non-PCP STAs do not provide PCPS. The services that comprise the PCPSs are the following:a)Associationb)Disassociationc)Reassociationd)QoS traffic scheduling PCPSs are specified for use by MAC sublayer entities.4.4.3 DSSChange the last paragraph of 4.4.3 as follows:Figure 4-11 combines the components from previous figures with both the three types of services to showthe complete IEEE 802.11 architecture.STA 2(RDS)STA 2STA 5(REDS)STA 4STA 1(REDS)Direct linkRelay linksFigure 4-10a  DMG relay in a DMG BS


page 43
15Replace Figure 4-11 with the following figure:4.5 Overview of the services4.5.1 GeneralChange the second paragraph of 4.5.1 as follows:This subclause presents the services, an overview of how each service is used, and a description of how eachservice relates to other services and the IEEE 802.11 architecture. The services are presented in an orderdesigned to help build an understanding of the operation of an IEEE 802.11 ESS network. As a result, theservices that comprise the SS and DSS are intermixed in order (rather than being grouped by category). Theservices that comprise the PCPS are a subset of the services provided by the SS and DSS. Change the fourth and fifth paragraphs of 4.5.1 as follows:The IEEE 802.11 MAC sublayer uses three four types of messages  data, management, extension, andcontrol (see Clause 8). The data messages are handled via the MAC data service path.MAC management messages and MAC extension messages (see 8.3.4) are used to support the IEEE 802.11services and are handled via the MAC management service path.Change the last paragraph of 4.5.1 as follows:The examples here assume an ESS network environment. The differences between among the ESS, thePBSS, and the IBSS network environments are discussed separately in 4.7.DSSTA 2STA 3STA 4STA 1ESSBSS 1BSS 2STA 5STA 6BSS 3APAPPCP802.11 MAC/PHY802.11 MAC/PHY802.11 MAC/PHYSSSSSSPCPSPortal802.x LANDSSDSSDSS802.11 ComponentsFigure 4-11  Complete IEEE 802.11 architectur


page 44
Change the title of 4.5.3 as follows:4.5.3 Services that support the distribution service and the PCP service4.5.4 Access control and data confidentiality services4.5.4.2 AuthenticationChange the sixth paragraph of 4.5.4.2 as follows:SAE authentication or Open System 802.11 authentication is used by non-DMG STAs in an RSN forinfrastructure BSS. SAE authentication, Open System 802.11 authentication, or no 802.11 authentication isused in an RSN for IBSS. SAE authentication is used in an MBSS. An RSNA disallows the use of SharedKey 802.11 authentication. In an RSN for DMG BSS, Open System 802.11 authentication is not used(11.1.4). 4.5.4.4 Data confidentialityChange the third and fourth paragraphs of 4.5.4.4 as follows (note that footnote 19 remains unchanged):IEEE Std 802.11 provides several cryptographic algorithms to protect data traffic, including WEP, TKIP,GCMP, and CCMP. WEP and TKIP are based on the ARC419 algorithm, and CCMP and GCMP are isbased on the advanced encryption standard (AES). A means is provided for STAs to select the algorithm(s)to be used for a given association.IEEE Std 802.11 provides the following one security protocols, CCMP, for protection of individuallyaddressed robust management frames: CCMP and GCMP. This standard does not provide dataconfidentiality for group addressed robust management frames. Change 4.7 and insert Figure 4.13a as follows:4.7 Differences between among ESS, PBSS, and IBSS LANsIn 4.3.2 the concept of the IBSS LAN was introduced, and in 4.3.2a the concept of the PBSS LAN wasintroduced. In an IBSS and a PBSS network, a STA communicates directly with one or more other STAs. Consider the full IEEE 802.11 architecture as shown in Figure 4-12


page 45
17Replace Figure 4-12 with the following figure:An IBSS consists of STAs that are directly connected. Thus there is (by definition) only one BSS. Further,because there is no physical DS, there is no portal, integrated wired LAN, or DSS. The logical picturereduces to Figure 4-13.Figure 4-13 remains unchanged. An important difference between the IBSS and the PBSS is that, within the PBSS, Beacons are nottransmitted by every STA and instead only a single STA, namely the PCP, is responsible for DMG Beaconframe transmission. Within the IBSS, all STAs are responsible for beacon frame transmission. Whencompared to the infrastructure BSS, the PBSS does not provide certain DSSs as described in 4.4.2a. There can be more than one PBSS in the same BSA. One of the STAs within each PBSS assumes the role ofthe PCP. The logical picture of the PBSS reduces to Figure4-13a. Figure 4-12  IEEE 802.11 architecture (again)DSSTA 2STA 3STA 4STA 1ESSBSS 1BSS 2STA 5STA 6BSS 3APAPPCP802.11 MAC/PHY802.11 MAC/PHY802.11 MAC/PHYSSSSSSPCPSPortal802.x LANDSSDSSDSS802.11 ComponentsFigure 4-13a  Logical architecture of a PBSS802.11 MAC/PHY802.11 Personal BSSSTA 1/PCPSTA 


page 46
Only the minimum two STAs are shown in Figure 4-13. An IBSS might have an arbitrary number ofmembers. In an IBSS, only Class 1 and Class 2 frames are allowed because there is no DS in an IBSS. Therecan be no more than 254 STAs associated with a PCP and with a DMG AP. The services that apply to an IBSS are the SSs. A QoS IBSS supports operation under the HCF using TXOPsgained through the EDCA mechanism. The parameters that control differentiation of the delivery of MSDUswith different priority using EDCA are fixed. A QoS IBSS has no HC and does not support polled TXOPoperation and setting up of TSPEC.The services that apply to the PBSS are the SSs and the PCPSs as described in 4.4.2a. A PBSS supportsoperation under the HCF using TXOPs gained through the EDCA mechanism. In a PBSS, the EDCAmechanism is used only within CBAPs. The parameters that control differentiation of traffic classes usingEDCA can be configured by the PCP in a PBSS. The PCP of a PBSS has no HC, but can support TSPECsetup, DMG TSPEC setup, and service periods.In an IBSS, each STA enforces its own security policy. In an ESS and a PBSS, an AP and a PCP can,respectively, enforce a uniform security policy across all STAs.4.9 Reference modelInsert the following subclauses, 4.9.3 and 4.9.4 (including Figure 4-16a through Figure 4-16c), after4.9.2:4.9.3 Reference model for supporting multiple MAC sublayersAn MM-SME function interfaces with the SMEs of the coordinating STAs. STAs managed under the MM-SME share the same antennas and PHY and optionally unify power management. The reference model forsupporting multiple MAC sublayers is shown in Figure4-16a. An MM-SME coordinates the management of multiple MAC sublayers. Each MAC sublayer has a separateMAC SAP and MLME SAP. A MAC SAP together with its corresponding MLME SAP is identified by aMAC address. Even when coordinated by an MM-SME, each MAC retains its single MAC address, and each STA containsa single MAC; therefore, the MM-SME coordinates multiple STAs as well as multiple MACs. Figure 4-16a  Reference model for supporting multiple MAC sublayersPMD SublayerPLCP SublayerMAC Sublayer Management Entity802.1XMAC SublayerMAC 1 SAPPMD SAPPLME SAPSME STA 1PHY SAPMLME-PLME SAPMAC Sublayer Management Entity802.1XMAC SublayerMAC 2 SAPSME STA 2MAC Sublayer Management Entity802.1XMAC SublayerSME STA nMM-SMEMAC n SA


page 47
19Multiple STAs coordinated by an MM-SME have a single PLCP and PMD sublayer that is shared by themultiple MAC sublayers. Transmission attempts of different MAC sublayers can collide internally if theSTAs share a single PHY, and a backoff procedure is invoked in this case. Since multiple STAs coordinatedby the same MM-SME share the PHY, the STAs do not directly exchange frames with each other. NOTE  The multiple MAC reference model shown in Figure4-16a defines how multiple STAs can share the samephysical layer entity. If this model is used in conjunction with the reference model for multi-band operation (see 4.9.4),the multiple MAC reference model applies within each physical layer entity contained in the multi-band device whereasthe multi-band operation reference model applies to different physical layers. The MM-SME accesses each of the MLME SAPs of the coordinated STAs separately to deliver MLMESAP primitives. STAs that are coordinated by the same MM-SME can establish a multiple MAC sublayerslink (MMSL) with a peer STA. The set of all MMSLs between a pair of STAs creates an MMSL cluster. An MM-SME controls the power management mode, DMG antenna configuration, and other parametersand states of the coordinated STAs to eliminate unnecessary duplication of functions. A change in the powermanagement mode of the STAs coordinated by an MM-SME is signaled to a peer STA via any one of theSTAs    MAC sublayer. Also, a beamforming link established between STAs can be used by all the MACsublayers of any of the STAs coordinated by the same MM-SME. For these purposes, a Multiple MACSublayers (MMS) element is used.The MMS element contains multiple MAC addresses of the MACs coordinated by the same MM-SME. Theelement can be included in any frame that advertises the MM-SME capabilities, such as Probe frames andInformation Request and Response frames, and the frames that establish communication agreements, suchas association, ADDTS, and BA request and responses. 4.9.4 Reference model for multi-band operationThe reference model of a device that is multi-band capable (see 10.32) and that supports transparent fastsession transfer (FST) is shown in Figure4-16b. The reference model of a device that is multi-band capableand that supports nontransparent FST is shown in Figure4-16c. Figure 4-16b  Reference model for a multi-band capable device (transparent FST)PMD SublayerPLCP SublayerMAC Sublayer Management EntityMAC SublayerPHY SAPPHY Sublayer Management EntityMLME-PLME SAPPMD SublayerPLCP Sublayer802.1XMAC Sublayer Management EntityMAC SublayerPHY SAPPMD SAPPHY Sublayer Management EntityMLME-PLME SAPMulti-band ManagementSTA 1(e.g., in 2.4 GHz)STA 2(e.g., in 60 GHz)PMD SAPTransparent FST EntityMAC SAPSMESME802.1XAuthenticator / SupplicantRSNA Key Managemen


page 48
A multi-band capable device can manage operation over more than one frequency band/channel. Theoperation across the different frequency bands/channels can be simultaneous or nonsimultaneous. A multi-band capable device can also support multiple MAC sublayers; in this case, it is coordinated by anMM-SME. NOTE  For simplicity, Figure4-16b and Figure4-16c depict the reference model when there is a one-to-one mappingbetween PHYs and MACs. However, the reference model for a multi-band capable device can be applied in conjunctionwith the reference model for STAs that support multiple MAC sublayers (see 4.9.3). The SME of a multi-band capable device contains a multi-band management entity that is responsible forcoordinating the setup, configuration, teardown, and transfer of FST sessions from a band/channel toanother band/channel supported by the multi-band capable device. If using nontransparent FST, the multi-band management entity can employ a combination of the source and destination MAC addresses in both theold and new band/channel to configure the routing of MSDUs and MLME primitives within the STA. Ifusing transparent FST, in addition to the MAC addresses, the multi-band management entity can employ theTID of an FST session for this routing. The multi-band procedures (see 10.32) allow a pair of multi-band capable devices to discover, synchronize,(de)authenticate, (re)associate, disassociate, and manage resources with each other on any common band/channel that is supported by both STAs.When used in the context of FST, the term    session    refers to non-PHY state information that is kept in apair of STAs that communicate directly (i.e., excludes forwarding) and that is available prior to andfollowing a session transfer. This state information is different depending if transparent or nontransparent isused. For transparent FST, a shared multi-band management entity has access to the local information withineach SME; and in this case the state information includes BA agreements, TSs, association state, RSNA,security keys, sequence counter, and PN counter. For nontransparent FST, the function of the multi-bandmanagement entity is restricted to coordinating the setup and teardown of a session transfer with no accessto other local information within each SME. Therefore, with nontransparent FST, any information local toan SME needs to be reestablished for the new band/channel, and this can be done either prior to or followingthe session transfer (see 10.32).Figure 4-16c  Reference model for a multi-band capable device (nontransparent FST)PMD SublayerPLCP Sublayer802.1XMAC Sublayer Management EntityMAC SublayerPHY SAPPHY Sublayer Management EntityMLME-PLME SAPPMD SublayerPLCP Sublayer802.1XMAC Sublayer Management EntityMAC SublayerPHY SAPPMD SAPPHY Sublayer Management EntityMLME-PLME SAPMAC SAPMulti-band ManagementSTA 1(e.g., in 2.4 GHz)STA 2(e.g., in 60 GHz)MAC SAPPMD SAP802.1XAuthenticator / SupplicantRSNA Key ManagementSMESME802.1XAuthenticator / SupplicantRSNA Key Managemen


page 49
21By using the on-channel tunneling (OCT) multi-band procedure described in 10.32.4, the SME of a multi-band capable device can instruct one of its MLMEs to use the OCT services provided by another MLME ofthe same multi-band capable device to communicate with a peer MLME of a peer multi-band capabledevice. This enables the SMEs of a pair of multi-band capable devices to provide a seamless FST, includingperforming (de)authentication and (re)association across bands/channels. The MLMEs that use the OCTservices provided by another MLME within the same multi-band capable device to communicate arereferred to as being on-the-air disabled with respect to each other. Following an FST, two peer on-the-airdisabled MLMEs can become on-the-air enabled with respect to each other. As described in 5.1.5, a MAC address is not unique within the multi-band capable device when transparentFST is intended to be used. When transparent FST is used, a single MAC SAP at each peer is presented tothe higher layers of that peer for all the frequency bands/channels that are identified by the same MACaddress at that peer. When nontransparent FST is used, different MAC SAPs are presented to higher layerssince different MAC addresses are used prior to and following an FST session transfer. Therefore, whennontransparent FST is used, higher layers are responsible for managing the session transition betweendifferent frequency bands/channels. Each MAC SAP is controlled by a separate and independent RSNA key management entity and 802.1XAuthenticator/Supplicant, unless if transparent FST is used in which case the multi-band management entityis responsible for coordinating with each of the SMEs to ensure that a single RSNA key management entityand 802.1X Authenticator/Supplicant are shared among the MACs and that a single 802.1X entity iscontrolled. 4.10 IEEE Std 802.11 and IEEE Std 802.1X-2004Insert the following subclause, 4.10.4a (including Figure 4-23a), after 4.10.4.4:4.10.4a PBSS functional model descriptionThis subclause summarizes the system setup and operation of an RSNA in a PBSS. If a non-PCP STA chooses to associate with the PCP of the PBSS, the non-PCP STA establishes an RSNAwith the PCP following the infrastructure functional model as specified in 4.10.3. If a non-PCP STA wants to establish an RSNA with the PCP without association or if the non-PCP STAwants to establish an RSNA with another non-PCP STA, it can directly initiate an RSNA authentication withthe peer STA, followed by a 4-Way Handshake. One difference between this model and the IBSS functionalmodel is that only one RSNA authentication and one 4-Way Handshake are performed between two STAs.If both STAs initiate an RSNA setup at the same time, the RSNA setup initiated by the STA with the lowerMAC address is carried through, while the RSNA setup initiated by the STA with the higher MAC addressis terminated. Figure 4-23a shows an example of the RSNA setup in a PBSS. An initiator STA discovers a peer STA   sRSNA policies through the DMG Beacons from the peer STA if the peer STA is the PCP or through theProbe Response or Information Response frames from the peer STA. In this example, the initiator STA doesnot associate with the peer STA. The initiator STA may optionally perform RSNA authentication with thepeer STA to derive a PMK. A 4-Way Handshake is then started to complete the RSNA setup


page 50
4.11 Generic advertisement service (GAS)Change the third and fourth paragraphs of 4.11 as follows:In an IBSS/PBSS, GAS functionality enables a STA to access the availability and information related todesired services provided by other STAs in the IBSS/PBSS. Exchange of information using GAS may beperformed either prior to joining an IBSS/PBSS or after joining the IBSS/PBSS.There are a number of reasons why providing information to a STA in a preassociated state is beneficial:  It supports more informed decision making about an IEEE 802.11 infrastructure or PBSS withwhich to associate. This is generally more efficient than requiring a non-PCP/non-AP STA toassociate with an PCP/AP before discovering the information and then deciding whether to stayassociated.  It is possible for the non-PCP/non-AP STA to query multiple networks in parallel.  The non-AP STA can discover information about APs that are not part of the same administrativegroup as the AP with which it is associated, supporting the selection of an AP belonging to adifferent IEEE 802.11 infrastructure that has an appropriate SSP roaming agreement in place.Figure 4-23a  Example of RSNA setup in a PBSSInitiator STAPeer STAProbe/Information RequestProbe/Information Response (RSN IE)RSNA establishedDMG Beacon (DMG Privacy = 1)Message 1Message 2 (RSN IE)Message 3 (RSN IE, GTK)Message 4UnassociatedUnassociatedRSNA establishedRSNA Authenticatio


page 51
235. MAC service definition5.1 Overview of MAC services5.1.5 MAC data service architectureChange the first and second paragraphs, and insert a new third paragraph in 5.1.5 as follows:The MAC data plane architecture (i.e., processes that involve transport of all or part of an MSDU) is shownin Figure5-2 for when transparent FST is used and shown in Figure 5-1 otherwise. During transmission, anMSDU goes through some or all of the following processes: MSDU rate limiting, aggregate MSDU (A-MSDU) aggregation, frame delivery deferral during power save mode, sequence number assignment,fragmentation, encryption, integrity protection, frame formatting, and aggregate MAC protocol data unit (A-MPDU) aggregation. When transparent FST is used, an MSDU goes through an additional transparent FSTentity that contains a demultiplexing process that forwards the MSDU down to the selected TX MSDU RateLimiting process and thence further MAC data plane processing. IEEE Std 802.1X-2004 may block theMSDU at the Controlled Port. At some point, the data frames that contain all or part of the MSDU arequeued per AC/TS.During reception, a received data frame goes through processes of possible A-MPDU deaggregation, MPDUheader and cyclic redundancy code (CRC) validation, duplicate removal, possible reordering if the BlockAck mechanism is used, decryption, defragmentation, integrity checking, and replay detection. After replaydetection (or defragmentation if security is not used), possible A-MSDU deaggregation, and possible MSDUrate limiting, one or more MSDUs are delivered to the MAC_SAP or to the DS. When transparent FST isused, MSDUs originating from different PHY-SAPs go through an additional transparent FST entity thatcontains a multiplexing process before forwarding the MSDU to the MSDU rate limiting process. The IEEE802.1X Controlled/Uncontrolled Ports discard any received MSDU if the Controlled Port is not enabled andif the MSDU does not represent an IEEE 802.1X frame. Frame order enforcement provided by the enhanceddata cryptographic encapsulation mechanisms occurs after decryption, but prior to MSDU defragmentation;therefore, defragmentation fails if MPDUs arrive out of order.When transparent FST is used, the same security keys, sequence counter, and PN counter are used by theMAC data plane to encrypt the MPDU prior to and following an FST session transfer, and the same securitykeys are used to check the integrity and perform the protection of MSDUs. When nontransparent FST isused, independent RSNAs, security keys, sequence counters, and PN counters have to be established foreach MAC data plane to be used prior to and following an FST session transfer. When transparent FST isused, a single MAC SAP at each peer is presented to the higher layers of that peer for all the frequencybands/channels that are identified by the same MAC address at that peer. When nontransparent FST is used,different MAC SAPs are presented to higher layers since different MAC addresses are used prior to andfollowing an FST session transfer


page 52
Insert the following figure, Figure 5-2, after Figure 5-1:5.2 MAC data service specification5.2.2 MA-UNITDATA.request5.2.2.2 Semantics of the service primitiveChange the fifth paragraph of 5.2.2.2 as follows:The data parameter specifies the MSDU to be transmitted by the MAC sublayer entity. For IEEE Std 802.11,the length of the MSDU shall be less than or equal to the value shown in Table8-0a2304 octets.Figure 5-2  MAC data plane architecture (transparent FST)Replay Detection(optionalfor non-mesh STA)MSDU Integrity and Protection (optional)DefragmentationMPDU Decryption and Integrity(optional)Block Ack ReorderingDuplicate RemovalMPDU Header + CRC ValidationA-MSDU De-aggregationA-MPDU De-aggregationAddress 1 address filteringPS Defer Queuing(AP, IBSS STA, or mesh STAonly)Sequence NumberAssignmentMSDU Integrityand Protection(optional)FragmentationMPDU Encryptionand Integrity(optional)MPDU Header + CRCA-MSDU AggregationA-MPDU AggregationReplay Detection(optionalfor non-mesh STA)MSDU Integrity and Protection (optional)DefragmentationMPDU Decryption and Integrity(optional)Block Ack ReorderingDuplicate RemovalMPDU Header + CRC ValidationA-MSDU De-aggregationA-MPDU De-aggregationAddress 1 address filteringLLC/SNAPControlled port filtering (optional)Uncontrolled port filtering802.1X PAEs, etcMAC-SAPLLC/SNAPControlled port filtering (optional)Uncontrolled port filtering802.1X PAEs, etcMAC-SAPPHY in channel 1TX MSDU Rate LimitingPS Defer Queuing(AP, IBSS STA, or mesh STAonly)Sequence NumberAssignmentMSDU Integrityand Protection(optional)FragmentationMPDU Encryptionand Integrity(optional)MPDU Header + CRCA-MSDU AggregationA-MPDU AggregationMSDUFlow-TransmittingIntra BSS Relay (pre   RSNA AP only)IEEE 802.11 Mesh Forwarding EntityIEEE 802.1XControlled PortFiltering(optional)IEEE 802.1 MACRelay Entity(RSNA AP only)IEEE 802.1XControlled PortFiltering(optional)MSDUFlowMSDUFlow  ReceivingSame securitykeys & PN counterTX MSDU Rate LimitingRX MSDU Rate LimitingRX MSDU Rate LimitingTransparent FST EntityTransparent FST EntitySame securitykeys & PN counterSame securitykeys & sequence counterSame securitykeys & sequence counterPHY in channel 2PHY in channel 1PHY in channel 


page 53
256. Layer management6.3 MLME SAP interface6.3.3 Scan6.3.3.2 MLME-SCAN.request6.3.3.2.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.3.2.2 as follows:MLME-SCAN.request(BSSType,BSSID,SSID,ScanType,ProbeDelay,ChannelList,MinChannelTime,MaxChannelTime,RequestInformation,SSID List,ChannelUsage,AccessNetworkType,HESSID,MeshID,DiscoveryMode,VendorSpecificInfo)Change the following row in the untitled table in 6.3.3.2.2:Insert the following row before the VendorSpecificInfo row in the untitled table in 6.3.3.2.2:NameTypeValid rangeDescriptionBSSTypeEnumerationINFRASTRUCTURE,PERSONAL,INDEPENDENT, MESH, ANY_BSSDetermines whether infrastructure BSS, PBSS, IBSS, MBSS, or all are included in the scan.NameTypeValid rangeDescriptionDiscoveryModeInteger0  1Indicates, if equal to 1, that a DMG Beacon frame is transmitted during active scanning with the Discovery Mode field set to 1 and, if equal to 0, that a DMG Beacon frame is not transmitted during active scanning. Present only when dot11DMGOptionImplemented is true


page 54
6.3.3.3 MLME-SCAN.confirm6.3.3.3.2 Semantics of the service primitiveChange the following row of the untitled table describing BSSDescriptions in 6.3.3.3.2:Insert the following rows at the end of the untitled table describing BSSDescriptions in 6.3.3.3.2:NameTypeValid rangeDescriptionIBSS adoptionBSSTypeEnumerationINFRASTRUCTURE, PERSONAL, INDEPENDENT, MESHThe type of the found BSSAdoptNameTypeValid rangeDescriptionIBSS adoptionSector SweepAs defined in frame formatAs defined in 8.3.4.1The values from the Sector Sweep field from the DMG Beacon frame, else null. The parameter is present only if dot11DMGOptionImplemented is true.AdoptBeacon Interval ControlAs defined in frame formatAs defined in 8.3.4.1The values from the Beacon Interval Control field from the DMG Beacon frame, else null. The parameter is present only if dot11DMGOptionImplemented is true.AdoptDMG ParametersAs defined in frame formatAs defined in 8.3.4.1The values from the DMG Parameters field from the DMG Beacon frame, else null. The parameter is present only if dot11DMGOptionImplemented is true.AdoptClustering ControlAs defined in frame formatAs defined in 8.3.4.1The values from the Clustering Control field from the DMG Beacon frame, else null. The parameter is present only if dot11DMGOptionImplemented is true.Do not adoptDMG CapabilitiesAs defined in frame formatAs defined in 8.4.2.130The values from the DMG Capabilities element if such an element was present in the Probe Response or DMG Beacon frame, else null.The parameter is optionally present only if dot11DMGOptionImplemented is true.Do not adop


page 55
27DMG OperationAs defined in frame formatAs defined in 8.4.2.131The values from the DMG Operation element if such an element was present in the Probe Response or DMG Beacon frame, else null.The parameter is optionally present only if dot11DMGOptionImplemented is true.AdoptExtended ScheduleAs defined in frame formatAs defined in 8.4.2.134The values from the Extended Schedule element if such an element was present in the Probe Response or DMG Beacon frame, else null.The parameter is optionally present only if dot11DMGOptionImplemented is true.AdoptNext DMG ATIAs defined in frame formatAs defined in 8.4.2.137The values from the Next DMG ATI element if such an element was present in the Probe Response or DMG Beacon frame, else null.The parameter is optionally present only if dot11DMGOptionImplemented is true.AdoptDMG BSS Parameter ChangeAs defined in frame formatAs defined in 8.4.2.129The values from the DMG BSS Parameter Change element if such an element was present in the Probe Response or DMG Beacon frame, else null.The parameter is optionally present only if dot11DMGOptionImplemented is true.AdoptMulti-bandAs defined in frame formatAs defined in 8.4.2.140The values from the Multi-band element if such an element was present in the Probe Response or DMG Beacon frame, else null.The Multi-band element is optionally present if dot11MultibandImplemented is true. AdoptWakeup ScheduleAs defined in frame formatAs defined in 8.4.2.133The values from the Wakeup Schedule element if such an element was present in the Probe Response or DMG Beacon frame, else null.The parameter is optionally present only if dot11DMGOptionImplemented is true.AdoptNameTypeValid rangeDescriptionIBSS adoptio


page 56
6.3.4 Synchronization6.3.4.2 MLME-JOIN.request6.3.4.2.2 Semantics of the service primitiveChange the following row in the untitled table in 6.3.4.2.2 as follows:6.3.4.2.4 Effect of receiptChange the second paragraph of 6.3.4.2.4 as follows:If the an MLME of a non-DMG STA receives an MLME-JOIN.request primitive with the SelectedBSSparameter containing a BSSBasicRateSet element that contains any unsupported rates, the MLME responsein the resulting MLME-JOIN.confirm primitive shall contain a ResultCode parameter that is not set to thevalue SUCCESS. Antenna Sector ID Pattern As defined in frame formatAs defined in 8.4.2.159The values from the Antenna Sector ID Pattern element if such an element was present in the Probe Response or DMG Beacon frame, else null.The parameter is optionally present only if dot11DMGOptionImplemented is true.AdoptRelay Capabilities As defined in frame formatAs defined in 8.4.2.150The values from the Relay Capabilities element if such an element was present in the Probe Response or DMG Beacon frame, else null.The parameter is optionally present only if dot11RelayActivated is true.Do not adoptNameTypeValid rangeDescriptionOperationalRateSetSet of integers1  127 inclusive(for each integer in the set)Non-DMG: The set of data rates that the STA desires to use for communication within the BSS. The STA shall be able to receive at each of the data rates listed in the set. This set is a superset of the rates contained in the BSSBasicRateSet parameter.DMG: The set of MCS indexes that the STA desires to use for communication within the BSS.NameTypeValid rangeDescriptionIBSS adoptio


page 57
296.3.5 Authenticate6.3.5.2 MLME-AUTHENTICATE.request6.3.5.2.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.5.2.2 as follows:MLME-AUTHENTICATE.request(PeerSTAAddress,AuthenticationType,AuthenticateFailureTimeout,Content of FT Authentication elements,Content of SAE Authentication Frame,Multi-band local,Multi-band peer,VendorSpecificInfo)Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.5.2.2:6.3.5.3 MLME-AUTHENTICATE.confirm6.3.5.3.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.5.3.2 as follows:MLME-AUTHENTICATE.confirm(PeerSTAAddress,AuthenticationType,ResultCode,Content of FT Authentication elements,Content of SAE Authentication Frame,Multi-band local,Multi-band peer,VendorSpecificInfo)NameTypeValid rangeDescriptionMulti-band localMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the local MAC entity. The parameter is present if dot11MultibandImplemented is true and is absent otherwise.Multi-band peerMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that identify the remote (peer) MAC entity. This parameter is present if OCT is being used and is absent otherwise


page 58
Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.5.3.2:6.3.5.4 MLME-AUTHENTICATE.indication6.3.5.4.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.5.4.2 as follows:MLME-AUTHENTICATE.indication(PeerSTAAddress,AuthenticationType,Content of FT Authentication elements,Content of SAE Authentication Frame,Multi-band local,Multi-band peer,VendorSpecificInfo)Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.5.4.2:6.3.5.5 MLME-AUTHENTICATE.response6.3.5.5.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.5.5.2 as follows:MLME-AUTHENTICATE.response(PeerSTAAddress,ResultCode,Content of FT Authentication elements,Content of SAE Authentication Frame,Multi-band local,Multi-band peer,NameTypeValid rangeDescriptionMulti-band localMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that identify the local MAC entity. This parameter is present if OCT is being used and is absent otherwise.Multi-band peerMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the remote (peer) MAC entity. This parameter is present if OCT is being used and is absent otherwise.NameTypeValid rangeDescriptionMulti-band localMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that identify the local MAC entity. This parameter is present if OCT is being used and is absent otherwise.Multi-band peerMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the remote (peer) MAC entity. This parameter is present if OCT is being used and is absent otherwise


page 59
31VendorSpecificInfo)Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.5.5.2:6.3.7 Associate6.3.7.1 IntroductionChange the first paragraph of 6.3.7.1 as follows:The following primitives describe how a STA becomes associated with an PCP/AP.6.3.7.2 MLME-ASSOCIATE.request6.3.7.2.1 FunctionChange 6.3.7.2.1 as follows:This primitive requests association with a specified peer MAC entity that is within an PCP/AP.6.3.7.2.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.7.2.2 as follows:MLME-ASSOCIATE.request(PeerSTAAddress,AssociateFailureTimeout,CapabilityInformation,ListenInterval,Supported Channels,RSN,QoSCapability,Content of FT Authentication elements,SupportedOperatingClasses,HT Capabilities,Extended Capabilities,20/40 BSS Coexistence,QoSTrafficCapability,TIMBroadcastRequest,EmergencyServices,DMG Capabilities,Multi-band local,Multi-band peer,NameTypeValid rangeDescriptionMulti-band localMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the local MAC entity. The parameter is present if dot11MultibandImplemented is true and is absent otherwise.Multi-band peerMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that identify the remote (peer) MAC entity. This parameter is present if OCT is being used and is absent otherwise


page 60
MMS,VendorSpecificInfo)Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.7.2.2:6.3.7.2.3 When generatedChange 6.3.7.2.3 as follows:This primitive is generated by the SME when a STA wishes to establish association with an PCP/AP.6.3.7.3 MLME-ASSOCIATE.confirm6.3.7.3.1 FunctionChange 6.3.7.3.1 as follows:This primitive reports the results of an association attempt with a specified peer MAC entity that is within anPCP/AP.6.3.7.3.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.7.3.2 as follows:MLME-ASSOCIATE.confirm(ResultCode,CapabilityInformation,AssociationID,SupportedRates,EDCAParameterSet,RCPI.request,RSNI.request,RCPI.response,RSNI.response,NameTypeValid rangeDescriptionDMG CapabilitiesDMG Capabilities elementAs defined in 8.4.2.130Specifies the parameters within the DMG Capabilities element that are supported by the MAC entity. The parameter is present if dot11DMGOptionImplemented is true and is absent otherwise.Multi-band localMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the local MAC entity. The parameter is present if dot11MultibandImplemented is true and is absent otherwise.Multi-band peerMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that identify the remote (peer) MAC entity. The parameter is present if OCT is being used and is absent otherwise.MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155Specifies the parameters within the Multiple MAC Sublayers element that are supported by the MAC entity. The parameter is present if dot11MultipleMACActivated is true and is absent otherwise


page 61
33RMEnabledCapabilities,Content of FT Authentication elements,SupportedOperatingClasses,HT Capabilities,Extended Capabilities,20/40 BSS Coexistence,TimeoutInterval,BSSMaxIdlePeriod,TIMBroadcastResponse,QosMapSet,QMFPolicy,DMG Capabilities,Multi-band local,Multi-band peer,MMS,VendorSpecificInfo)Delete    AP    and insert in its place    PCP/AP    in the following rows in the untitled table in 6.3.7.3.2:CapabilityInformation, AssociationID, SupportedRates, RMEnabledCapabilities, andBSSMaxIdlePeriod. Delete    non-AP    and insert in its place    non-PCP/non-AP    in the following row in the untitled table in6.3.7.3.2: QoSMapSet. Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.7.3.2:6.3.7.3.3 When generatedChange 6.3.7.3.3 as follows:This primitive is generated by the MLME as a result of an MLME-ASSOCIATE.request primitive or receiptof an association response frame from the peer MAC entity to associate with a specified peer MAC entitythat is within an PCP/AP.NameTypeValid rangeDescriptionDMG CapabilitiesDMG Capabilities elementAs defined in 8.4.2.130Specifies the parameters within the DMG Capabilities element that are supported by the MAC entity. The parameter is present if dot11DMGOptionImplemented is true and is absent otherwise.Multi-band localMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that identify the local MAC entity. The parameter is present if OCT is being used and is absent otherwise.Multi-band peerMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the remote (peer) MAC entity. This parameter is present if OCT is being used and is absent otherwise.MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155Specifies the parameters within the Multiple MAC Sublayers element that are supported by the MAC entity. The parameter is present if dot11MultipleMACActivated is true and is absent otherwise


page 62
6.3.7.4 MLME-ASSOCIATE.indication6.3.7.4.1 FunctionChange 6.3.7.4.1 as follows:This primitive indicates that a specific peer MAC entity is requesting association with the local MAC entity,which is within an PCP/AP.6.3.7.4.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.7.4.2 as follows:MLME-ASSOCIATE.indication(PeerSTAAddress,CapabilityInformation,ListenInterval,SSID,SupportedRates,RSN,QoSCapability,RCPI,RSNI,RMEnabledCapabilities,Content of FT Authentication elements,SupportedOperatingClasses,DSERegisteredLocation,HT Capabilities,Extended Capabilities,20/40 BSS Coexistence,QoSTrafficCapability,TIMBroadcastRequest,EmergencyServices,DMG Capabilities,Multi-band local,Multi-band peer,MMS,VendorSpecificInfo)Delete    AP    and insert in its place    PCP/AP    in the following rows in the untitled table in 6.3.7.4.2:RMEnabledCapabilities and SupportedOperatingClasses.Delete    non-AP    and insert in its place    non-PCP/non-AP    in the following rows in the untitled table in6.3.7.4.2: QoSTrafficCapability and EmergencyServices.Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.7.4.2


page 63
356.3.7.5 MLME-ASSOCIATE.response6.3.7.5.1 FunctionChange 6.3.7.5.1 as follows:This primitive is used to send a response to a specific peer MAC entity that requested an association with theSTA that issued this primitive, which is within an PCP/AP.6.3.7.5.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.7.5.2 as follows:MLME-ASSOCIATE.response(PeerSTAAddress,ResultCode,CapabilityInformation,AssociationID,EDCAParameterSet,RCPI,RSNI,RMEnabledCapabilities,Content of FT Authentication elements,SupportedOperatingClasses,DSERegisteredLocation,HTCapabilities,Extended Capabilities,20/40 BSS Coexistence,TimeoutInterval,BSSMaxIdlePeriod,TIMBroadcastResponse,QoSMapSet,QMFPolicyDMG Capabilities,Multi-band local,NameTypeValid rangeDescriptionDMG CapabilitiesDMG Capabilities elementAs defined in 8.4.2.130Specifies the parameters within the DMG Capabilities element that are supported by the MAC entity. The parameter is present if dot11DMGOptionImplemented is true and is absent otherwise.Multi-band localMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that identify the local MAC entity. The parameter is present if OCT is being used and is absent otherwise.Multi-band peerMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the remote (peer) MAC entity. This parameter is present if OCT is being used and is absent otherwise.MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155Specifies the parameters within the Multiple MAC Sublayers element that are supported by the MAC entity. The parameter is present if dot11MultipleMACActivated is true and is absent otherwise


page 64
Multi-band peer,MMS,VendorSpecificInfo)Delete    AP    and insert in its place    PCP/AP    in the following rows in the untitled table in 6.3.7.5.2:CapabilityInformation, AssociationID, RMEnabledCapabilities, SupportedOperatingClasses,BSSMaxIdlePeriod, and QMFPolicy.Delete    non-AP    and insert in its place    non-PCP/non-AP    in the following row in the untitled table in6.3.7.5.2: QoSMapSet.Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.7.5.2:6.3.7.5.3 When generatedChange 6.3.7.5.3 as follows:This primitive is generated by the SME of a STA that is within an PCP/AP as a response to an MLME-ASSOCIATE.indication primitive.6.3.8 Reassociate6.3.8.1 IntroductionChange 6.3.8.1 as follows:The following primitives describe how a STA becomes associated with another PCP/AP.NameTypeValid rangeDescriptionDMG CapabilitiesDMG Capabilities elementAs defined in 8.4.2.130Specifies the parameters within the DMG Capabilities element that are supported by the MAC entity. The parameter is present if dot11DMGOptionImplemented is true and is absent otherwise.Multi-band localMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the local MAC entity. The parameter is present if dot11MultibandImplemented is true and is absent otherwise.Multi-band peerMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that identify the remote (peer) MAC entity. The parameter is present if OCT is being used and is absent otherwise.MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155Specifies the parameters within the Multiple MAC Sublayers element that are supported by the MAC entity. The parameter is present if dot11MultipleMACActivated is true and is absent otherwise


page 65
376.3.8.2 MLME-REASSOCIATE.request6.3.8.2.1 FunctionChange 6.3.8.2.1 as follows:This primitive requests a change in association to a specified new peer MAC entity that is within an PCP/AP.6.3.8.2.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.8.2.2 as follows:MLME-REASSOCIATE.request(NewPCPorAPAddress,ReassociateFailureTimeout,CapabilityInformation,ListenInterval,Supported ChannelsRSN,QoSCapability,Content of FT Authentication elements,SupportedOperatingClasses,HT Capabilities,Extended Capabilities,20/40 BSS Coexistence,QoSTrafficCapability,TIMBroadcastRequest,FMSRequest,DMSRequest,EmergencyServices,DMG Capabilities,Multi-band local,Multi-band peer,MMS,VendorSpecificInfo)Delete    AP    and insert in its place    PCP/AP    in the following row in the untitled table in 6.3.8.2.2:CapabilityInformation.Delete    non-AP    and insert in its place    non-PCP/non-AP    in the following rows in the untitled table in6.3.8.2.2: QoSTrafficCapability and EmergencyServices.Change the following row in the untitled table in 6.3.8.2.2:NameTypeValid rangeDescriptionNewPCPorAPAddressMACAddressAny valid individual MAC addressSpecifies the address of the peer MAC entity with which to perform the reassociation process


page 66
Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.8.2.2:6.3.8.2.3 When generatedChange 6.3.8.2.3 as follows:This primitive is generated by the SME for a STA to change association to a specified new peer MAC entitythat is within an PCP/AP.6.3.8.3 MLME-REASSOCIATE.confirm6.3.8.3.1 FunctionChange 6.3.8.3.1 as follows:This primitive reports the results of a reassociation attempt with a specified peer MAC entity that is withinan PCP/AP.6.3.8.3.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.8.3.2 as follows:MLME-REASSOCIATE.confirm(ResultCode,CapabilityInformation,AssociationID,SupportedRates,EDCAParameterSet,RCPI.request,RSNI.request,RCPI.response,RSNI.response,RMEnabledCapabilities,Content of FT Authentication elements,SupportedOperatingClasses,NameTypeValid rangeDescriptionDMG CapabilitiesDMG Capabilities elementAs defined in 8.4.2.130Specifies the parameters within the DMG Capabilities element that are supported by the MAC entity. The parameter is present if dot11DMGOptionImplemented is true and is absent otherwise.Multi-band localMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the local MAC entity. The parameter is present if dot11MultibandImplemented is true and is absent otherwise.Multi-band peerMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that identify the remote (peer) MAC entity. The parameter is present if OCT is being used and is absent otherwise.MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155Specifies the parameters within the Multiple MAC Sublayers element that are supported by the MAC entity. The parameter is present if dot11MultipleMACActivated is true and is absent otherwise


page 67
39HT Capabilities,Extended Capabilities,20/40 BSS Coexistence,TimeoutInterval,BSSMaxIdlePeriod,TIMBroadcastResponse,FMSRespone,DMSResponse,QoSMapSet,QMFPolicy,DMG Capabilities,Multi-band local,Multi-band peer,MMS,VendorSpecificInfo)Delete    AP    and insert in its place    PCP/AP    in the following rows in the untitled table in 6.3.8.3.2:CapabilityInformation, AssociationID, SupportedRates, RMEnabledCapabilities, andBSSMaxIdlePeriod.Delete    non-AP    and insert in its place    non-PCP/non-AP    in the following row in the untitled table in6.3.8.3.2: QosMapSet.Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.8.3.2:6.3.8.3.3 When generatedChange 6.3.8.3.3 as follows:This primitive is generated by the MLME as a result of an MLME-REASSOCIATE.request primitive toreassociate with a specified peer MAC entity that is within an PCP/AP.NameTypeValid rangeDescriptionDMG CapabilitiesDMG Capabilities elementAs defined in 8.4.2.130Specifies the parameters within the DMG Capabilities element that are supported by the MAC entity. The parameter is present if dot11DMGOptionImplemented is true and is absent otherwise.Multi-band localMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that identify the local MAC entity. The parameter is present if OCT is being used and is absent otherwise.Multi-band peerMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the remote (peer) MAC entity. This parameter is present if OCT is being used and is absent otherwise.MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155Specifies the parameters within the Multiple MAC Sublayers element that are supported by the MAC entity. The parameter is present if dot11MultipleMACActivated is true and is absent otherwise


page 68
6.3.8.4 MLME-REASSOCIATE.indication6.3.8.4.1 FunctionChange 6.3.8.4.1 as follows:This primitive indicates that a specific peer MAC entity is requesting reassociation with the local MACentity, which is within an PCP/AP.6.3.8.4.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.8.4.2 as follows:MLME-REASSOCIATE.indication(PeerSTAAddress,CurrentAPAddress,CapabilityInformation,ListenInterval,SSID,SupportedRates,RSN,QoSCapability,RCPI,RSNI,RMEnabledCapabilities,Content of FT Authentication elements,SupportedOperatingClasses,DSERegisteredLocation,HT Capabilities,Extended Capabilities,20/40 BSS Coexistence,QoSTrafficCapability,TIMBroadcastRequest,FMSRequest,DMSRequest,EmergencyServices,DMG Capabilities,Multi-band local,Multi-band peer,MMS,VendorSpecificInfo)Delete    AP    and insert in its place    PCP/AP    in the following rows in the untitled table in 6.3.8.4.2:CurrentAPAddress  and RMEnabledCapabilities.Delete    non-AP    and insert in its place    non-PCP/non-AP    in the following rows in the untitled table in6.3.8.4.2: QoSTrafficCapability and EmergencyServices


page 69
41Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.8.4.2:6.3.8.5 MLME-REASSOCIATE.response6.3.8.5.1 FunctionChange 6.3.8.5.1 as follows:This primitive is used to send a response to a specific peer MAC entity that requested a reassociation withthe STA that issued this primitive, which is within an PCP/AP.6.3.8.5.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.8.5.2 as follows:MLME-REASSOCIATE.response(PeerSTAAddress,ResultCode,CapabilityInformation,AssociationID,EDCAParameterSet,RCPI,RSNI,RMEnabledCapabilities,Content of FT Authentication elements,SupportedOperatingClasses,DSERegisteredLocation,HT Capabilities,Extended Capabilities,20/40 BSS Coexistence,TimeoutInterval,BSSMaxIdlePeriod,TIMBroadcastResponse,FMSResponse,NameTypeValid rangeDescriptionDMG CapabilitiesDMG Capabilities elementAs defined in 8.4.2.130Specifies the parameters within the DMG Capabilities element that are supported by the MAC entity. The parameter is present if dot11DMGOptionImplemented is true and is absent otherwise.Multi-band localMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that identify the local MAC entity. The parameter is present if dot11MultibandImplemented is true and is absent otherwise.Multi-band peerMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the remote (peer) MAC entity. This parameter is present if OCT is being used and is absent otherwise.MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155Specifies the parameters within the Multiple MAC Sublayers element that are supported by the MAC entity. The parameter is present if dot11MultipleMACActivated is true and is absent otherwise


page 70
DMSResponse,QoSMapSet,QMFPolicy,DMG Capabilities,Multi-band local,Multi-band peer,MMS,VendorSpecificInfo)Delete    AP    and insert in its place     PCP/AP    in the following rows in the untitled table in 6.3.8.5.2:CapabilityInformation, AssociationID, RMEnabledCapabilities, BSSMaxIdlePeriod, and QMFPolicy.Delete    non-AP    and insert in its place     non-PCP/non-AP    in the following row in the untitled table in6.3.8.5.2: QoSMapSet.Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.8.5.2:6.3.8.5.3 When generatedChange 6.3.8.5.3 as follows:This primitive is generated by the SME of a STA that is within an PCP/AP as a response to an MLME-REASSOCIATE.indication primitive.NameTypeValid rangeDescriptionDMG CapabilitiesDMG Capabilities elementAs defined in 8.4.2.130Specifies the parameters within the DMG Capabilities element that are supported by the MAC entity. The parameter is present if dot11DMGOptionImplemented is true and is absent otherwise.Multi-band localMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the local MAC entity. The parameter is present if dot11MultibandImplemented is true and is absent otherwise.Multi-band peerMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that identify the remote (peer) MAC entity. The parameter is present if OCT is being used and is absent otherwise.MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155Specifies the parameters within the Multiple MAC Sublayers element that are supported by the MAC entity. The parameter is present if dot11MultipleMACActivated is true and is absent otherwise


page 71
436.3.11 Start6.3.11.2 MLME-START.request6.3.11.2.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.11.2.2 as follows:MLME-START.request(SSID,SSIDEncoding,BSSType,BeaconPeriod,DTIMPeriod,CF parameter set,PHY parameter set,IBSS parameter set,ProbeDelay,CapabilityInformation,BSSBasicRateSet,OperationalRateSet,Country,IBSS DFS Recovery Interval,EDCAParameterSet,DSERegisteredLocation,HT Capabilities,HT Operation,BSSMembershipSelectorSet,BSSBasicMCSSet,HTOperationalMCSSet,Extended Capabilities,20/40 BSS Coexistence,Overlapping BSS Scan Parameters,MultipleBSSID,InterworkingInfo,AdvertisementProtocolInfo,RoamingConsortiumInfo,Mesh ID,Mesh Configuration,QMFPolicy,DMG Capabilities,Multi-band,MMS,DMG Operation,Clustering Control,CBAP Only,PCP Association Ready,VendorSpecificInfo)Change the following rows in the untitled table in 6.3.11.2.2


page 72
Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.11.2.2:NameTypeValid rangeDescriptionBSSTypeEnumerationINFRASTRUCTURE, INDEPENDENT, MESH, PERSONALThe type of the BSS.OperationalRateSetSet of integers1  127 inclusive(for each integer in the set)Non-DMG: The set of data rates that the STA desires to use for communication within the BSS. The STA shall be able to receive at each of the data rates listed in the set. This set is a superset of the rates contained in the BSSBasicRateSet parameter.DMG: The set of MCS indexes that the STA desires to use for communication within the BSS.NameTypeValid rangeDescriptionDMG CapabilitiesDMG Capabilities elementAs defined in 8.4.2.130Specifies the parameters within the DMG Capabilities element that are supported by the MAC entity.The parameter is present if dot11DMGOptionImplemented is true and is absent otherwise.Multi-bandMulti-band elementAs defined in 8.4.2.140Specifies the parameters within the Multi-band element that are supported by the MAC entity.The parameter is present if dot11MultibandImplemented is true and is absent otherwise.MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155Specifies the parameters within the Multiple MAC Sublayers element that are supported by the MAC entity.The parameter is present if dot11MultipleMACActivated is true and is absent otherwise.DMG OperationDMG Operation elementAs defined in 8.4.2.131Specifies the parameters within the DMG Operation element that are supported by the MAC entity.The parameter is present if dot11DMGOptionImplemented is true and is absent otherwise.Clustering ControlClustering Control fieldAs defined in 8.3.4.1Specifies the parameters within the Clustering Control field that are supported by the MAC entity.The parameter is present if dot11ClusteringActivated is true and is absent otherwise.CBAP OnlyInteger0 or 1Specifies the setting of the CBAP Only field as defined in 8.3.4.1PCP Association ReadyInteger0 or 1Specifies the setting of the PCP Association Ready field as defined in 8.3.4.


page 73
456.3.11.2.3 When generatedChange the first and second paragraphs of 6.3.11.2.3 as follows:This primitive is generated by the SME to start an infrastructure BSS (with the MAC entity within an AP),an IBSS (with the MAC entity acting as the first STA in the IBSS), or an MBSS (with the MAC entity actingas the first mesh STA in the MBSS) or to become a member of an existing MBSS or a PBSS (with the MACentity within a PCP). In an MBSS, this primitive starts the process of mesh beaconing.An MLME-START.request primitive may be generated in an infrastructure BSS or IBSS or PBSS only afteran MLME-RESET.request primitive has been used to reset the MAC entity and before an MLME-JOIN.request primitive has been used to successfully join an existing infrastructure BSS or IBSS or PBSS.6.3.11.2.4 Effect of receiptChange the second paragraph of 6.3.11.2.4 as follows:If the an MLME of a non-DMG STA receives an MLME-START.request primitive with a BSSBasicRateSetparameter containing any unsupported rates, the MLME response in the resulting MLME-START.confirmprimitive shall contain a ResultCode parameter that is not set to the value SUCCESS.6.3.12 Stop6.3.12.2 MLME-STOP.request6.3.12.2.3 When generatedChange the first paragraph of 6.3.12.2.3 as follows:This primitive is generated by the SME to terminate an infrastructure BSS (with the MAC entity within anAP) or a PBSS (with the PCP entity within the MAC). The MLME-STOP.request primitive shall begenerated only after successful use of an MLME-START.confirm primitive.6.3.12.2.4 Effect of receiptChange the first paragraph of 6.3.12.2.4 as follows:This primitive initiates the termination of the BSS. All services provided by the AP to an infrastructure BSS,including Beacons, Probe Responses, and access to the DS, are stopped by the termination. All STAs in aninfrastructure BSS are deauthenticated by the termination. In a PBSS, all the services provided by the PCP,including DMG Beacons, are stopped by the termination. All the STAs in a PBSS have their RSNAunestablished by the termination


page 74
6.3.26 TS management interface6.3.26.1 GeneralChange Table 6-1 as indicated below:6.3.26.2 MLME-ADDTS.request6.3.26.2.1 FunctionChange 6.3.26.2.1 as follows:This primitive requests addition (or modification) of a TS. It requests the PCP/HC to admit the new orchanged TS.6.3.26.2.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.26.2.2 as follows:MLME-ADDTS.request (DialogToken,TSPEC,TCLAS,TCLASProcessing,ADDTSFailureTimeout,U-APSD Coexistence,EBR,IntraAccessCategoryPriority,HigherLayerStreamID,STAAddress,DMG TSPEC,Multi-band,U-PID,MMS,VendorSpecificInfo)Table 6-1  Supported TS management primitivesPrimitiveRequestConfirmIndicationResponseADDTSDMG STANon-AP QoS STADMG STANon-AP QoS STAPCPDMG STAHCPCPDMG STAHCDELTSDMG STANon-AP QoS STA and PCPHCDMG STANon-AP QoS STA and PCPHCDMG STANon-AP QoS STA and PCPHC  ADDTSRESERVEHCHCNon-AP QoS STANon-AP Qos ST


page 75
47Insert the following rows before the VendorSpecficInfo row in the untitled table in 6.3.26.2.2:6.3.26.3 MLME-ADDTS.confirm6.3.26.3.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.26.3.2 as follows:MLME-ADDTS.confirm(ResultCode,DialogToken,TSDelay,TSPEC,Schedule,TCLAS,TCLASProcessing,EBR,HigherLayerStreamID,STAAddress,Extended Schedule,DMG TSPEC,Multi-band,U-PID,MMS,VendorSpecificInfo)NameTypeValid rangeDescriptionSTAAddressMACAddressSpecifies the MAC address of the peer STA for the PTP TSPEC. DMG TSPECDMG TSPEC elementAs defined in 8.4.2.136Specifies the characteristics and QoS (scheduling) requirements of the DMG allocation request.Multi-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number where the TSID is to be established. The parameter is absent if the TSID is intended to be established on the same frequency band and channel where the ADDTS Request is transmitted.U-PIDU-PID elementAs defined in 8.4.2.156This parameter is optionally present and specifies the parameters of the LLC for the purpose of (de)multiplexing of frames associated with the TSID. MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155This parameter is optionally present and specifies the parameters of an MMSL cluster establishment


page 76
Change the following row in the untitled table in 6.3.26.3.2:Insert the following rows before the VendorSpecficInfo row in the untitled table in 6.3.26.3.2:Change the text after the untitled table in 6.3.26.3.2 as indicated:For the ResultCode value of SUCCESS received by a non-DMG STA, the TSPEC and the optional TCLASparameters describe the characteristics of the TS that has been created (or modified); and the specified(nonzero) parameters [with the exception of Service Start Time, Medium Time, and any possiblyunspecified minimum set of parameters (see 9.19.4.3) in the TSPEC in ADDTS Request frame] exactlymatch those of the matching MLME-ADDTS.request primitive.For other values of ResultCode received by a non-DMG STA, no new TS has been created. In the case ofREJECTED_WITH_SUGGESTED_CHANGES, the TSPEC represents an alternative proposal by the HCbased on information about the current status of the MAC entity. In the case ofREJECTED_HOME_WITH_SUGGESTED_CHANGES, the TSPEC represents an alternative proposal bythe HC based on information received from the SSPN interface. A TS is not created with this definition. Ifthe suggested changes are acceptable to the STA, it is the responsibility of the STA to set up the TS with thesuggested changes.NameTypeValid rangeDescriptionResultCodeEnumerationSUCCESS, INVALID_PARAMETERS, REJECTED_WITH_SUGGESTED_CHANGES, REJECTED_FOR_DELAY_PERIOD, REJECTED_WITH_SUGGESTED_BSS_TRANSITION, REQUESTED_TCLAS_NOT_SUPPORTED, TCLAS_RESOURCES_EXHAUSTED, REJECTED_HOME_WITH_SUGGEST_CHANGES, REJECTED_FOR_SSP_PERMISSIONS, SUCCESS_STA_IN_DOZE_MODE,REJECT_U-PID_SETTINGIndicates the results of the corresponding MLME-ADDTS.request primitive.NameTypeValid rangeDescriptionSTAAddressMACAddressSpecifies the MAC address of the peer STA for the PTP TSPEC. Extended ScheduleExtended Schedule elementAs defined in 8.4.2.134Specifies the schedule information of the TS. Present when dot11DMGOptionImplemented is true, otherwise absent. DMG TSPECDMG TSPEC elementAs defined in 8.4.2.136Specifies the characteristics and QoS (scheduling) requirements of the DMG allocation request.Multi-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number where the TSID is to be established. The parameter is absent if the TSID is intended to be established on the same frequency band and channel where the ADDTS Request is transmitted.U-PIDU-PID elementAs defined in 8.4.2.156This parameter is optionally present and specifies the parameters of the LLC for the purpose of (de)multiplexing of frames associated with the TSID. MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155This parameter is optionally present and specifies the parameters of an MMSL cluster establishment


page 77
49In the case of REJECTED_WITH_SUGGESTED_BSS_TRANSITION, non-AP STA should retry TS setupprocess with the newly associated AP once the transition is done.If this is the result of a modification of an existing TS, the status of that TS remains unchanged.For the ResultCode value of SUCCESS or SUCCESS_STA_IN_DOZE_MODE received by a DMG STA,the DMG TSPEC and the optional TCLAS parameters describe the characteristics of the allocation or TSthat has been created (or modified); and the specified (nonzero) parameters [with the exception of MaximumAllocation in the DMG TSPEC in the ADDTS Request frame] exactly match those of the matching MLME-ADDTS.request primitive. For other values of ResultCode received by a DMG STA, no new allocation or TS has been created. In thecase of REJECTED_WITH_SUGGESTED_CHANGES or REJECT_U-PID_SETTING, then the DMGTSPEC, Multi-band, and U-PID parameters represent an alternative proposal by the peer STA. In suchcases, an allocation or TS has not been created. If the suggested changes are acceptable to the STA, it is theresponsibility of the STA to set up the allocation or TS with the suggested changes.If this failure is the result of a modification of an existing allocation or TS, the status of that allocation or TSremains unchanged.6.3.26.3.3 When generatedChange the second paragraph of 6.3.26.3.3 as follows:This primitive is generated when that MLME-ADDTS.request primitive is found to contain invalidparameters, when a timeout occurs, or when the STA receives a response in the form of an ADDTSResponse frame in the corresponding QoS Action frame from the HC or DMG STA.6.3.26.4 MLME-ADDTS.indication6.3.26.4.1 FunctionChange 6.3.26.4.1 as indicated:This primitive reports to the DMG STA   s or HC   s SME the request for adding (or modifying) a TS.6.3.26.4.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.26.4.2 as follows:MLME-ADDTS.indication (DialogToken,STAAddress,TSPEC,TCLAS,TCLASProcessing,U-APSD Coexistence,EBR,IntraAccessCategoryPriority,HigherLayerStreamID,DMG TSPEC,Multi-band,U-PID,MMS


page 78
VendorSpecificInfo)Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.26.4.2:6.3.26.4.4 Effect of receiptChange the second paragraph of 6.3.26.4.4 as follows:This primitive solicits an MLME-ADDTS.response primitive from the SME that reflects the results ofadmission control at the HC or DMG STA on the TS requested to be added (or modified).6.3.26.5 MLME-ADDTS.response6.3.26.5.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.26.5.2 as follows:MLME-ADDTS.response (ResultCode,DialogToken,STAAddress,TSDelay,TSPEC,Schedule,TCLAS,TCLASProcessing,EBR,HigherLayerStreamID,Extended Schedule,DMG TSPEC,Multi-band,U-PID,MMS,VendorSpecificInfo)NameTypeValid rangeDescriptionDMG TSPECDMG TSPEC elementAs defined in 8.4.2.136Specifies the characteristics (scheduling) and QoS requirements of the DMG allocation request.Multi-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number where the TSID is to be established. The parameter is absent if the TSID is intended to be established on the same frequency band and channel where the ADDTS Request is transmitted.U-PIDU-PID elementAs defined in 8.4.2.156This parameter is optionally present and specifies the parameters of the LLC for the purpose of (de)multiplexing of frames associated with the TSID. MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155This parameter is optionally present and specifies the parameters of an MMSL cluster establishment


page 79
51Change the following row in the untitled table in 6.3.26.5.2:Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.26.5.2:Change the text after the untitled table in 6.3.26.5.2 as follows:The DialogToken and STAAddress parameters contain the values from the matching MLME-ADDTS.indication primitive.If a non-DMG STA receives a the result code of is SUCCESS, the TSPEC and (optional) TCLASparameters contain the values from the matching MLME-ADDTS.indication.If a DMG STA receives a result code of SUCCESS or SUCCESS_STA_IN_DOZE_MODE, the DMGTSPEC and (optional) TCLAS parameters contain the values from the matching MLME-ADDTS.indication.If a non-DMG STA receives a the result code of is REJECTED_WITH_SUGGESTED_CHANGES orREJECTED_HOME_WITH_SUGGESTED_CHANGES, the TSPEC and TCLAS parameters represent analternative proposed TS either based on information local to the MAC entity or using additional informationreceived across the SSPN interface. The TS, however, is not created. The TSID and direction values withinthe TSPEC are as in the matching MLME-ADDTS.indication primitive. The difference may lie in the QoSNameTypeValid rangeDescriptionResultCodeEnumerationSUCCESS, INVALID_PARAMETERS, REJECTED_WITH_SUGGESTED_CHANGES, REJECTED_FOR_DELAY_PERIOD, REJECTED_WITH_SUGGESTED_BSS_TRANSITION, REQUESTED_TCLAS_NOT_SUPPORTED, TCLAS_RESOURCES_EXHAUSTED,REJECTED_HOME_WITH_SUGGESTED_CHANGES,REJECTED_FOR_SSP_PERMISSIONS,SUCCESS_STA_IN_DOZE_MODE,REJECT_U-PID_SETTINGIndicates the results of the corresponding MLME-ADDTS.indication primitive.NameTypeValid rangeDescriptionExtended ScheduleExtended Schedule elementAs defined in 8.4.2.134Specifies the schedule information of the TS.DMG TSPECDMG TSPEC elementAs defined in 8.4.2.136Specifies the characteristics (scheduling) and QoS requirements of the DMG allocation request.Multi-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number where the TSID is to be established. The parameter is absent if the TSID is intended to be established on the same frequency band and channel where the ADDTS Request is transmitted.U-PIDU-PID elementAs defined in 8.4.2.156This parameter is optionally present and specifies the parameters of the LLC for the purpose of (de)multiplexing of frames associated with the TSID. MMSMultiple MAC Sublayers elementAs defined in 8.4.2.155This parameter is optionally present and specifies the parameters of an MMSL cluster establishment


page 80
(e.g., minimum data rate, mean data rate, and delay bound) values, as a result of admission controlperformed at the SME of the HC on the TS requested to be added (or modified) by the STA. If sufficientbandwidth is not available, the QoS values may be reduced. In one extreme, the minimum data rate, meandata rate, and delay bound may be all set to 0, indicating that no QoS is to be provided to this TS.If a DMG STA receives a result code of REJECTED_WITH_SUGGESTED_CHANGES or REJECT_U-PID_SETTING, then the DMG TSPEC, TCLAS, Multi-band, and U-PID parameters represent analternative proposal for the allocation or TS. The allocation or TS, however, has not been created. Theallocation ID value within the DMG TSPEC is as in the matching MLME-ADDTS.indication primitive. Thedifference might lie in the other parameter values, as a result of admission control performed at the SME ofthe peer STA on the allocation or TS requested to be added (or modified). If sufficient bandwidth is notavailable, the QoS values might be reduced. If the result code is REJECTED_WITH_SUGGESTED_BSS_TRANSITION, the non-AP STA shouldinitiate a transition query as defined in 10.23.6. Once the transition is completed, the STA should retry TSsetup process, as defined in 10.4.4.6.3.26.5.3 When generatedChange 6.3.26.5.3 as follows:This primitive is generated by the SME at the HC or DMG STA as a result of an MLME-ADDTS.indicationprimitive to initiate addition (or modification) of a TS with a specified peer MAC entity or entities.6.3.26.5.4 Effect of receiptChange the second paragraph of 6.3.26.5.4 as follows:This primitive causes the MAC entity at the HC or DMG STA to send an ADDTS Response frame in thecorresponding QoS Action management frame to the requesting STA containing the specified parameters.6.3.26.6 MLME-DELTS.request6.3.26.6.1 FunctionChange the second paragraph in 6.3.26.6.1 as indicated:This primitive may be generated at one of the following: either a  DMG STA  Non-AP STA  PCP or the   HC6.3.26.6.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.26.6.2 as follows:MLME-DELTS.request(STAAddress,TSInfo,ReasonCode,STAAddress,DMG Allocation Info


page 81
53Multi-band,VendorSpecificInfo)Change the untitled table in 6.3.26.6.2 as follows:6.3.26.6.4 Effect of receiptChange the second paragraph of 6.3.26.6.4 as follows:This primitive causes the local MAC entity to send out a DELTS frame containing the specified parameters.If this primitive was generated at the HC, the frame is sent to the specified STA   s MAC address. If thisprimitive was generated at the non-AP STA that is a non-DMG STA, the frame is sent to its HC. A DMGSTA sends the frame to the specified STA   s MAC address. In either any of the cases, the DELTS frame doesnot solicit a response from the recipient frame other than an acknowledgment to receipt of the frame. 6.3.26.7 MLME-DELTS.indication6.3.26.7.1 FunctionChange 6.3.26.7.1 as follows:This primitive reports the deletion of a TS by a specified peer MAC entity or deletion of the TS due to aninactivity timeout (PCP/HC only).NameTypeValid rangeDescriptionSTAAddressMACAddressSpecifies the MAC address of the STA that initiated this TS. Present only at the HC.TSInfoTS Info fieldAs defined in 8.4.2.32Specifies the TS to be deleted. Not present when DMG Allocation Info is present.ReasonCodeEnumerationSTA_LEAVING, END_TS, UNKNOWN_TS, TIMEOUT, SERVICE_CHANGE_PRECLUDES_TSIndicates the reason why the TS is being deleted.STAAddressMACAddressSpecifies the MAC address of the peer STA for the PTP TSPEC. DMG Allocation InfoDMG Allocation Info fieldAs defined in 8.4.2.136Specifies the DMG allocation to be deleted. Not present when TSInfo is present.Multi-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number where the TS is to be deleted. The parameter is absent if the TS is intended to be deleted on the same frequency band and channel where the DELTS is transmitted.VendorSpecificInfoA set of elementsAs defined in 8.4.2.28Zero or more elements


page 82
6.3.26.7.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.26.7.2 as follows:MLME-DELTS.indication (STAAddress,TSInfo,ReasonCode,DMG Allocation Info,Multi-band,VendorSpecificInfo)Change the untitled table in 6.3.26.7.2 as follows:6.3.26.7.3 When generatedChange the second paragraph of 6.3.26.7.3 as follows:This primitive may also be generated by the MLME at the DMG STA or HC as a result of inactivity of aparticular TS. Inactivity results when a period equal to the inactivity interval in the TSPEC for the TSelapses  Without arrival of an MSDU belonging to that TS at the MAC entity of the DMG STA or HC via anMA-UNITDATA.request primitive when the DMG STA or HC is the source STA of that TS orNameTypeValid rangeDescriptionSTAAddressMACAddressSpecifies the MAC address of the STA for which the TS is being deleted. Present only at the HC.TSInfoTS Info fieldAs defined in 8.4.2.32Specifies the TS information of the TS of concern. Not present when DMG Allocation Info is present.ReasonCodeEnumerationSTA_LEAVING, END_TS, UNKNOWN_TS, TIMEOUT, SERVICE_CHANGE_PRECLUDES_TSIndicates the reason why the TS is being deleted.DMG Allocation InfoDMG Allocation Info fieldAs defined in 8.4.2.136Specifies the DMG allocation under consideration. Not present when TSInfo is present.Multi-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number for the TS under consideration. The parameter is absent if the TS is intended to be deleted on the same frequency band and channel where the DELTS is transmitted.VendorSpecificInfoA set of elementsAs defined in 8.4.2.28Zero or more elements


page 83
55  Without reception of an MSDU belonging to that TS by the MAC entity of the DMG STA or HCwhen the DMG STA or HC is not the source STA of that TS.6.3.29 Block Ack6.3.29.2 MLME-ADDBA.request6.3.29.2.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.29.2.2 as follows:MLME-ADDBA.request(PeerSTAAddress,DialogToken,TID,BlockAckPolicy,BufferSize,BlockAckTimeout,ADDBAFailureTimeout,BlockAckStartingSequenceControl,GCRGroupAddress,Multi-band,TCLAS,ADDBA Extension,VendorSpecificInfo)Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.29.2.2:6.3.29.3 MLME-ADDBA.confirm6.3.29.3.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.29.3.2 as follows:MLME-ADDBA.confirm(PeerSTAAddress,DialogToken,TID,ResultCode,NameTypeValid rangeDescriptionMulti-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number where the Block Ack is to be established. The parameter is absent if the Block Ack is intended to be established on the same frequency band and channel where the ADDBA Request is transmitted.TCLASTCLAS elementAs defined in 8.4.2.33Zero or more TCLAS elements. Specifies the rules and parameters by which an MSDU might be classified to the specified TID. ADDBA ExtensionADDBA Extension elementAs defined in 8.4.2.141Specifies additional parameters associated with the Block Ack


page 84
BlockAckPolicy,BufferSize,BlockAckTimeout,GCRGroupAddress,Multi-band,TCLAS,ADDBA Extension,VendorSpecificInfo)Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.29.3.2:6.3.29.4 MLME-ADDBA.indication6.3.29.4.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.29.4.2 as follows:MLME-ADDBA.indication(PeerSTAAddress,DialogToken,TID,BlockAckPolicy,BufferSize,BlockAckTimeout,GCRGroupAddress,Multi-band,TCLAS,ADDBA Extension,VendorSpecificInfo)NameTypeValid rangeDescriptionMulti-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number where the Block Ack initiation was attempted. The parameter is absent if the Block Ack is intended was attempted to be established on the same frequency band and channel where the ADDBA Request is transmitted.TCLASTCLAS elementAs defined in 8.4.2.33Zero or more TCLAS elements. Specifies the rules and parameters by which an MSDU might be classified to the specified TID. ADDBA ExtensionADDBA Extension elementAs defined in 8.4.2.141Specifies additional parameters associated with the Block Ack


page 85
57Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.29.4.2:6.3.29.5 MLME-ADDBA.response6.3.29.5.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.29.5.2 as follows:MLME-ADDBA.response(PeerSTAAddress,DialogToken,TID,ResultCode,BlockAckPolicy,BufferSize,BlockAckTimeout,GCRGroupAddress,Multi-band,TCLAS,ADDBA Extension,VendorSpecificInfo)Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.29.5.2:NameTypeValid rangeDescriptionMulti-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number where the Block Ack is to be established. The parameter is absent if the Block Ack is intended to be established on the same frequency band and channel where the ADDBA Request is transmitted.TCLASTCLAS elementAs defined in 8.4.2.33Zero or more TCLAS elements. Specifies the rules and parameters by which an MSDU might be classified to the specified TID. ADDBA ExtensionADDBA Extension elementAs defined in 8.4.2.141Specifies additional parameters associated with the Block Ack.NameTypeValid rangeDescriptionMulti-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number where the Block Ack is intended to be established. The parameter is absent if the Block Ack is intended to be established on the same frequency band and channel where the ADDBA Response is transmitted.TCLASTCLAS elementAs defined in 8.4.2.33Zero or more TCLAS elements. Specifies the rules and parameters by which an MSDU might be classified to the specified TID. ADDBA ExtensionADDBA Extension elementAs defined in 8.4.2.141Specifies additional parameters associated with the Block Ack


page 86
6.3.29.6 MLME-DELBA.request6.3.29.6.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.29.6.2 as follows:MLME-DELBA.request(PeerSTAAddress,Direction,TID,ReasonCode,Multi-band,TCLAS,VendorSpecificInfo)Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.29.6.2:6.3.29.7 MLME-DELBA.indication6.3.29.7.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.29.7.2 as follows:MLME-DELBA.indication(PeerSTAAddress,Direction,TID,ReasonCode,Multi-band,TCLAS,VendorSpecificInfo)NameTypeValid rangeDescriptionMulti-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number where the Block Ack is to be deleted. The parameter is absent if the Block Ack to be deleted is established on the same frequency band and channel where the DELBA is transmitted.TCLASTCLAS elementAs defined in 8.4.2.33Zero or more TCLAS elements. Specifies the rules and parameters by which an MSDU might be classified to the specified TID


page 87
59Insert the following rows before the VendorSpecificInfo row in the untitled table in 6.3.29.7.2:6.3.71 Network discovery and selection support6.3.71.2 MLME-GAS.request6.3.71.2.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.71.2.2 as follows:MLME-GAS.request(PeerSTAAddress,DialogToken,AdvertisementProtocolID,Query,QueryFailureTimeout,Protected,Multi-band)Insert the following row at the end of the untitled table in 6.3.71.2.2:6.3.71.3 MLME-GAS.confirm6.3.71.3.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.71.3.2 as follows:MLME-GAS.confirm(PeerSTAAddress,DialogToken,ResultCode,ResponseInfo,Protected,Multi-band)NameTypeValid rangeDescriptionMulti-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number where Block Ack is to be deleted. The parameter is absent if the Block Ack deletion refers to the same frequency band and channel where the DELBA is transmitted.TCLASTCLAS elementAs defined in 8.4.2.33Zero or more TCLAS elements. Specifies the rules and parameters by which an MSDU might be classified to the specified TID. NameTypeValid rangeDescriptionMulti-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number to which the GAS transaction applies. The parameter is absent if the GAS transaction applies to the same frequency band and channel where the frame is transmitted


page 88
Insert the following row at the end of the untitled table in 6.3.71.3.2:6.3.71.4 MLME-GAS.indication6.3.71.4.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.71.4.2 as follows:MLME-GAS.indication(PeerSTAAddress,DialogToken,AdvertisementProtocolID,Query,Protected,Multi-band)Insert the following row at the end of the untitled table in 6.3.71.4.2:6.3.71.5 MLME-GAS.response6.3.71.5.2 Semantics of the service primitiveChange the primitive parameter list in 6.3.71.5.2 as follows:MLME-GAS.response(PeerSTAAddress,DialogToken,ResultCode,ResponseInfo,Protected,Multi-band)NameTypeValid rangeDescriptionMulti-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number to which the GAS transaction applies. The parameter is absent if the GAS transaction applies to the same frequency band and channel where the frame is transmitted.NameTypeValid rangeDescriptionMulti-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number to which the GAS transaction applies. The parameter is absent if the GAS transaction applies to the same frequency band and channel where the frame is transmitted


page 89
61Insert the following row at the end of the untitled table in 6.3.71.5.2:6.3.88 AP PeerKey managementInsert the following subclauses, 6.3.89 to 6.3.94.3.4 (including Figure 6-25b), after 6.3.88.3.4:6.3.89 On-channel Tunneling operation6.3.89.1 GeneralOn-channel tunneling (OCT) primitives are used as part of multi-band operation (see 10.32). OCT framesare used to transport management frames between peer MLME entities of multi-band capable devices. The operation of the OCT is illustrated in Figure6-25b.An initiator MLME of a STA that might not be currently enabled to transmit generates a MLME-OCTunnel.request primitive to a local MLME entity of a STA that is enabled to transmit. This requestcarries the contents of a management frame and replaces transmission on-the-air of that frame. The recipient MLME generates the MLME-OCTunnel.indication primitive to the local MLME entityidentified in the On-channel Tunnel Request frame. The direct MLME-to-MLME primitive exchange should be viewed as shorthand for an exchange throughthe SMEs and multi-band entity, i.e., an MLME addresses another local MLME entity by sending thatprimitive through its SME and the multi-band entity to the SME of the MLME entity of a STA that isenabled to transmit, which reflects that primitive to the appropriate recipient. 6.3.89.2 MLME-OCTunnel.request6.3.89.2.1 FunctionThis primitive requests transmission of an On-channel Tunnel Request frame.NameTypeValid rangeDescriptionMulti-bandMulti-band elementAs defined in 8.4.2.140Specifies the frequency band and channel number to which the GAS transaction applies. The parameter is absent if the GAS transaction applies to the same frequency band and channel where the frame is transmitted.Multi-band capable deviceSMENT-MLMETR-MLMESMENT-MLMETR-MLMEOn-channel Tunnel RequestframeMLME-OCTunnel.ind (tunneled MMPDU)MLME-OCTunnel.req (tunneled MMPDU)Multi-band capable deviceFigure 6-25b  Operation of OC


page 90
6.3.89.2.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-OCTunnel.request(PeerSTAAddress,OCT MMPDU,Multi-band peer)6.3.89.2.3 When generatedThis primitive is generated by another MLME to request that an On-channel Tunnel Request frame be sentto another STA.6.3.89.2.4 Effect on receiptOn receipt of this primitive, the MLME constructs and attempts to transmit an On-channel Tunnel Requestframe.6.3.89.3 MLME-OCTunnel.indication6.3.89.3.1 FunctionThis primitive indicates that an On-channel Tunnel Request frame was received.6.3.89.3.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-OCTunnel.indication(PeerSTAAddress,OCT MMPDU,Multi-band local)NameTypeValid rangeDescriptionPeerSTAAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA to which the On-channel Tunnel Request frame is transmitted.OCT MMPDUOCT MMPDU structureAs defined in the On-channel Tunnel Request frame format (see 8.5.21.7)The OCT MMPDU carries the MMPDU to be tunneled to the specified MLME entity of the specified STA.Multi-band peerMulti-band elementAs defined in the Multi-band element format (see 8.4.2.140)The Multi-band element identifies the peer MLME entity that should receive the OCT MMPDU


page 91
636.3.89.3.3 When generatedThis primitive is generated by the MLME to notify another MLME when a valid On-channel TunnelRequest frame is received.6.3.89.3.4 Effect on receiptThe recipient of this primitive is an MLME entity in a multi-band device. On receipt of this primitive, the MLME retrieves the tunneled frame and processes it as though it werereceived on-the-air.6.3.90 Multi-band operation6.3.90.1 GeneralThis subclause describes the management procedures associated with the multi-band operation mechanism.6.3.90.2 MLME-FSTSetup.request6.3.90.2.1 FunctionThis primitive requests transmission of an FST Setup Request frame.6.3.90.2.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-FSTSetup.request(FSTResponderAddress,FSTSetupRequest)NameTypeValid rangeDescriptionPeerSTAAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA from which the On-channel Tunnel Request frame was received.OCT MMPDUOCT MMPDU structureAs defined in the On-channel Tunnel Request frame format (see 8.5.21.7)The OCT MMPDU carries the MMPDU that is being tunneled to the local MLME entity.Multi-band localMulti-band elementAs defined in the Multi-band element format (see 8.4.2.140)The Multi-band element identifies the local MLME entity that should receive the OCT MMPDU


page 92
6.3.90.2.3 When generatedThis primitive is generated by the SME to request that an FST Setup Request frame be sent to another STA.6.3.90.2.4 Effect on receiptOn receipt of this primitive, the MLME constructs and attempts to transmit an FST Setup Request frame.6.3.90.3 MLME-FSTSetup.indication6.3.90.3.1 FunctionThis primitive indicates that an FST Setup Request frame was received.6.3.90.3.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-FSTSetup.indication(FSTInitiatorAddress,FSTSetupRequest)6.3.90.3.3 When generatedThis primitive is generated by the MLME when a valid FST Setup Request frame is received.6.3.90.3.4 Effect on receiptOn receipt of this primitive, the SME operates according to the procedure in 10.32.NameTypeValid rangeDescriptionFSTResponderAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA to which the FST Setup Request frame is transmitted.FSTSetupRequestFST Setup Request Action field As defined in the FST Setup Request frame formatSpecifies the parameters of the FST Setup.NameTypeValid rangeDescriptionFSTInitiatorAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA from which the FST Setup Request frame was received.FSTSetupRequestFST Setup Request Action fieldAs defined in FST Setup Request frameSpecifies the parameters of the FST Setup


page 93
656.3.90.4 MLME-FSTSetup.response6.3.90.4.1 FunctionThis primitive requests that an FST Setup Response frame be transmitted to the FST initiator STA.6.3.90.4.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-FSTSetup.response(FSTInitiatorAddress,FSTSetupResponse)6.3.90.4.3 When generatedThis primitive is generated by the SME to request that an FST Setup Response frame is be transmitted to theFST initiator STA.6.3.90.4.4 Effect on receiptOn receipt of this primitive, the MLME constructs and attempts to transmit an FST Setup Response frame.6.3.90.5 MLME-FSTSetup.confirm6.3.90.5.1 FunctionThis primitive indicates that an FST Setup Response frame was received.6.3.90.5.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-FSTSetup.confirm(FSTResponderAddress,FSTSetupResponse)NameTypeValid rangeDescriptionFSTInitiatorAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA to which the FST Setup Response frame is transmitted.FSTSetupResponseFST Setup Response Action field As defined in FST Setup Response frameSpecifies the parameters of the FST Setup


page 94
6.3.90.5.3 When generatedThis primitive is generated by the MLME when a valid FST Setup Response frame is received.6.3.90.5.4 Effect on receiptOn receipt of this primitive, the SME operates according to the procedure in 10.32.6.3.90.6 MLME-FSTAck.request6.3.90.6.1 FunctionThis primitive requests transmission of an FST Ack Request frame.6.3.90.6.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-FSTAck.request(FSTResponderAddress,FSTAckRequest)6.3.90.6.3 When generatedThis primitive is generated by the SME to request that an FST Ack Request frame be sent to another STA.6.3.90.6.4 Effect on receiptOn receipt of this primitive, the MLME constructs and attempts to transmit an FST Ack Request frame.NameTypeValid rangeDescriptionFSTResponderAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA from which the FST Setup Response frame was received.FSTSetupResponseFST Setup Response Action fieldAs defined in FST Setup Response frameSpecifies the parameters of the FST Setup.NameTypeValid rangeDescriptionFSTResponderAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA to which the FST Ack Request frame is transmitted.FSTAckRequestFST Ack Request Action fieldAs defined in FST Ack Request frameSpecifies the parameters of the FST Ack Request


page 95
676.3.90.7 MLME-FSTAck.indication6.3.90.7.1 FunctionThis primitive indicates that an FST Ack Request frame was received.6.3.90.7.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-FSTAck.indication(FSTInitiatorAddress,FSTAckRequest)6.3.90.7.3 When generatedThis primitive is generated by the MLME when a valid FST Ack Request frame is received.6.3.90.7.4 Effect on receiptOn receipt of this primitive, the MLME operates according to the procedure in 10.32.6.3.90.8 MLME-FSTAck.response6.3.90.8.1 FunctionThis primitive requests that an FST Ack Response frame be transmitted to the FST initiator STA.6.3.90.8.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-FSTAck.response(FSTInitiatorAddress,FSTAckResponse)NameTypeValid rangeDescriptionFSTInitiatorAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA from which the FST Ack Request frame was received.FSTAckRequestFST Ack Request Action fieldAs defined in FST Ack Request frameSpecifies the parameters of the FST Ack Request


page 96
6.3.90.8.3 When generatedThis primitive is generated by the SME to request that an FST Ack Response frame be transmitted to theFST initiator STA.6.3.90.8.4 Effect on receiptOn receipt of this primitive, the MLME constructs and attempts to transmit an FST Ack Response frame.6.3.90.9 MLME-FSTAck.confirm6.3.90.9.1 FunctionThis primitive indicates that an FST Ack Response frame was received.6.3.90.9.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-FSTAck.confirm(FSTResponderAddress,FSTAckResponse)6.3.90.9.3 When generatedThis primitive is generated by the MLME when a valid FST Ack Response frame is received.6.3.90.9.4 Effect on receiptOn receipt of this primitive, the MLME operates according to the procedure in 10.32.NameTypeValid rangeDescriptionFSTInitiatorAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA to which the FST Ack Response frame is transmitted.FSTAckResponseFST Ack Response Action fieldAs defined in FST Ack Response frameSpecifies the parameters of the FST Ack Response.NameTypeValid rangeDescriptionFSTResponderAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA from which the FST Ack Response frame was received.FSTAckResponseFST Ack Response Action fieldAs defined in FST Ack Response frameSpecifies the parameters of the FST Ack Response


page 97
696.3.90.10 MLME-FSTTeardown.request6.3.90.10.1 FunctionThis primitive requests that an FST Tear Down frame be transmitted to the FST initiator STA.6.3.90.10.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-FSTTeardown.request(FSTPeerSTAAddress,FSTTeardown)6.3.90.10.3 When generatedThis primitive is generated by the SME to request that an FST Tear Down frame be transmitted to the FSTpeer STA.6.3.90.10.4 Effect on receiptOn receipt of this primitive, the MLME constructs and attempts to transmit an FST Tear Down frame.6.3.90.11 MLME-FSTTeardown.indication6.3.90.11.1 FunctionThis primitive indicates that an FST Tear Down frame was received.6.3.90.11.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-FSTTeardown.indication(FSTPeerSTAAddress,FSTAckResponse)NameTypeValid rangeDescriptionFSTPeerSTAAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA to which the FST Tear Down frame is transmitted.FSTTeardownFST Tear Down Action fieldAs defined in FST Tear Down frameSpecifies the parameters of the FST teardown


page 98
6.3.90.11.3 When generatedThis primitive is generated by the MLME when a valid FST Tear Down frame is received.6.3.90.11.4 Effect on receiptOn receipt of this primitive, the MLME operates according to the procedure in 10.32.6.3.90.12 MLME-FSTIncoming.request6.3.90.12.1 FunctionThis primitive announces an incoming FST from another band/channel. This primitive does not result in thetransmission of a frame.6.3.90.12.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-FSTIncoming.request(FSTInitiatorAddress,FSTResponderAddress,FSTSetupRequest,FSTSetupResponse,FSTIsInitiator)NameTypeValid rangeDescriptionFSTPeerSTAAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA from which the FST Tear Down frame was received.FSTTeardownFST Tear Down Action fieldAs defined in FST Tear Down frameSpecifies the parameters of the FST teardown.NameTypeValid rangeDescriptionFSTInitiatorAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA that is the FST initiator.FSTResponderAddressMAC AddressAny valid individual MAC addressSpecifies the MAC address of the STA that is the FST responder.FSTSetupRequestFST Setup Request Action fieldAs defined in FST Setup Request frameSpecifies the parameters of the last FST Setup Request frame exchanged between the initiator and responder.FSTSetupResponseFST Setup Response Action fieldAs defined in FST Setup Response frameSpecifies the parameters of the last FST Setup Response frame exchanged between the initiator and responder.FSTIsInitiatorBooleantrue, falseIndicates the role that the STA performs in the FST. Set to true if the STA performs in the role of initiator STA, and set to false otherwise


page 99
716.3.90.12.3 When generatedThis primitive is generated by the SME to announce that an FST session is being transferred from anotherband/channel.6.3.90.12.4 Effect on receiptOn receipt of this primitive, the MLME is notified of an incoming FST session. The MLME does nottransmit a frame as a result of this primitive.6.3.91 DMG relay operation6.3.91.1 GeneralThis subclause describes the management procedures associated with DMG relay.6.3.91.2 MLME-RELAYSearch.request6.3.91.2.1 FunctionThis primitive requests a list of relay DMG STAs (RDSs) in the BSS.6.3.91.2.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-RELAYSearch.request(DestinationMACAddress)6.3.91.2.3 When generatedThis primitive is generated by the SME at a non-PCP/non-AP STA to request the PCP/AP for a list of RDSsin the BSS.6.3.91.2.4 Effect on receiptThis primitive initiates a relay search procedure. The MLME subsequently issues an MLME-RELAYSearch.confirm primitive that reflects the results.6.3.91.3 MLME-RELAYSearch.confirm6.3.91.3.1 FunctionThis primitive reports a list of RDSs in the BSS.NameTypeValid rangeDescriptionDestinationMACAddressMACAddressAny valid individual MAC addressSpecifies the MAC address of the non-PCP/non-AP STA that is the intended immediate recipient of the data flow


page 100
6.3.91.3.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-RELAYSearch.confirm(RelayCapableSTAInfo,ResultCode)6.3.91.3.3 When generatedThis primitive is generated when a valid Relay Search Response frame is received. 6.3.91.3.4 Effect on receiptThe SME is notified of the results of the relay search procedure.6.3.91.4 MLME-RELAYSearch.indication6.3.91.4.1 FunctionThis primitive reports to the SME the request for obtaining a list of RDSs in the BSS.6.3.91.4.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-RELAYSearch.indication(SourceMACAddress)6.3.91.4.3 When generatedThis primitive is generated by the MLME as a result of the receipt of a request to obtain a list of RDSs in theBSS. The receipt of the request resulted from a relay search procedure that was initiated by the STAindicated by the source MAC address specified in the primitive.NameTypeValid rangeDescriptionRelayCapableSTAInfo (0 or more)As defined in frame formatAs defined in 8.4.1.44As described in 8.4.1.44ResultCodeEnumerationSUCCESS, REFUSEDIndicates the results of the corresponding MLME-RELAYSearch.request.NameTypeValid rangeDescriptionSourceMACAddressMACAddressAny valid individual MAC addressSpecifies the MAC address of the non-PCP/non-AP STA that is the intended immediate recipient of the data flow


page 101
736.3.91.4.4 Effect on receiptThe SME is notified of a request by a specified non-PCP/non-AP STA to obtain a list of RDSs in the BSS.6.3.91.5 MLME-RELAYSearch.response6.3.91.5.1 FunctionThis primitive is used to provide the results of a Relay Search Request.6.3.91.5.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-RELAYSearch.response(PeerMACAddress,RelayCapableSTAInfo,StatusCode)6.3.91.5.3 When generatedThis primitive is generated by the SME to provide the results of a Relay Search Request.6.3.91.5.4 Effect on receiptOn receipt of this primitive, the MLME constructs and attempts to transmit a Relay Search Response frame.6.3.91.6 MLME-RLS.request6.3.91.6.1 FunctionThis primitive requests the set up of a relay link with a specified peer MAC entity via a specified relay MACentity.6.3.91.6.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-RLS.request(DestinationMACAddress,RelayMACAddress,NameTypeValid rangeDescriptionPeerMACAddressMACAddressAny valid individual MAC addressThe address of the MAC entity to which the Relay Search Response frame was sent.RelayCapableSTAInfo (0 or more)As defined in frame formatAs defined in 8.4.1.44As described in 8.4.1.44StatusCodeAs defined in frame formatAs defined in 8.4.1.9As described in 8.4.1.


page 102
DestinationCapabilityInformation,RelayCapabilityInformation,RelayTransferParameterSet)6.3.91.6.3 When generatedThis primitive is generated by the SME at a non-PCP/non-AP STA to set up a relay link with another non-PCP/non-AP STA.6.3.91.6.4 Effect on receiptThis primitive initiates a relay link set up procedure. 6.3.91.7 MLME-RLS.confirm6.3.91.7.1 FunctionThis primitive reports the results of a relay link set up attempt with a specified peer MAC entity.6.3.91.7.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-RLS.confirm(PeerMACAddress,RelayMACAddress,ResultCode)NameTypeValid rangeDescriptionDestinationMACAddressMACAddressAny valid individual MAC addressSpecifies the MAC address of the non-PCP/non-AP STA that is the intended immediate recipient of the data flow.RelayMACAddressMACAddressAny valid individual MAC addressSpecifies the MAC address of the selected RDS.DestinationCapabilityInformationAs defined in frame formatAs defined in frame formatIndicates the Relay capabilities info field within the Relay capabilities element of the target destination relay endpoint DMG STA (REDS).RelayCapabilityInformationAs defined in frame formatAs defined in frame formatIndicates the Relay capabilities info field within the Relay capabilities element of the selected RDS.RelayTransferParameterSetAs defined in frame formatAs defined in frame formatSpecifies the parameters for the relay operation


page 103
756.3.91.7.3 When generatedThis primitive is generated when a valid RLS Response frame is received. 6.3.91.7.4 Effect on receiptThe SME is notified of the results of the relay link set up procedure.6.3.91.8 MLME-RLS.indication6.3.91.8.1 FunctionThis primitive reports the establishment of a relay link with a specified peer MAC entity.6.3.91.8.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-RLS.indication(SourceMACAddress,RelayMACAddress,SourceCapabilityInformation,RelayCapabilityInformation,RelayTransferParameterSet) NameTypeValid rangeDescriptionPeerMACAddressMACAddressAny valid individual MAC addressSpecifies the MAC address of the non-PCP/non-AP STA from which the frame was received.RelayMACAddressMACAddressAny valid individual MAC addressSpecifies the MAC address of the selected RDSResultCodeEnumerationSUCCESS, REFUSEDIndicates the results of the corresponding MLME-RLS.request.NameTypeValid rangeDescriptionSourceMACAddressMACAddressAny valid individual MAC addressSpecifies the MAC address of the STA that is the intended immediate recipient of the data flow.RelayMACAddressMACAddressAny valid individual MAC addressSpecifies the MAC address of the selected RDSSourceCapabilityInformationAs defined in frame formatAs defined in frame formatSpecifies the operational capability definitions to be used by the peer MAC entity


page 104
6.3.91.8.3 When generatedThis primitive is generated by the MLME as result of the establishment of a relay link with a specific peerMAC entity, and that resulted from a relay link set up procedure that was initiated by that specific sourceMAC entity.6.3.91.8.4 Effect on receiptThe SME is notified of the establishment of the relay link set up.6.3.91.9 MLME-RLS.response6.3.91.9.1 FunctionThis primitive is used to provide the results of an RLS Request.6.3.91.9.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-RLS.response(PeerMACAddress,DestinationStatusCode,RelayStatusCode)6.3.91.9.3 When generatedThis primitive is generated by the SME to provide the results of a RLS Request.6.3.91.9.4 Effect on receiptOn receipt of this primitive, the MLME constructs and attempts to transmit an RLS Response frame.RelayCapabilityInformationAs defined in frame formatAs defined in frame formatIndicates the Relay capabilities info field within the Relay capabilities element of the selected RDSRelayTransferParameterSetAs defined in frame formatAs defined in frame formatSpecifies the parameters for the relay operation NameTypeValid rangeDescriptionPeerMACAddressMACAddressAny valid individual MAC addressSpecifies the MAC address of the peer STA.DestinationStatusCodeAs defined in frame formatAs defined in 8.4.1.9As described in 8.4.1.9RelayStatusCodeAs defined in frame formatAs defined in 8.4.1.9As described in 8.4.1.9NameTypeValid rangeDescriptio


page 105
776.3.91.10 MLME-RLSTeardown.request6.3.91.10.1 FunctionThis primitive requests the teardown of the relay link with a specified peer MAC entity.6.3.91.10.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME- RLSTeardown.request(DestinationMACAddress,RelayMACAddress,Reason) 6.3.91.10.3 When generatedThis primitive is generated by the SME at a STA for tearing down a relay link with another non-PCP/non-AP STA.6.3.91.10.4 Effect on receiptThis primitive initiates a relay link teardown procedure. The MLME subsequently issues an MLME-RLSTeardown.confirm primitive that reflects the results. 6.3.91.11 MLME-RLSTeardown.indication6.3.91.11.1 FunctionThis primitive indicates the teardown of an already established relay link with a specific peer MAC entity.6.3.91.11.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-RLSTeardown.indication(SourceMACAddress,Reason)NameTypeValid rangeDescriptionDestinationMACAddressMACAddressAny valid individual MAC addressSpecifies the MAC address of the non-PCP/non-AP STA that is the intended immediate recipient of the data flow.RelayMACAddressMACAddressAny valid individual MAC addressSpecifies the MAC address of the selected RDS.ReasonEnumerationREQUESTED, TIMEOUTIndicates the reason why the relay link is being torn down


page 106
6.3.91.11.3 When generatedThis primitive is generated by the MLME as result of the teardown of a relay link with a specific peer MACentity, and that resulted from a relay link teardown procedure that was initiated either by that specific peerMAC entity or by the local MAC entity.6.3.91.11.4 Effect on receiptThe SME is notified of the relay link teardown.6.3.92 Quieting adjacent BSS operation6.3.92.1 GeneralThis subclause describes the management procedure associated with the QAB operation.The primitives defined are MLME-QAB.request, MLME-QAB.confirm, MLME-QAB.indication, andMLME-QAB.response.6.3.92.2 MLME-QAB.request6.3.92.2.1 FunctionThis primitive requests transmission of a (protected) QAB Request frame.6.3.92.2.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-QAB.request(DialogToken,RequesterAP Address,ResponderAP Address,QuietPeriodRequest,Protected,VendorSpecificInfo)NameTypeValid rangeDescriptionSourceMACAddressMACAddressAny valid individual MAC addressSpecifies the MAC address of the non-PCP/non-AP STA that is the intended immediate recipient of the data flow.ReasonEnumerationREQUESTED, TIMEOUTIndicates the reason why the relay link is being torn down


page 107
796.3.92.2.3 When generatedThis primitive is generated by the STA management entity (SME) to request that a (Protected) QAB framebe sent by a STA.6.3.92.2.4 Effect on receiptOn receipt of this primitive, the MLME constructs and transmits a (Protected) QAB request frame.6.3.92.3 MLME-QAB.confirm6.3.92.3.1 FunctionThis primitive reports the result of a transmission of a QAB Request frame. 6.3.92.3.2 Semantics of the service primitiveThe primitive parameters as follows:MLME-QAB.confirm(DialogToken,RequesterAP Address,ResponderAP Address,QuietPeriodResponse,ResultCode,VendorSpecificInfo)NameTypeValid rangeDescriptionDialogTokenInteger1  255The Dialog Token to identify the QAB transaction.RequesterAP AddressMACAddressAny valid individual MAC addressThe address of the MAC entity from which the (protected) QAB request frame was sent.ResponderAP AddressMACAddressAny valid individual MAC addressThe address of the peer MAC entity to which the (protected) QAB request was sent.QuietPeriodRequestA set of information subfieldsAs described in 8.4.2.152As described in 8.4.2.152.ProtectedBooleantrue, falseSpecifies whether the request is sent using a robust management frame.If true, the request is sent using the Protected QAB request frame.If false, the request is sent using the QAB request frame.VendorSpecificInfoA set of elementsAs defined in 8.4.2.28Zero or more elements


page 108
6.3.92.3.3 When generatedThis primitive is generated by the MLME when a QAB request completes. Possible unspecified failurecauses include an inability to provide the Quite Period Request element.6.3.92.3.4 Effect on receiptThe SME is notified of the results of the QAB request procedure.6.3.92.4 MLME-QAB.indication6.3.92.4.1 FunctionThis primitive indicates that a (Protected) QAB Request frame was received.6.3.92.4.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-QAB.indication(DialogTokenPeerMACAddress,QuietPeriodRequest,Protected,VendorSpecificInfo)NameTypeValid rangeDescriptionDialogTokenInteger1  255The Dialog Token to identify the QAB transaction.RequesterAP AddressMACAddressAny valid individual MAC addressThe address of the MAC entity to which the (protected) QAB Response frame was addressed.ResponderAP AddressMACAddressAny valid individual MAC addressThe address of the peer MAC entity from which the (protected) QAB Response was received.QuietPeriodResponseA set of information subfieldsAs described in 8.4.2.153As described in 8.4.2.153.ResultCodeEnumerationSUCCESSReports the result of an QAB request.VendorSpecificInfoA set of elementsAs defined in 8.4.2.28Zero or more elements.NameTypeValid rangeDescriptionDialogTokenInteger1  255The Dialog Token to identify the QAB transaction.PeerMACAddressMACAddressAny valid individual MAC addressThe address of the peer MAC entity from which the QAB Request frame was received


page 109
816.3.92.4.3 When generatedThis primitive is generated by the MLME when a valid (Protected) QAB Request frame is received.6.3.92.4.4 Effect on receiptOn receipt of this primitive, the SME decides whether to schedule quiet periods as requested.6.3.92.5 MLME-QAB.response6.3.92.5.1 FunctionThis primitive is used to provide the results of a QAB Request.6.3.92.5.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-QAB.response(DialogToken,RequesterAP Address,ResponderAP Address,QuietPeriodResponse,VendorSpecificInfo)QuietPeriodRequestA set of information subfieldsAs described in 8.4.2.152As described in 8.4.2.152.ProtectedBooleantrue, falseSpecifies whether the request was received using a robust management frame.If true, the request was received using the Protected QAB Request frame.If false, the request was received using the QAB Request frame.VendorSpecificInfoA set of elementsAs defined in 8.4.2.28Zero or more elements.NameTypeValid rangeDescriptionDialogTokenInteger1  255The Dialog Token to identify the QAB transaction.RequesterAP AddressMACAddressAny valid individual MAC addressThe address of the MAC entity to which the (protected) QAB Response frame was sent.ResponderAP AddressMACAddressAny valid individual MAC addressThe address of the peer MAC entity from which the (protected) QAB Response was sent.NameTypeValid rangeDescriptio


page 110
6.3.92.5.3 When generatedThis primitive is generated by the SME to provide the results of a QAB Request. 6.3.92.5.4 Effect on receiptOn receipt of this primitive, the MLME provides the results of a QAB Request.6.3.93 DMG beamforming6.3.93.1 GeneralThis subclause describes the management procedures associated with DMG beamforming.6.3.93.2 MLME-BF-TRAINING.request6.3.93.2.1 FunctionThis primitive requests that beamforming training occur with a peer DMG STA.6.3.93.2.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-BF-TRAINING.request(PeerSTAAddress,RequestBRP)6.3.93.2.3 When generatedThis primitive is generated by the SME to request that beamforming training be performed with a peer DMGSTA.QuietPeriodResponseA set of information subfieldsAs described in 8.4.2.153As described in 8.4.2.153.VendorSpecificInfoA set of elementsAs defined in 8.4.2.28Zero or more elements.NameTypeValid rangeDescriptionPeerSTAAddressMACAddressAny valid individual MAC addressSpecifies the address of the peer MAC entity with which to perform beamforming training.RequestBRPBooleanTrue, falseIf true, the beam refinement protocol (BRP) is performed as part of the beamforming training.If false, only sector-level sweep (SLS) is performed.NameTypeValid rangeDescriptio


page 111
836.3.93.2.4 Effect on receiptOn receipt of this primitive, the MLME invokes the MAC sublayer beamforming training proceduresdefined in 9.35.6.3.93.3 MLME-BF-TRAINING.confirm6.3.93.3.1 FunctionThis primitive reports the outcome of a requested beamforming training procedure.6.3.93.3.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-BF-TRAINING.confirm(PeerSTAAddress,ResultCode)6.3.93.3.3 When generatedThis primitive is generated by the MLME to report the result of beamforming training with a peer DMGSTA.6.3.93.3.4 Effect on receiptThe SME is notified of the result of the procedure.6.3.93.4 MLME-BF-TRAINING.indication6.3.93.4.1 FunctionThis primitive indicates that beamforming training with a peer DMG STA, and at the request of that peer,has completed.6.3.93.4.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-BF-TRAINING.indication(PeerSTAAddress,ResultCode)NameTypeValid rangeDescriptionPeerSTAAddressMACAddressAny valid individual MAC addressSpecifies the address of the peer MAC entity with which beamforming training was performed or attempted.ResultCodeEnumerationSUCCESS, TIMEOUT Indicates the result of the beamforming procedure


page 112
6.3.93.4.3 When generatedThis primitive is generated by the MLME to indicate successful completion of a beamforming trainingprocedure requested by a peer DMG STA.6.3.93.4.4 Effect on receiptThe SME is notified of the result of the procedure.6.3.94 PN event report6.3.94.1 GeneralThis subclause describes the management procedures associated with PN event report.6.3.94.2 MLME-PN-Exhaustion.indication6.3.94.2.1 FunctionThis primitive indicates that the PN associated with a temporal key exceeds dot11PNExhaustionThreshold.6.3.94.2.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-PN-Exhaustion.indication(Key ID,Key Type,Address)NameTypeValid rangeDescriptionPeerSTAAddressMACAddressAny valid individual MAC addressSpecifies the address of the peer MAC entity with which beamforming training was performed.ResultCodeEnumerationSUCCESS, TIMEOUT Indicates the result of the beamforming procedure.NameTypeValid rangeDescriptionKey IDIntegerN/AKey identifier.Key TypeIntegerGroup, Pairwise, PeerKey, IGTKDefines whether this key is a group key, pairwise key, PeerKey, or Integrity Group key.AddressMAC addressAny valid individual MAC addressThis parameter is valid only when the Key Type value is Pairwise, or when the Key Type value is Group and is from an IBSS STA, or when the Key Type value is PeerKey


page 113
856.3.94.2.3 When generatedThis primitive is generated by the MLME when the PN associated with a temporal key exceedsdot11PNExhaustionThreshold.6.3.94.2.4 Effect of receiptOn receipt of this primitive, the SME deletes the temporal key associated with the PN.6.3.94.3 MLME-PN-Warning.indication6.3.94.3.1 FunctionThis primitive indicates that the PN associated with a temporal key exceeds dot11PNWarningThreshold.6.3.94.3.2 Semantics of the service primitiveThe primitive parameters are as follows:MLME-PN-Warning.indication(Key ID,Key Type,Address)6.3.94.3.3 When generatedThis primitive is generated by the MLME when the PN associated with a temporal key exceedsdot11PNWarningThreshold.6.3.94.3.4 Effect of receiptOn receipt of this primitive, the SME can create a new temporal key before the PN space is exhausted.NameTypeValid rangeDescriptionKey IDIntegerN/AKey identifier.Key TypeIntegerGroup, Pairwise, PeerKey, IGTKDefines whether this key is a group key, pairwise key, PeerKey, or Integrity Group keyAddressMAC addressAny valid individual MAC addressThis parameter is valid only when the Key Type value is Pairwise, or when the Key Type value is Group and is from an IBSS STA, or when the Key Type value is PeerKey


page 114
6.5 PLME SAP interface6.5.8 PLME-TXTIME.confirm6.5.8.2 Semantics of the service primitiveChange 6.5.8.2 as follows:This primitive provides the following parameter:PLME-TXTIME.confirm(TXTIME)The TXTIME represents the time, in microseconds, required to transmit the PPDU described in thecorresponding PLME-TXTIME.request primitive. If the calculated time includes a fractional microsecond, anon-DMG STA rounds the TXTIME value is rounded up to the next higher integer. A DMG STA does notround the TXTIME value up or down (see 21.12.3). Insert the following subclauses, 6.5.9 to 6.5.10.4 (including Figure 6-27), after 6.5.8.4:6.5.9 PLME-DMGTESTMODE.request6.5.9.1 FunctionThis primitive requests that the DMG PHY entity enter a test mode operation. The parameters associatedwith this primitive are considered as recommendations and are optional in any particular implementation.6.5.9.2 Semantics of the service primitiveThe primitive parameters are as follows:PLME-DMGTESTMODE.request(TEST_ENABLE,TEST_MODE,SCRAMBLE_SEED,MCS,LENGTH,PACKET_TYPE,TRN_LEN,TONE_PAIRING,PAYLOAD_TYPE)NameTypeValid rangeDescriptionTEST_ENABLEBooleanTrue, FalseIf true, enables the PHY test mode according to the remaining parameters.TEST_MODEinteger1, 2TEST_MODE selects one of two operational states:1 = transparent receive2 = continuous packet transmitSCRAMBLE_SEEDinteger0    0x7fSelects the scrambling seed to be used for the transmit packets and sets the Scrambler Initialization field in the header


page 115
876.5.9.3 When generatedThis primitive is generated at any time to enter the DMG PHY test mode.6.5.9.4 Effect of receiptReceipt of this primitive by the PHY causes the DMG PHY entity to enter the test mode of operation.6.5.9.5 Payload Types6.5.9.5.1 All 1The payload data shall comprise octets, each with value 0xff.6.5.9.5.2 All 0The payload data shall comprise octets, each with value 0x00.MCSinteger0    31Selects the MCS to be used for the transmit packets and sets the MCS field in the header.LENGTHinteger0    262143Selects the number of payload octets to be transmitted in each packet.PACKET_TYPEinteger0, 1Sets the header Packet type field and determines the encoding of the BRP fields appended to the packet.0 = TRN-R1 = TRN-TTRN_LENinteger0    16Determines the number of BRP AGC and TRN-R/T fields that are appended to the packet and sets the Training Length field in the header.A value of n indicates that the AGC has 4n subfields and that the TRN-R/T field has 4n subfields.When n  0, the static DMG PHY characteristics aBRPminSCblocks and aBRPminOFDMblocks also apply. TONE_PAIRINGinteger0, 1For MCS 13-MCS17 selects static or dynamic tone pairing.0 = STP1 = DTPPAYLOAD_TYPEinteger0, 1, 2, 3, 4Selects one of five data patterns to be used for the transmit portions of the tests.0 = All 01 = All 12 = 8-bit count3 = 32-bit count4 = PN23NameTypeValid rangeDescriptio


page 116
6.5.9.5.3 8-bit countThe payload data comprises octets with an incrementing or    counting    value, reset to 0 at the beginning ofevery packet.The count is modulo 256. The first 32 octets shall be0x000:00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F0x010:10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F6.5.9.5.4 32-bit countThe payload data comprises 4-octet words with an incrementing or    counting    value, reset to 0 at thebeginning of every packet.The count is modulo 2147483648. The count value is transmitted least-significant octet first. The first32octets shall be0x000:00 00 00 00 01 00 00 00 02 00 00 00 03 00 00 000x010:04 00 00 00 05 00 00 00 06 00 00 00 07 00 00 006.5.9.5.5 PN23The payload data shall comprise octets drawn, LSB first, from a 223-1 length PRBS sequence generator asdefined in ITU REC O.150 section 5.6 and illustrated in Figure6-27.The PN generator is seeded with a 1 in the first stage and a 0 in all other stages at the beginning of the firstpacket transmitted after a PLME-DMGTESTOUTPUT.request primitive.  This means, for reference, thatthe first 64 payload octets (prior to scrambling) shall be0x000:00 00 42 00 08 20 20 84 90 00 00 4A 00 28 24 A00x010:84 92 42 08 43 00 88 20 20 C6 90 08 20 6A 84 B80x020:24 A0 CE 92 6A 2C E3 84 1A 62 28 85 90 80 00 4A0x030:42 28 2C 80 A4 16 D2 08 43 4A 88 08 04 66 14 9A6.5.10 PLME-DMGTESTOUTPUT.request6.5.10.1 FunctionThis optional primitive is a request by the PLME to enable selected tests signals from the PHY. Theparameters associated with this primitive are optional in any particular implementation. 015161718Seed =01235679101112131484192021220000000000000000000001Figure 6-27  PN23 Generato


page 117
896.5.10.2 Semantics of the service primitiveThe primitive parameters are as follows:PLME-DMGTESTMODE.request(TEST_OUTPUT)TEST_OUTPUT enables and disables selected signals for debugging and testing the PHY. The signals thatmay be available are the received PHY type, MCS, HCS, payload content, uncorrected FEC codewordcount, received EVM, RSSI.The uncorrected FEC codeword count is the number of FEC codewords in the most recently received packetfor which the FEC algorithm did not complete successfully due to transmission errors.6.5.10.3 When generatedThis primitive is generated at any time to enable the test outputs when in the DMG PHY test mode.6.5.10.4 Effect of receiptReceipt of this primitive by the DMG PHY causes the DMG PHY entity to enable the test outputs using themodes set by the most recent PLME-DMGTESTMODE.request primitive.NameTypeValid rangeDescriptionTEST_OUTPUTBooleanTrue, FalseIf true, enables the selected test signals for testing DMG PHY


page 118



page 119
917. PHY service specification7.3 Detailed PHY service specifications7.3.4 Basic service and options7.3.4.5 Vector descriptionsInsert the following row at the end of Table 7-4:7.3.5 PHY-SAP detailed service specificationInsert the following subclauses, 7.3.5.7a to 7.3.5.7a.4, after 7.3.5.7.4: 7.3.5.7a PHY-TXPLCPEND.indication7.3.5.7a.1 FunctionThis primitive indicates the transmission completion of the PLCP header to the local MAC entity.7.3.5.7a.2 Semantics of the service primitiveThe semantics of the primitive are as follows:PHY-TXPLCPEND.indicationThis primitive has no parameters.7.3.5.7a.3 When generatedThe PHY-TXPLCPEND.indication primitive is generated by a transmitter PHY entity at the end oftransmission of the last symbol containing the PLCP header. 7.3.5.7a.4 Effect of receiptThe receipt of this primitive by the MAC entity causes the MAC to record the time when this primitive isreceived only if TIME_OF_DEPARTURE_REQUESTED is true in the correspondingPHY_TXSTART.request primitive.Table 7-4  Vector descriptionsParameterAssociated vectorValueANT-CONFIGPHYCONFIG-VECTORIndicates which antenna configuration(s) is to be used when receiving packets and which configuration is to be used when switching configurations during the reception of a packet. Values are implementation dependent


page 120
Insert the following subclauses, 7.3.5.16 to 7.3.5.16.4, after 7.3.5.15.4: 7.3.5.16 PHY-TxBusy.indication7.3.5.16.1 FunctionThis primitive is an indication by the PHY to the local MAC entity(ies) of the current transmission state ofthe PHY.7.3.5.16.2 Semantics of the service primitiveThe primitive provides the following parameter:PHY-TxBusy.indication (STATE)The STATE parameter can be one of two values: BUSY or IDLE. The parameter value is BUSY if the PHYis transmitting a PPDU and thus not available to respond with a PHY-TXSTART.confirm primitive to aPHY-TXSTART.request primitive. Otherwise, the value of the parameter is IDLE.7.3.5.16.3 When generatedThe primitive is generated when the PHY issues a PHY-TXSTART.confirm primitive to one of the MACentities coordinated by an MM-SME, and is generated to all coordinated MAC entities except to the one towhich it responds with the PHY-TXSTART.confirm primitive. The STATE of the primitive is set to BUSY. This primitive is generated within aTxPLCPDelay of the occurrence of a change in the state of the PLCPtransmit state machine to the RX state. In this case, the STATE of the primitive is set to IDLE.7.3.5.16.4 Effect of receiptThe effect of receipt of this primitive by the MAC is unspecified if the STATE of the primitive is set toIDLE. The effect of receipt of this primitive by the MAC is specified in 9.19.2.5 if the STATE of theprimitive is set to BUSY


page 121
938. Frame formats8.2 MAC frame formats8.2.3 General frame formatIn Figure 8-1 (MAC frame format), change the octet range for Frame Body from 0-7951 to 0-7959.Change the second paragraph of 8.2.3, and insert Table 8-0a as indicated below: The Frame Body field is of variable size. The maximum frame body size is determined by the maximumMSDU size (2304 octets) (see Table8-0a), plus the length of the Mesh Control field (6, 12, or 18 octets) ifpresent, the maximum unencrypted MMPDU size excluding the MAC header and FCS (2304 octets) or themaximum A-MSDU size (see Table8-0a) (3839 or 7935 octets, depending upon the STA   s capability), plusany overhead from security encapsulation. The maximum MPDU length transmitted by a DMG STA is7995octets. 8.2.4 Frame fields8.2.4.1 Frame Control field8.2.4.1.1 GeneralChange 8.2.4.1.1, and insert Figure 8-2a as follows:The first three subfields of the Frame Control field are Protocol Version, Type, and Subtype. The remainingsubfields of the Frame Control field depend on the setting of the Type and Subtype subfields.When the value of the Type subfield is not equal to 1 or the value of the Subtype subfield is not equal to 6,Tthe remaining subfields within the Frame Control field are consists of the following subfields: ProtocolVersion, Type, Subtype, To DS, From DS, More Fragments, Retry, Power Management, More Data,Protected Frame, and Order. In this case, Tthe format of the Frame Control field is illustrated in Figure8-2.Table 8-0a  Maximum MSDU and A-MSDU sizesSTA typeMaximum MSDU size (octets)Maximum A-MSDU size (octets)non-DMG STA23043839 or 7935, depending upon the STA   s capabilityDMG STA79207935B0B1B2B3B4B7B8B9B10B11B12B13B14B15Protocol VersionTypeSubtypeTo DSFrom DSMore Frag-mentsRetryPower Manage-mentMore DataProtected FrameOrderBits:22411111111Figure 8-2  Frame Control field when Type is not equal to 1 or Subtype is not equal to 


page 122
When the value of the Type subfield is equal to 1 and the value of the Subtype subfield is equal to 6, theremaining subfields within the Frame Control field are the following: Control Frame Extension, PowerManagement, More Data, Protected Frame, and Order. In this case, the format of the Frame Control field isillustrated in Figure8-2a.8.2.4.1.3 Type and Subtype fieldsChange the following rows in Table 8-1:Insert the following paragraph, including Table 8-1a, at the end of 8.2.4.1.3:The Control Frame Extension subtype is used to increase the subtype space by reusing bits b8  b11. Theseadditional Control frames are defined in Table8-1a. B0 B1B2   B3B4    B7B8               B11B12B13B14B15Protocol VersionTypeSubtypeControl Frame ExtensionPower ManagementMore DataProtected FrameOrderBits:22441111Figure 8-2a  Frame Control field when Type is equal to 1 and Subtype is equal to 6Table 8-1  Valid type and subtype combinationsType valueb3 b2TypedescriptionSubtype valueb7 b6 b5 b4Subtype description01Control0000  01101Reserved01Control0110Control Frame Extension11Extension0000DMG Beacon 11ReservedExtension00001  1111ReservedTable 8-1a  Control Frame ExtensionType valueb3 b2Subtype valueb7 b6 b5 b4Control Frame Extension valueb11 b10 b9 b8Description0101100000Reserved0101100001Reserved0101100010Poll0101100011SPR0101100100Grant0101100101DMG CTS 0101100110DMG DTS 0101100111Grant AC


page 123
958.2.4.1.4 To DS and From DS fieldsChange Table 8-2 as follows:Insert the following paragraph at the end of 8.2.4.1.4:In Control frames of subtype Control Frame Extension, the To DS and From DS fields are not defined, andtheir bit positions are part of the Control Frame Extension field (see 8.2.4.1.3, Table8-1a). 8.2.4.1.5 More Fragments fieldInsert the following paragraph at the end of 8.2.4.1.5:In Control frames of subtype Control Frame Extension, the More Fragments field is not defined, and its bitposition is part of the Control Frame Extension field (see 8.2.4.1.3, Table8-1a). 8.2.4.1.6 Retry fieldInsert the following paragraph at the end of 8.2.4.1.6:In Control frames of subtype Control Frame Extension, the Retry field is not defined, and its bit position ispart of the Control Frame Extension field (see 8.2.4.1.3, Table8-1a). 0101101000SSW 0101101001SSW-Feedback0101101010SSW-ACK 0101101011  1111ReservedTable 8-2  To/From DS combinations in data frameTo DS and From DS valuesMeaningTo DS = 0From DS = 0A data frame direct from one STA to another STA within the same IBSS or the same PBSS, a data frame direct from one non-AP STA to another non-AP STA within the same infrastructure BSS, or a data frame outside the context of a BSS.To DS = 1From DS = 0A data frame destined for the DS or being sent by a STA associated with an AP to the Port Access Entity in that AP.To DS = 0From DS = 1A data frame exiting the DS or being sent by the Port Access Entity in an AP, or a group addressed Mesh Data frame with Mesh Control field present using the three-address MAC header format.To DS = 1From DS = 1A data frame using the four-address MAC header format. This standard defines procedures for using this combination of field values only in a mesh BSS.Table 8-1a  Control Frame Extension  (continued)Type valueb3 b2Subtype valueb7 b6 b5 b4Control Frame Extension valueb11 b10 b9 b8Descriptio


page 124
8.2.4.1.8 More Data fieldChange 8.2.4.1.8 as follows:The More Data field is 1 bit in length and is used differently by a non-DMG STA and by a DMG STA.A non-DMG STA uses the More Data field to indicate to a STA in PS mode that more BUs are buffered forthat STA at the AP. The More Data field is valid in individually addressed data or management type framestransmitted by an AP to a STA in PS mode. A value of 1 indicates that at least one additional buffered BU ispresent for the same STA.A non-DMG STA optionally sets Tthe More Data field is optionally set to 1 in individually addressed datatype frames transmitted by a CF-Pollable STA to the PC in response to a CF-Poll to indicate that the STAhas at least one additional buffered MSDU available for transmission in response to a subsequent CF-Poll.For a non-DMG STA in which the More Data Ack subfield of its QoS Capability element is 1 and that hasAPSD enabled, an AP optionally sets the More Data field to 1 in ACK frames to this STA to indicate that theAP has a pending transmission for the STA.For a STA with TDLS peer PSM enabled and the More Data Ack subfield equal to 1 in the QoS Capabilityelement of its transmitted TDLS Setup Request frame or TDLS Setup Response frame, a TDLS peer STAoptionally sets the More Data field to 1 in ACK frames to this STA to indicate that it has a pendingtransmission for the STA.The More Data field is 1 in individually addressed frames transmitted by a mesh STA to a peer mesh STAthat is either in light sleep mode or in deep sleep mode for the corresponding mesh peering, when additionalBUs remain to be transmitted to this peer mesh STA.A non-DMG STA sets Tthe More Data field is set to 0 in all other directed frames.A non-DMG STA sets Tthe More Data field is set to 1 in group addressed frames transmitted by the APwhen additional group addressed bufferable units (BUs) that are not part of an active GCR-SP remain to betransmitted by the AP during this beacon interval. The More Data field is set to 0 in group addressed framestransmitted by the AP when no more group addressed BUs that are not part of an active GCR-SP remain tobe transmitted by the AP during this beacon interval and in all group addressed frames transmitted by non-AP STAs. The More Data field is set to 1 in group addressed frames transmitted by the AP when additional groupaddressed BUs that are part of an active GCR-SP remain to be transmitted by the AP during this GCR-SP.The More Data field is set to 0 in group addressed frames transmitted by the AP when no more groupaddressed BUs that are part of an active GCR-SP remain to be transmitted by the AP during this GCR-SP.The More Data field is 1 in group addressed frames transmitted by a mesh STA when additional groupaddressed BUs remain to be transmitted. The More Data field is 0 in group addressed frames transmitted bya mesh STA when no more group addressed BUs remain to be transmitted.A DMG STA sets the More Data field as follows:   In directed frames, it is set to 1 to indicate that the STA has MSDUs or A-MSDUs buffered fortransmission to the frame   s recipient during the current SP or TXOP.  It is set to 1 in group addressed frames transmitted by the AP when additional group addressed BUsremain to be transmitted by the AP during this beacon interval. The More Data field is set to 0 ingroup addressed frames transmitted by the AP when no more group addressed BUs remain to betransmitted by the AP during this beacon interval


page 125
When theProtected Frame field is equal to 1, the Frame Body field is protected utilizing the cryptographicencapsulation algorithm and expanded as defined in Clause 11. The Protected Frame field is set to 0 in Dataframes of subtype Null Function, CF-ACK (no data), CF-Poll (no data), CF-ACK+CF-Poll (no data), QoSNull (no data), QoS CF-Poll (no data), and QoS CF-ACK+CF-Poll (no data) (see, for example, 11.4.2.2 and11.4.3.1 that show that the frame body needs to be 1 octet or longer to apply the encapsulation).8.2.4.1.10 Order fieldInsert the following note at the end of 8.2.4.1.10:NOTE  The Order field is always set to 0 for frames transmitted by a DMG STA. 8.2.4.2 Duration/ID fieldChange Table 8-3 as follows:8.2.4.3 Address fields8.2.4.3.4 BSSID fieldInsert the following paragraph after the first paragraph of 8.2.4.3.4: The value of this field in a PBSS is the MAC address of the PCP. Table 8-3  Duration/ID field encodingBits 0  13Bit 14Bit 15Usage0  32 7670Duration value (in microseconds) within all frames other than PS-Poll frames transmitted during the CP, within all frames transmitted by a DMG STA, and under HCF for frames transmitted during the CFP001Fixed value under point coordination function (PCF) within frames transmitted during the CFP. Reserved for DMG STAs. 1  16 38301Reserved011Reserved1  200711AID in PS-Poll frames. Reserved for DMG STAs. 2008  1638311Reserve


page 126
8.2.4.5 QoS Control field8.2.4.5.1 QoS Control field structureChange 8.2.4.5.1, and insert Table 8-4a as follows:The QoS Control field is a 16-bit field that identifies the TC or TS to which the frame belongs as well asvarious other QoS-related, A-MSDU  related, and mesh-related information about the frame that varies byframe type, subtype, and type of transmitting STA. The QoS Control field is present in all data frames inwhich the QoS subfield of the Subtype field is equal to 1 (see 8.2.4.1.3).When not transmitted within a DMG PPDU, eEach QoS Control field comprises five or eight subfields, asdefined for the particular sender (HC or non-AP STA) and frame type and subtype. The usage of thesesubfields and the various possible layouts of the QoS Control field are described 8.2.4.5.2 to 8.2.4.5.12 andillustrated in Table 8-4.See 9.12.1 for constraints on the contents of the QoS Control field when present in an A-MPDU.Table 8-4 remains unchanged.The format of the QoS Control field for MPDUs transmitted within a DMG PPDU is provided in Table8-4a.Data subtypes not shown in the table are not transmitted within a DMG PPDU. 8.2.4.5.2 TID subfieldChange Table 8-5 as follows:Table 8-4a  QoS Control field for frames transmitted within a DMG PPDUApplicable frame (sub-)typesBits 0  3Bit 4Bits 5  6Bit 7Bit 8Bit 9Bits 10  14Bit 15QoS DataTIDEOSPAck PolicyA-MSDU PresentA-MSDU TypeRDG/More PPDUReservedAC ConstraintQoS NullTIDEOSPAck PolicyReservedReservedRDG/More PPDUReservedAC Constraint Table 8-5  TID subfieldAccess policyUsageAllowed values in bits 0  3 (TID subfield)EDCAUP for either TC or TS, regardless of whether admission control is required0  7HCCA, SPCATSID8  15HEMM, SEMMTSID, regardless of access mechanism used8  1


page 127
998.2.4.5.3 EOSP (end of service period) subfieldChange the first paragraph of 8.2.4.5.3 as follows:The EOSP subfield is 1 bit in length and is used by the HC to indicate the end of the current service period(SP) and by a DMG STA to indicate the end of the current SP or the end of the current allocated CBAP withindividually addressed destination AID. The HC sets the EOSP subfield to 1 in its transmission andretransmissions of the SP   s final frame to end a scheduled/unscheduled SP and sets it to 0 otherwise. To endan SP allocation or a CBAP allocation with individually addressed destination AID, the DMG STA sets theEOSP subfield to 1 in its final frame transmission and retransmissions within the allocation; otherwise, theDMG STA sets the EOSP subfield to 0.8.2.4.5.4 Ack Policy subfieldChange the following row in Table 8-6: 8.2.4.5.9 A-MSDU Present subfieldInsert the following note at the end of 8.2.4.5.9:NOTE  For a DMG STA, when the A-MSDU Present subfield is set to 1, one of two A-MSDU formats can be presentin the Frame Body. The specific A-MSDU format present is indicated by the A-MSDU Type subfield. Insert the following subclauses, 8.2.4.5.13 to 8.2.4.5.15, after 8.2.4.5.12:8.2.4.5.13 A-MSDU Type subfieldThe A-MSDU Type subfield is 1 bit in length and indicates the type of A-MSDU present in the Frame Body.When the A-MSDU Type subfield is set to 0, the Frame Body field contains a Basic A-MSDU as defined in8.3.2.2.1. When the A-MSDU Type subfield is set to 1, the Frame Body field contains a Short A-MSDU asdefined in 8.3.2.2.3. The A-MSDU Type subfield is reserved if the A-MSDU Present subfield is set to 0.Table 8-6  Ack Policy subfield in QoS Control field of QoS data framesBits in QoS Control fieldMeaningBit 5Bit 600Normal Ack or Implicit Block Ack Request.In a frame that is a non-A-MPDU frame:The addressed recipient returns an ACK or QoS +CF-Ack frame after a short interframe space (SIFS) period, according to the procedures defined in 9.3.2.8 and 9.19.3.5. For a non-DMG STA, tThis is the only permissible value for the Ack Policy subfield for individually addressed QoS Null (no data) frames. In a frame that is part of an A-MPDU:The addressed recipient returns a BlockAck MPDU, either individually or as part of an A-MPDU starting a SIFS after the PPDU carrying the frame, according to the procedures defined in 9.3.2.9, 9.21.7.5, 9.21.8.3, 9.25.3, 9.25.4, and 9.29.3


page 128
8.2.4.5.14 RDG/More PPDU subfieldThe RDG/More PPDU subfield of the QoS Control field for DMG frames is interpreted differentlydepending on whether it is transmitted by an RD initiator or an RD responder, as defined in Table 8-13.8.2.4.5.15 AC Constraint subfieldThe AC Constraint subfield of the QoS Control field for DMG frames indicates whether the mapped AC ofan RD data frame is constrained to a single AC, as defined in Table 8-12.8.2.4.6 HT Control fieldInsert the following note after Table 8-12 (AC Constraint subfield values):NOTE  The AC of the last data frame received from the RD initiator is determined directly from the TID of thereceived frame if the TID is between 0 and 7 inclusive or from the UP field of the TSPEC identified by the TID of thereceived frame if the TID is between 8 and 15 inclusive.8.2.5 Duration/ID field (QoS STA)8.2.5.1 GeneralInsert the following paragraph as the new first paragraph in 8.2.5.1:The value in the Duration/ID field within Poll, SPR, Grant, Grant ACK, DMG CTS, DMG DTS, SSW,SSW-Feedback, and SSW-ACK frames transmitted by a DMG STA are described in 8.3.1.11 to 8.3.1.18.The value in the Duration/ID field within DMG Beacon frames transmitted by a DMG STA is described in8.3.4.1. 8.2.5.3 Setting for QoS CF-Poll framesInsert the following note at the end of 8.2.5.3: NOTE  DMG STAs do not transmit QoS CF-Poll frames.8.2.5.4 Setting for frames sent by a TXOP holder under HCCAInsert the following note at the end of 8.2.5.4: NOTE  DMG STAs do not use HCCA.8.2.5.5 Settings within a PSMP sequenceInsert the following note at the end of 8.2.5.5, and number the previous note as    NOTE 1   : NOTE 2  DMG STAs do not transmit PSMP frames.8.2.5.6 Settings within a dual CTS sequenceInsert the following note at the end of 8.2.5.6: NOTE  DMG STAs do not transmit CTS frames


page 129
1018.3 Format of individual frame types8.3.1 Control frames8.3.1.3 CTS frame formatInsert the following note at the end of 8.3.1.3: NOTE  DMG STAs do not transmit CTS frames.8.3.1.5 PS-Poll frame formatInsert the following note at the end of 8.3.1.5: NOTE  DMG STAs do not transmit PS-Poll frames.8.3.1.6 CF-End frame formatChange the second and third paragraphs in 8.3.1.6, and insert the new fourth and fifth paragraphs asfollows:The BSSID field is the address of the STA contained in the AP. The RA field is the broadcast group address.When transmitted by a non-DMG STA, tThe Duration field is set to 0. When transmitted by a DMG STA,the Duration field is set to the time required to complete the CF-End truncation sequence of which it is part(see 9.33.8): Duration = (i    1)    (TXTIME(CF-End) + SIFS), where i is in the range [1,3] and indicates theorder of the CF-End frame in the truncation sequence in the reverse direction (i.e., i=1 corresponds to thelast CF-End frame in the sequence).When transmitted by a non-DMG STA, the RA field is the broadcast group address. When transmitted by aDMG STA, the RA field is the MAC address of the STA that is the intended immediate recipient of thedirected data or management frame, or the broadcast group address. When transmitted by a non-DMG STA, the BSSID field is the address of the STA contained in the AP.When transmitted by a DMG STA, the TA field is the MAC address of the STA transmitting the frame.8.3.1.7 CF-End+CF-Ack frame formatInsert the following note at the end of 8.3.1.7: NOTE  DMG STAs do not transmit CF-End+CF-Ack frames.8.3.1.8 Block Ack Request (BlockAckReq) frame format8.3.1.8.1 OverviewChange the following row in Table 8-15


page 130
Insert the following paragraph after the seventh paragraph (   The values of the Multi-TID,       ) of8.3.1.8.1:DMG STAs use only the Compressed BlockAckReq variant and the Extended Compressed BlockAckReqvariant. The other variants are not used by DMG STAs. Non-DMG STAs do not use the ExtendedCompressed BlockAckReq variant.Change the third row of Table 8-16 as indicated below:Insert the following subclause, 8.3.1.8.6, after 8.3.1.8.5:8.3.1.8.6 Extended Compressed BlockAckReq variantThe TID_INFO subfield of the BAR Control field of the Extended Compressed BlockAckReq framecontains the TID for which a BlockAck frame is requested.The BAR Information field of the Extended Compressed BlockAckReq frame contains the Block AckStarting Sequence Control subfield, as shown in Figure 8-21. The Starting Sequence Number subfield of theBlock Ack Starting Sequence Control subfield contains the sequence number of the first MSDU or A-MSDU for which this BlockAckReq frame is sent. The Fragment Number subfield of the Block AckStarting Sequence Control subfield is set to 0.8.3.1.9 Block Ack (BlockAck) frame format8.3.1.9.1 OverviewChange the following row in Table 8-17:Table 8-15  BAR Ack Policy subfieldValueMeaning0Normal Acknowledgment.The BAR Ack Policy subfield is set to this value when the sender requires immediate acknowledgment.The addressee returns an ACK. See 9.26.1.7.The value 0 is not used in frames transmitted by a DMG STA.Table 8-16  BlockAckReq frame variant encodingMulti_TID subfield valueCompressed Bitmap subfield valueGCR subfield valueBlockAckReq frame variant100Reserved Extended Compressed BlockAckRe


page 131
103Insert the following paragraph after the seventh paragraph (   The values of the Multi-TID,       ) of8.3.1.9.1:Non-DMG STAs do not use the Extended Compressed BlockAck variant. Change the third row of Table 8-18 as follows: Insert the following subclause, 8.3.1.9.6 (including Figure 8-28b), after 8.3.1.9.5:8.3.1.9.6 Extended Compressed BlockAck variantThe TID_INFO subfield of the BA Control field of the Compressed BlockAck frame contains the TID forwhich a BlockAck frame is requested. The BA Information field of the Extended Compressed BlockAck frame is shown in Figure8-28b. TheStarting Sequence Number subfield of the Block Ack Starting Sequence Control subfield contains thesequence number of the first MSDU or A-MSDU for which this BlockAck frame is sent. The value of thissubfield is defined in 9.21.7.5. The Fragment Number subfield of the Block Ack Starting Sequence Controlsubfield is set to 0.The Block Ack Bitmap subfield of the BA Information field of the Extended Compressed BlockAck frameis 8 octets in length and is used to indicate the received status of up to 64 MSDUs and A-MSDUs. Each bitthat is set to 1 in the Block Ack Bitmap subfield acknowledges the successful reception of a single MSDU orAMSDU in the order of sequence number, with the first bit of the Block Ack Bitmap subfield correspondingto the MSDU or A-MSDU with the sequence number that matches the value of the Starting SequenceNumber subfield of the Block Ack Starting Sequence Control subfield.Table 8-17  BA Ack Policy subfieldValueMeaning0Normal Acknowledgment.The BAR Ack Policy subfield is set to this value when the sender requires immediate acknowledgment.The addressee returns an ACK. The value 0 is not used for data sent under HT-delayed BlockAck during a PSMP sequence.The value 0 is not used in frames transmitted by DMG STAs.Table 8-18  BlockAck frame variant encodingMulti_TID subfield valueCompressed Bitmap subfield valueGCR subfield valueBlockAck frame variant100Reserved Extended Compressed BlockAckBlock Ack Starting Sequence ControlBlock Ack BitmapRBUFCAPOctets:281Figure 8-28b  BA information field (Extended Compressed BlockAck


page 132
The RBUFCAP field contains an unsigned integer that is the number of MPDU buffers available to storereceived MPDUs at the time of transmission of the Extended Compressed BlockAck frame (9.36). 8.3.1.10 Control Wrapper frameInsert the following note at the end of 8.3.1.10: NOTE  DMG STAs do not transmit Control Wrapper frames.Insert the following subclauses, 8.3.1.11 to 8.3.1.19 (including Figure 8-29a to Figure 8-29i), after8.3.1.10:8.3.1.11 Poll frame formatThe format of the Poll frame is shown in Figure8-29a.The Duration field is set to include the duration, in microseconds, of the remaining Poll frame transmissions(see 9.33.7.2), plus all appropriate IFSs (9.3.2.3), plus the duration of the SPR frame transmissions. The RA field contains the MAC address of the STA being polled.The TA field contains the MAC address of the PCP or AP. The Response Offset field indicates the offset, in units of 1 s, beginning SIFS after the end of the Pollframe when the SPR frame in response to this Poll frame is transmitted. 8.3.1.12 Service Period Request (SPR) frame formatThe format of the SPR frame is shown in Figure8-29b. When an SPR frame is sent in response to a Poll frame (see 9.33.7), the Duration field in the SPR frame isset to the value of the Duration field contained in the Poll frame, minus the value of the Response Offsetfield contained in the Poll frame multiplied by its unit as specified in 8.3.1.11, minus SIFS, minus the timetaken to transmit the SPR frame. When the SPR frame is not sent in response to a Poll frame (see 9.33.9 and10.4.13) and transmitted within an SP or a TXOP allocation, the Duration field is set to the time left in theallocation excluding the SPR transmission time. In all other cases, the Duration field is set to 0. The RA field contains the MAC address of the PCP or AP. The TA field contains the MAC address of the STA transmitting the SP request.Frame ControlDurationRATAResponse OffsetFCSOctets:226624Figure 8-29a  Poll frame formatFrame ControlDurationRATADynamic Allocation InfoBF ControlFCSOctets:2266524Figure 8-29b  SPR frame forma


page 133
105The Dynamic Allocation Info field is defined in 8.4a.2.The BF Control field is defined in 8.4a.5.8.3.1.13 Grant frame formatThe format of the Grant frame is shown in Figure8-29c. For individually addressed Grant frames, the Duration field in the Grant frame is set to cover the time, inmicroseconds, to transmit the remaining Grant frame(s) if required, the related IFS (9.3.2.3), 2  SIFS, andthe Allocation Duration carried in the Dynamic Allocation Info field. For broadcast Grant frames, theDuration field is set to cover for the duration of all remaining Grant frames plus the granted time, inmicroseconds. The RA field contains the MAC address of the STA receiving the SP grant.The TA field contains the MAC address of the STA that has transmitted the Grant frame. The Dynamic Allocation Info field is defined in 8.4a.2.The BF Control field is defined in 8.4a.5.8.3.1.14 DMG CTS frame formatThe frame format for the DMG CTS frame is as defined in Figure8-29d.For all DMG CTS frames sent in response to RTS frames, the duration value is the value obtained from theDuration field of the immediately previous RTS frame, minus the time, in microseconds, required totransmit the DMG CTS frame and its SIFS interval. Otherwise, the Duration field is set to the remainingduration of the TXOP or SP. If the calculated duration includes a fractional microsecond, that value isrounded up to the next higher integer.The RA field of the frame is copied from the TA field of the immediately previous RTS frame to which theDMG CTS is a response.The TA field is the MAC address of the STA transmitting the DMG CTS frame.8.3.1.15 DMG DTS frame formatThe frame format for the DMG Denial to Send (DTS) frame is as defined in Figure8-29e.Frame ControlDurationRATADynamic Allocation InfoBF ControlFCSOctets:2266524Figure 8-29c  Grant frame formatFrame ControlDurationRATAFCSOctets:22664Figure 8-29d  DMG CTS frame forma


page 134
The Duration field is set to the value of the transmitting STA   s NAV  (TXTIME(DMG DTS)+SIFS) or theremaining time in the SP at the end of the DMG DTS transmission, whichever is smaller. The transmittingSTA   s NAV is the value of its NAV at the start of the DMG DTS frame transmission. The RA field of the frame is copied from the TA field of the immediately previous RTS frame to which theDMG DTS is a response.The NAV-SA and the NAV-DA fields contain the MAC addresses of the source DMG STA and thedestination DMG STA, respectively, whose exchange of an RTS and DMG CTS caused the last update tothe NAV at the transmitting STA. 8.3.1.16 Sector sweep (SSW) frame formatThe frame format for the SSW frame is as defined in Figure8-29f. The Duration field is set to the time until the end of the SSW frame transmission that has the CDOWNsubfield within the SSW field equal to 0 or until the end of the current allocation (see 9.35), whichevercomes first. The RA field contains the MAC address of the STA that is the intended receiver of the sector sweep. The TA field contains the MAC address of the transmitter STA of the sector sweep frame. The SSW field is defined in 8.4a.1.The SSW Feedback field is defined in 8.4a.3.8.3.1.17 Sector sweep feedback (SSW-Feedback) frame formatThe format of the SSW-Feedback frame is shown in Figure8-29g.Frame ControlDurationRANAV-SANAV-DAFCSOctets:226664Figure 8-29e  DMG DTS frame formatFrame ControlDurationRATASSWSSW FeedbackFCSOctets:2266334Figure 8-29f  SSW frame formatFrame ControlDurationRATASSW FeedbackBRP RequestBeamformed Link MaintenanceFCSOctets:22663414Figure 8-29g  SSW-Feedback frame forma


page 135
107The Duration field is set to 0 when the SSW-Feedback frame is transmitted within an associationbeamforming training (A-BFT). Otherwise, it is set to the time, in microseconds, until the end of the currentallocation. The RA field contains the MAC address of the STA that is the intended destination of the SSW-Feedbackframe.The TA field contains the MAC address of the STA transmitting the SSW-Feedback frame. The SSW Feedback field is defined in 8.4a.3.The BRP Request field is defined in 8.4a.4.The Beamformed Link Maintenance field is defined in 8.4a.6.8.3.1.18 Sector sweep ACK (SSW-ACK) frame formatThe format of the SSW-ACK frame is shown in Figure8-29h.The Duration field is set to the value of the Duration within the immediately preceding SSW-Feedbackframe, minus SIFS, minus the time required to transmit the SSW-ACK frame.The RA field contains the MAC address of the STA that is the intended destination of the SSW-ACK frame.The TA field contains the MAC address of the STA transmitting the SSW-ACK frame. The SSW Feedback field is defined in 8.4a.3.The BRP Request field is defined in 8.4a.4.The Beamformed Link Maintenance field is defined in 8.4a.6.8.3.1.19 Grant ACK frame formatThe format of the Grant ACK frame is shown in Figure8-29i. The Grant ACK frame is sent only in CBAPsas a response to the reception of a Grant frame that has the Beamforming Training field equal to 1.The Duration field is set to the value obtained from the Duration/ID field of the immediately previous Grantframe minus the time, in microseconds, required to transmit the Grant ACK frame and its SIFS interval.Frame ControlDurationRATASSW FeedbackBRP RequestBeamformed Link MaintenanceFCSOctets:22663414Figure 8-29h  SSW-ACK frame formatFrame ControlDurationRATAReservedBF ControlFCSOctets:2266524Figure 8-29i  Grant ACK frame forma


page 136
The RA field of the Grant ACK frame is copied from the Address 2 field of the immediately previous Grantframe.The TA field contains the MAC address of the STA that has transmitted the Grant ACK frame. The BF Control field is defined in 8.4a.5.8.3.2 Data frames8.3.2.1 Data frame formatIn Figure 8-30 (Data frame), change the octet range for Frame Body from 0  7951 to 0  7959.Change the note after the first paragraph in 8.3.2.1 as follows:NOTE  The maximum frame body size shown in Figure 8-30 is for CCMP GCMP encryption of a maximum-size A-MSDU (note that TKIP encryption is not allowed in this case and any Mesh Control fields are part of the A-MSDUsubframes). The corresponding maximum for CCMP encryption is 7951 octets. The maximum frame body size if A-MSDUs are not used is 2346 octets for GCMP encryption of a maximum-size MSDU, 2338 octets for CCMP encryptionof a maximum-size MSDU, and 2342 octets for TKIP encryption of a maximum-size MSDU, including in all cases an18-octet Mesh Control field. The frame body size might in all cases be greater if a vendor-specific cipher suite is used.Change Table 8-19 as follows:Change the 13th  paragraph in 8.3.2.1 as follows:The BSSID of the Data frame is determined as follows:a)If the STA is contained within an AP or is associated with an AP, the BSSID is the address currentlyin use by the STA contained in the AP.b)If the STA is a member of an IBSS, the BSSID is the BSSID of the IBSS.c)If the STA is transmitting a data frame when dot11OCBActivated is true, the BSSID is the wildcardBSSID.d)If the STA is a member of an MBSS, the BSSID is the address of the transmitter and is equal to TA.e)If the STA participates in a PBSS, the BSSID is the address of the STA contained in the PCP of thePBSS.Table 8-19  Address field contentsTo DSFrom DSAddress 1Address 2Address 3Address 4MSDU and Short A-MSDU caseBasic A-MSDU case MSDU and Short A-MSDU caseBasic A-MSDU case00RA=DATA=SABSSIDBSSIDN/AN/A01RA=DATA=BSSIDSABSSIDN/AN/A10RA=BSSIDTA=SADABSSIDN/AN/A11RATADABSSIDSABSSI


page 137
109Insert the following notes at the end of 8.3.2.1:NOTE 1  The QoS Data and QoS Null subtypes are the only Data subtypes transmitted by a DMG STA.NOTE 2  The HT Control field is not present in frames transmitted by a DMG STA. Change 8.3.2.2 as follows (including inserting new text and two new subclause titles):8.3.2.2 Aggregate MSDU (A-MSDU) format8.3.2.2.1 GeneralAn A-MSDU is a sequence of A-MSDU subframes as shown in Figure 8-31. Each A-MSDU subframeconsists of an A-MSDU subframe header followed by an MSDU and 0 to 3 octets of padding as shown inFigure 8-32 and Figure8-33a (in 8.3.2.2.3). Each A-MSDU subframe (except the last) is padded so that itslength is a multiple of 4 octets. The last A-MSDU subframe has no padding.Figure 8-31 remains unchanged.Two A-MSDU subframe formats are defined: the Basic A-MSDU subframe described in 8.3.2.2.2 and theShort A-MSDU subframe described in 8.3.2.2.3. Unless otherwise noted, in this standard, the term A-MSDU applies to both the Basic A-MSDU and the Short A-MSDU. The Basic A-MSDU uses only the BasicA-MSDU subframe format, while the Short A-MSDU uses only the Short A-MSDU subframe format. 8.3.2.2.2 Basic A-MSDU subframe formatIn the Basic A-MSDU subframe, each A-MSDU subframe (except the last) is padded so that its length is amultiple of 4 octets. The last A-MSDU subframe has no padding.The A-MSDU subframe header contains three fields: DA, SA, and Length. The order of these fields and thebits within these fields are the same as the IEEE 802.3 frame format. The DA and SA fields of the A-MSDUsubframe header contain the values passed in the MA-UNITDATA.request and MA-UNITDATA.indicationprimitives. The Length field contains the length in octets of the MSDU.An A-MSDU contains only MSDUs whose DA and SA parameter values map to the same receiver address(RA) and transmitter address (TA) values, i.e., all the MSDUs are intended to be received by a singlereceiver, and necessarily they are all transmitted by the same transmitter. The rules for determining RA andTA are independent of whether the frame body carries an A-MSDU.NOTE  It is possible to have different DA and SA parameter values in A-MSDU subframe headers of the same A-MSDU as long as they all map to the same Address 1 and Address 2 parameter values.The MPDU containing the A-MSDU is carried in any of the following data frame subtypes: QoS Data, QoSData + CF-Ack, QoS Data + CF-Poll, QoS Data + CF-Ack + CF-Poll. The A-MSDU structure is containedin the frame body of a single MPDU. If encrypted, the MPDU is encrypted as a single unit.Octets:6620  2304 (non-DMG STA)0  7920 (DMG STA)0  3DASALengthMSDUPaddingFigure 8-32  Basic A-MSDU subframe structur


page 138
NOTE 1  The value of TID present in the QoS Control field of the MPDU carrying the A-MSDU indicates the TID forall MSDUs in the A-MSDU. Because this value of TID is common to all MSDUs in the A-MSDU, only MSDUsdelivered to the MAC by an MA-UNITDATA.request primitive with an integer priority parameter that maps to the sameTID can be aggregated together using A-MSDU.NOTE 2  The maximum MPDU length that can be transported using A-MPDU aggregation is 4095 octets for non-DMG STAs and 7995 octets for DMG STAs. An A-MSDU cannot be fragmented. Therefore, a non-DMG STA cannottransport an A-MSDU of a length that exceeds 4065 octets (4095 minus the QoS data MPDU overhead) cannot betransported in an A-MPDU. When Mesh Data frames are aggregated, the Aggregate MSDU subframe header includes Mesh DA, MeshSA, Length, and Mesh Control. The A-MSDU subframe structure for Mesh Data is defined in Figure 8-33.Figure 8-33 remains unchanged.The Mesh DA and Mesh SA fields contain the addresses of the destination mesh STA and the source meshSTA, respectively, determined in 9.32.3.The Length field contains the length in octets of the MSDU.The format of the Mesh Control field is described in 8.2.4.7.3.NOTE  It is possible to have different Mesh DA, Mesh SA, and Mesh Control in Subframe Headers of the sameAMSDU as long as they all map to the same Address 1 and Address 2 values.Insert the following subclause, 8.3.2.2.3 (including Figure 8-33a), after 8.3.2.2.2:8.3.2.2.3 Short A-MSDU subframe formatThe Short A-MSDU subframe is shown in Figure8-33a. In the ShortA-MSDU subframe, each A-MSDUsubframe (except the last) is padded so that its length excluding the A-MSDU subframe header is a multipleof 4 octets. The last A-MSDU subframe has no padding.The Short A-MSDU subframe header consists of a Length field that contains the length in octets of theMSDU.NOTE  The Short A-MSDU subframe format is not transmitted by non-DMG STAs.Figure 8-33a  Short A-MSDU subframe structur


page 139
1118.3.3 Management frames8.3.3.1 Format of management framesIn Figure 8-34 (Management frame format), change the octet range for Frame Body from 0  2320 to0  2328.Change the note after the first paragraph in 8.3.3.1 as follows:NOTE  The maximum frame body size shown in Figure 8-34 is for CCMP GCMP encryption with a maximum-sizeMMPDU (note TKIP encryption is not allowed and any Mesh Control field is held within the MMPDU, not as a separateheader). The frame body size might be greater if a vendor-specific cipher suite is used.Insert the following paragraph after the note after the fourth paragraph (   The address fields for theMultihop     in the Mesh Control field.   ) in 8.3.3.1:Within a PBSS, the BSSID field of a management frame is set to the MAC address in use by the STAcontained in the PCP of the PBSS. 8.3.3.2 Beacon frame formatInsert the following row into Table 8-20 before the Last row:8.3.3.5 Association Request frame formatChange the following rows in Table 8-22, and insert the new rows into the table before the Last row:Table 8-20  Beacon frame bodyOrderInformationNotes59Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true. Table 8-22  Association Request frame bodyOrderInformationNotes4Supported RatesThis field is not present if dot11DMGOptionImplemented is true. 5Extended Supported RatesThe Extended Supported Rates element is present if there are more than eight supported rates, and it is optional otherwise. This element is not present if dot11DMGOptionImplemented is true.19Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true.20DMG CapabilitiesThe DMG Capabilities element is present if dot11DMGOptionImplemented is true. 21Multiple MAC SublayersThe Multiple MAC Sublayers element is present if dot11MultipleMACActivated is true


page 140
8.3.3.6 Association Response frame formatChange the following rows in Table 8-23, and insert the new rows into the table before the Last row:8.3.3.7 Reassociation Request frame formatChange the following rows in Table 8-24, and insert the new rows into the table before the Last row:Table 8-23  Association Response frame bodyOrderInformationNotes4Supported RatesThis field is not present if dot11DMGOptionImplemented is true. 5Extended Supported RatesThe Extended Supported Rates element is present if there are more than eight supported rates, and it is optionally present otherwise. This element is not present if dot11DMGOptionImplemented is true.23Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true.24DMG CapabilitiesThe DMG Capabilities element is present if dot11DMGOptionImplemented is true. 25DMG OperationThe DMG Operation element is present if dot11DMGOptionImplemented is true. 26Multiple MAC SublayersThe Multiple MAC Sublayers element is present if dot11MultipleMACActivated is true.Table 8-24  Reassociation Request frame bodyOrderInformationNotes5Supported RatesThis field is not present if dot11DMGOptionImplemented is true. 6Extended Supported RatesThe Extended Supported Rates element is present if there are more than eight supported rates, and it is optional otherwise. This element is not present if dot11DMGOptionImplemented is true.24Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true.25DMG CapabilitiesThe DMG Capabilities element is present if dot11DMGOptionImplemented is true. 26Multiple MAC SublayersThe Multiple MAC Sublayers element is present if dot11MultipleMACActivated is true


page 141
1138.3.3.8 Reassociation Response frame formatChange the following rows in Table 8-25, and insert the new rows into the table before the Last row:8.3.3.9 Probe Request frame formatChange the following rows in Table 8-26, and insert the new rows into the table before the Last row: Table 8-25  Reassociation Response frame bodyOrderInformationNotes4Supported RatesThis field is not present if dot11DMGOptionImplemented is true. 5Extended Supported RatesThe Extended Supported Rates element is present if there are more than eight supported rates, and it is optional otherwise. This element is not present if dot11DMGOptionImplemented is true.27Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true.28DMG CapabilitiesThe DMG Capabilities element is present if dot11DMGOptionImplemented is true. 29DMG OperationThe DMG Operation element is present if dot11DMGOptionImplemented is true. 30Multiple MAC SublayersThe Multiple MAC Sublayers element is present if dot11MultipleMACActivated is true.Table 8-26  Probe Request frame bodyOrderInformationNotes2Supported RatesThis field is not present if dot11DMGOptionImplemented is true. 4Extended Supported RatesThe Extended Supported Rates element is present if there are more than eight supported rates, and it is optionally present otherwise. This element is not present if dot11DMGOptionImplemented is true.14Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true.15DMG CapabilitiesThe DMG Capabilities element is present if dot11DMGOptionImplemented is true. 16Multiple MAC SublayersThe Multiple MAC Sublayers element is present if dot11MultipleMACActivated is true


page 142
8.3.3.10 Probe Response frame formatChange the following rows in Table 8-27, and insert the new rows into the table before the Last  l row:8.3.3.11 Authentication frame formatInsert the following row into Table 8-28 before the Last row:Insert the following subclauses, 8.3.4 and 8.3.4.1 (including Figure 8-34a through Figure 8-34d andTable 8-33a), after 8.3.3.15:8.3.4 Extension frames8.3.4.1 DMG BeaconThe format of the DMG Beacon is shown in Figure8-34a.In addition to supporting functions such as network synchronization (see 10.1), the DMG Beacon frame canalso be used as training frame for beamforming (see 9.35). Table 8-27  Probe Response frame bodyOrderInformationNotes5Supported RatesThis field is not present if dot11DMGOptionImplemented is true. 19Extended Supported RatesThe Extended Supported Rates element is present if there are more than eight supported rates, and it is optionally present otherwise. This element is not present if dot11DMGOptionImplemented is true.57Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true.58DMG CapabilitiesThe DMG Capabilities element is present if dot11DMGOptionImplemented is true. 59DMG OperationThe DMG Operation element is present if dot11DMGOptionImplemented is true. 60Multiple MAC SublayersThe Multiple MAC Sublayers element is present if dot11MultipleMACActivated is true.61Antenna Sector ID PatternThe Antenna Sector ID Pattern element is optionally present if dot11DMGOptionImplemented is true.Table 8-28  Authentication frame bodyOrderInformationNotes16Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true.Frame ControlDurationBSSIDBodyFCSOctets:226Variable4Figure 8-34a  DMG Beacon frame forma


page 143
115The Duration field is set to the time remaining until the end of the beacon transmission interval (BTI). The BSSID field contains the BSSID. The body of the DMG Beacon frame contains the elements listed in Table8-33a.Table 8-33a  DMG Beacon frame bodyOrderInformationNotes1TimestampSee 8.4.1.102Sector Sweep See 8.4a.13Beacon IntervalSee 8.4.1.3 4Beacon Interval ControlSee Figure8-34b.5DMG Parameters See 8.4.1.46 6Clustering ControlOptional. See Figure8-34c and Figure8-34d.7DMG CapabilitiesThe DMG Capabilities element is optionally present. 8Extended ScheduleThe Extended Schedule element is optionally present. 9RSNThe RSNE is optionally present if dot11RSNAEnabled is true. 10Multiple BSSIDOne or more Multiple BSSID elements are optionally present if dot11MgmtOptionMultiBSSIDEnabled is true.11DMG OperationThe DMG Operation element is optionally present.12Next DMG ATIThe Next DMG ATI element is optionally present.13DMG BSS Parameter ChangeThe DMG BSS Parameter Change element is optionally present.14Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true.Last    nOne or more elements can appear in this frame. These elements follow all other elements that are not vendor-specific elements and precede all other elements that are vendor-specific elements that are part of the Last field in the frame. Except for the Multi-band element, an element can be included only once in the frame. Optional LastVendor Specific One or more vendor-specific elements are optionally present. These elements follow all other elements


page 144
The format of the Beacon Interval Control field is shown in Figure8-34b. The CC Present field is set to 1 to indicate that the Clustering Control field is present in the DMG Beacon.Otherwise, the Clustering Control field is not present. The Discovery Mode field is set to 1 if the STA is generating the DMG Beacon following the proceduredescribed in 10.1.3.2b. Otherwise, this field is set to 0.The Next Beacon field indicates the number of beacon intervals following the current beacon interval duringwhich the DMG Beacon is not be present. The ATI Present field is set to 1 to indicate that the announcement transmission interval (ATI) is present inthe current beacon interval. Otherwise, the ATI is not present. The A-BFT Length field specifies the size of the A-BFT following the BTI, and is defined in units of asector sweep slot (9.35.5). The value of this field is in the range of 1 to 8, with the value being equal to thebit representation plus 1. The FSS field specifies the number of SSW frames allowed per sector sweep slot (9.35.5). The value of thisfield is in the range of 1 to 16, with the value being equal to the bit representation plus 1.The IsResponderTXSS field is set to 1 to indicate the A-BFT following the BTI is used for respondertransmit sector sweep (TXSS). This field is set to 0 to indicate responder receive sector sweep (RXSS).When this field is set to 0, the FSS field specifies the length of a complete receive sector sweep by the STAsending the DMG Beacon frame. The Next A-BFT field indicates the number of beacon intervals during which the A-BFT is not be present. Avalue of 0 indicates that the A-BFT immediately follows this BTI. The Fragmented TXSS field is set to 1 to indicate the TXSS is a fragmented sector sweep, and is set to 0 toindicate the TXSS is a complete sector sweep. The TXSS Span field indicates the number of beacon intervals it takes for the STA sending the DMGBeacon frame to complete the TXSS phase. This field is always greater than or equal to one.The N BIs A-BFT field indicates the interval, in number of beacon intervals, at which the STA sendingtheDMG Beacon frame allocates an A-BFT. A value of 1 indicates that every beacon interval contains anA-BFT. B0B1B2          B5B6B7            B9B10  B13B14CC PresentDiscovery ModeNext Beacon ATI PresentA-BFT LengthFSSIsResponderTXSSBits:1141341B15 B18B19B20   B26B27   B30B31   B36B37   B42B43B44   B47Next A-BFTFragmented TXSSTXSS SpanN BIs A-BFTA-BFT CountN A-BFT in Ant PCP Association ReadyReservedBits:41746614Figure 8-34b  Beacon Interval Control fiel


page 145
Values 8 and above are reserved if the ECPACPolicy Enforced field is set to 0. The value 1 is assigned to the S-PCP/S-AP. The A-BFT Responder Address subfield contains the MAC address of the STA that is allowed to transmitduring the A-BFT, if present, that follows the BTI.B0                           B7B8        B55B56                  B57B58                  B62B63Beacon SP durationCluster IDCluster Member Role ClusterMaxMemReservedBits:848251Figure 8-34c  Clustering Control field format if the Discovery Mode field is 0B0                                B47B48     B63A-BFT Responder AddressReservedBits:4816Figure 8-34d  Clustering Control field format if the Discovery Mode field is 


page 146
Change the title of 8.4 as follows:8.4 Management and Extension frame body components8.4.1 Fields that are not information elements8.4.1.3 Beacon Interval fieldInsert the following note at the end of 8.4.1.3:NOTE  A value of 0 in the Beacon Interval field transmitted by a DMG STA indicates that the TBTT of the next BTI isunknown. 8.4.1.4 Capability Information fieldChange the second paragraph of 8.4.1.4 as follows:The length of the Capability Information field is 2 octets. The format of the Capability Information field isdefined in Figure 8-38 when transmitted by a non-DMG STA and in Figure8-38a when transmitted by aDMG STA. No subfield is supplied for ERP as a STA supports ERP operation if it includes all of the Clause19 mandatory rates in its supported rate set.Change the title for Figure 8-38 as follows:Figure 8-38  Capability Information field (non-DMG STA)Insert the following figure, Figure 8-38a, after Figure 8-38:Insert the following paragraph at the end of 8.4.1.4:The DMG Parameters field is defined in 8.4.1.46.8.4.1.8 AID fieldChange 8.4.1.8 as follows:In infrastructure BSS operation, the AID field is a value assigned by an PCP/AP during association thatrepresents the 16-bit ID of a STA. In mesh BSS operation, the AID field is a value that represents the 16-bitID of a neighbor peer mesh STA. An AID value is assigned by a mesh STA that receives and accepts a MeshPeering Open frame to the transmitter of the Mesh Peering Open frame during the mesh peeringestablishment process (see 13.3.1). The length of the AID field is 2 octets. The AID field is illustrated inFigure 8-42.B0                                                    B7B8B9    B11B12B13    B15DMG ParametersSpectrum ManagementReservedRadio MeasurementReserved Bits:81313Figure 8-38a  Capability Information field (DMG STA


page 147
119Figure 8-42 remains unchanged.A non-DMG STA assigns Tthe value assigned as of the AID is in the range of 1 to 2007 and is placesd it inthe 14 LSBs of the AID field, with the two MSBs of the AID field each set to 1 (see 8.2.4.2).A DMG STA assigns the value of the AID field in the range of 1 to 254. The value 255 is reserved as thebroadcast AID, and the value 0 corresponds to the PCP/AP. A DMG STA sets the 8 MSBs of the AID fieldto 0. 8.4.1.9 Status Code fieldChange the second paragraph in 8.4.1.9 as follows: If an operation is successful, then the status code is set to 0. A status code of 85 also indicates a successfuloperation. If an operation results in failure, the status code indicates a failure cause. The failure cause codesare defined in Table 8-37. Change the following rows in Table 8-37, and insert the new rows into the table in numeric order:Table 8-37  Status codesStatus codeNameMeaning33Association denied because QoS AP or PCP has insufficient bandwidth to handle another QoS STA39REJECTED_WITH_SUGGESTED_CHANGESThe allocation or TS has not been created because the request cannot be honored; however, a suggested TSPEC/DMG TSPEC is provided so that the initiating STA may attempt to set another allocation or TS with the suggested changes to the TSPEC/DMG TSPEC47REJECTED_FOR_DELAY_PERIODThe TS or allocation has not been created; however, the PCP/HC may be capable of creating a TS or allocation, in response to a request, after the time indicated in the TS Delay element56Requested TCLAS processing is not supported by the PCP/AP57The PCP/AP has insufficient TCLAS processing resources to satisfy the request58The TS has not been created because the request cannot be honored; however, the PCP/HC suggests the STA to transition to other BSSs to set up the TS.68Request refused because PCP/AP does not support unauthenticated access83REJECT_WITH_SCHEDULEReject with recommended schedule84Reject because no wakeup schedule specified85Success, the destination STA is in power save mode86PENDING_ADMITTING_FST_SESSIONFST pending, in process of admitting FST session 87PERFORMING_FST_NOWPerforming FST no


page 148
8.4.1.11 Action fieldChange the second paragraph in 8.4.1.11 as follows:The Category field is set to one of the nonreserved values shown in the    Code    column of Table8-38.Action frames of a given category are referred to as <category name> Action frames. For example, framesin the QoS category are called QoS Action frames. The    Action frame    column in Table8-38 identifiesexceptions, if any, that specific frames within a category have with respect to the    Robust    column.Change Table 8-38 as follows:88PENDING_GAP_IN_BA_WINDOWFST pending, gap(s) in Block Ack window89REJECT_U-PID_SETTINGReject because of U-PID setting 90  91Reserved96REJECT_DSE_BANDReject since the request is for transition to a frequency band subject to DSE procedures and FST Initiator is a dependent STA 97  98Reserved99DENIED_WITH_SUGGESTED_BAND_AND_CHANNELThe association has been denied; however, one or more Multi-band elements are included that can be used by the receiving STA to join the BSS 103DENIED_DUE_TO_SPECTRUM_MANAGEMENTAssociation denied because the information in the Spectrum Management field is unacceptable 104  65 535ReservedTable 8-38  Category valuesCodeMeaningSub- clauseRobustGroup addressed privacyAction frame0Spectrum management8.5.2YesNo1QoS8.5.3YesNo2DLS8.5.4YesNo3Block Ack8.5.5YesNo4Public8.5.8NoNo5Radio measurement8.5.7YesNoDMG: Link Measurement Request and Link Measurement Report are not robust frames6Fast BSS Transition8.5.9YesNo7HT8.5.12NoNoTable 8-37  Status codes  (continued)Status codeNameMeanin


page 149
121Insert the following subclauses, 8.4.1.44 to 8.4.1.46 (including Figure 8-80b, Figure 8-80c, Table 8-53a,and Table 8-53b), after 8.4.1.43:8.4.1.44 Relay Capable STA Info fieldThe format of the Relay Capable STA Info field is defined in Figure8-80b.8SA Query8.5.10YesNo9Protected Dual of Public Action8.5YesNo10WNM8.5.14YesNo11Unprotected WNM8.5.15NoNo12TDLS8.5.13  See NOTENo13Mesh8.5.17YesYes14Multihop8.5.18YesYes15Self-protected8.5.16NoNo16DMG Reserved8.5.20YesNo17Reserved (used by WFA)      18Fast session transfer8.5.21YesNo19Robust AV Streaming8.5.19Yes  20Unprotected DMG8.5.22NoNo1821  125Reserved      126Vendor-specific Protected8.5.6YesNo127Vendor-specific8.5.6NoNo128  255Error      NOTE  TDLS Action fields are always transported encapsulated within a data frame (see 10.22.1), so the questionof whether these frames are Robust is not applicable.B0        B7B8                                B23AIDRelay Capabilities InfoBits:816Figure 8-80b  Relay Capable STA Info fieldTable 8-38  Category values  (continued)CodeMeaningSub- clauseRobustGroup addressed privacyAction fram


page 150
The AID field contains the AID of the relay capable STA that is associated with the PCP or AP. The Relay Capabilities Info field is defined in 8.4.2.150. 8.4.1.45 Band ID fieldThe Band ID field is 1 octet in length and is defined in Table8-53a.8.4.1.46 DMG Parameters fieldThe format of the DMG Parameters field is shown in Figure8-80c. The BSS Type subfield is defined in Table8-53b. An AP sets the BSS Type subfield to 3 within transmittedDMG Beacon, Probe Response, or (Re)Association Response frames. A PCP sets the BSS Type subfield to2 within transmitted DMG Beacon, Probe Response, or (Re)Association Response frames. A STA within anIBSS sets the BSS Type subfield to 1 within transmitted DMG Beacon or Probe Response frames.Table 8-53a  Band ID fieldBand ID valueMeaning0TV white spaces1Sub-1 GHz (excluding TV white spaces)22.4 GHz33.6 GHz44.9 and 5 GHz 560 GHz6  255ReservedB0           B1B2B3B4B5B6              B7BSS Type CBAP Only CBAP SourceDMG PrivacyECPAC Policy EnforcedReserved Bits:211112Figure 8-80c  DMG ParametersTable 8-53b  The BSS Type subfieldSubfield valueBSS TypeTransmitted by DMG STA 3Infrastructure BSS AP2PBSSPCP1IBSSAny non-AP and non-PCP DMG STA0Reserve


page 151
123The CBAP Only, CBAP Source, and ECPAC Policy Enforced subfields are valid only when transmittedwithin a DMG Beacon, Probe Response, or (Re)Association Response frames and are set as follows:  The CBAP Only subfield indicates the type of link access provided by the STA sending the DMGBeacon frame in the data transfer interval (DTI) (see 9.33.2) of the beacon interval. The CBAP Onlysubfield is set to 1 when the entirety of the DTI portion of the beacon interval is allocated as aCBAP. The CBAP Only subfield is set to 0 when the allocation of the DTI portion of the beaconinterval is provided through the Extended Schedule element.   The CBAP Source subfield is valid only if the CBAP Only subfield is 1. The CBAP Source subfieldis set to 1 to indicate that the PCP/AP has higher priority to initiate transmissions during the CBAPthan non-PCP/non-AP STAs. The CBAP Source subfield is set to 0 otherwise.   The ECPAC Policy Enforced subfield is set to 1 to indicate that medium access policies specific tothe centralized PCP/AP cluster are required as defined in 9.34.3.4. The ECPAC Policy Enforcedsubfield is set to 0 to indicate that medium access policies specific to the centralized PCP/AP clusterare not required.The DMG Privacy subfield is set to 1 if dot11RSNAEnabled is true. Otherwise, this subfield is set to 0.8.4.2 Information elements8.4.2.1 GeneralChange the following rows in Table 8-54, and insert the new rows into the table in numeric order:Table 8-54  Element IDsElementElement IDLength (in octets)ExtensibleTSPEC (see 8.4.2.32)1357 (non-DMG) or 59 (DMG)Non-DMG: no DMG: yesNontransmitted BSSID Capability (see 8.4.2.74)834 (non-DMG) or 24 (DMG) Wakeup Schedule14310YesExtended Schedule14417 to 257YesSTA Availability1454 to 257YesDMG TSPEC14616 to 253YesNext DMG ATI1478 YesDMG Capabilities14819YesReserved149  150DMG Operation15112YesDMG BSS Parameter Change1529YesDMG Beam Refinement1537YesChannel Measurement Feedback1546 to 257YesReserved155  156Awake Window1574YesMulti-band15824 to 257Ye


page 152
8.4.2.21 Channel Switch Announcement elementChange the first paragraph in 8.4.2.21 as follows:The Channel Switch Announcement element is used by an AP in a BSS, a STA in an IBSS, or a mesh STAin an MBSS, or a PCP in a PBSS to advertise when it is changing to a new channel and the channel numberof the new channel. The format of the Channel Switch Announcement element is shown in Figure 8-102.ADDBA Extension1593YesNextPCP List1604 to 257YesPCP Handover16115YesDMG Link Margin16210YesSwitching Stream1636 to 257YesSession Transition16413YesDynamic Tone Pairing Report16534YesCluster Report1663 to 257YesRelay Capabilities1674YesRelay Transfer Parameter Set16810YesBeamLink Maintenance1693YesMultiple MAC Sublayers1708 to 254YesU-PID17111YesDMG Link Adaptation Acknowledgment1727YesReserved143  173Quiet Period Request17519YesReserved176Quiet Period Response17712YesReserved178  181ECPAC Policy 18213 or 17YesCluster Time Offset1833YesReserved184  189Antenna Sector ID Pattern1906YesReserved175191  220Table 8-54  Element IDs  (continued)ElementElement IDLength (in octets)Extensibl


page 153
The Measurement Start Time field is set to the TSF timer at the time at which the requested measurementstarts. A value of 0 indicates that the measurement starts immediately. Table 8-59  Measurement Type definitions for measurement requestsNameMeasurement TypeMeasurement UseDirectional channel quality request13Radio Measurement, Spectrum Management, and WNMDirectional measurement request14Radio Measurement, Spectrum Management, and WNMDirectional statistics request 15Radio Measurement, Spectrum Management, and WNMOperating ClassChannel NumberAID ReservedMeasurement MethodOctets:11111Measurement Start TimeMeasurement DurationNumber of Time BlocksOptional SubelementsOctets:821VariableFigure 8-139a  Measurement request field format for directional channel quality reques


page 154
The Measurement Duration field is set to the preferred or mandatory duration of the requested measurement,expressed in units of TUs. See 10.11.4.The Number of Time Blocks field indicates the number of time blocks within the Measurement Duration.The ratio (Measurement Duration/Number of Time Blocks) provides the duration of an individualmeasurement unit.The Optional Subelements field format contains zero or more subelements, each consisting of a 1-octetSubelement ID field, a 1-octet Length field, and a variable-length Data field, as shown in Figure 8-402. Anyoptional subelements are ordered by nondecreasing Subelement ID.The Subelement ID field values for the defined optional subelements are shown in Table8-80a. A Yes in theExtensible column of a subelement listed in Table8-80a indicates that the Length of the subelement mightbe extended in future revisions or amendments of this standard. When the Extensible column of an elementis set to Subelements, then the subelement might be extended in future revisions or amendments of thisstandard by defining additional subelements within the subelement. See 9.23.9.The Directional Channel Quality Reporting Information subelement indicates the condition for issuing aDirectional Channel Quality Report. Directional Channel Quality Reporting Information subelementdatafield format is shown in Figure8-139b and contains a 1-octet Reporting Condition subfield and a1-octet Directional Channel Quality Reference Value subfield. The Reporting Condition is described inTable8-80b. The Directional Channel Quality Reference value is a Directional Channel Quality value and isthe reference value for the indicated Reporting Condition.Table 8-80a  Optional Subelement IDs for directional channel quality requestSubelement IDNameLength field (octets)Extensible0Reserved1Directional Channel Quality Reporting Information2Yes2  220Reserved221Vendor Specific1  244222  255 ReservedReporting ConditionDirectional Channel Quality Reference ValueOctets:11Figure 8-139b  Directional Channel Quality Reporting Information data field forma


page 155
The Optional Subelements field format contains zero or more subelements, each consisting of a 1-octetSubelement ID field, a 1-octet Length field, and a variable-length Data field, as shown in Figure 8-402. Anyoptional subelements are ordered by nondecreasing Subelement ID.Table 8-80b  Reporting Condition for Directional Channel Quality ReportCondition for report to be issuedReporting conditionReport to be issued after each measurement (default, used when Directional Channel Quality Reporting Information subelement is not included in Directional Channel Quality Request).0Report to be issued when measured ANIPI or RSNI is equal to or greater than the reference value.1Report to be issued when measured ANIPI or RSNI is equal to or less than the reference value.2Reserved3  255Operating ClassChannel NumberMeasurement Start TimeMeasurement Duration per DirectionMeasurement MethodOptional SubelementsOctets11821VariableFigure 8-139c  Measurement Request field format for directional measurement reques


page 156
The Optional Subelements field format contains zero or more subelements, each consisting of a 1-octetSubelement ID field, a 1-octet Length field, and a variable-length Data field, as shown in Figure 8-402. Anyoptional subelements are ordered by nondecreasing Subelement ID.Operating ClassChannel NumberMeasurement Start TimeMeasurement Duration per DirectionMeasurement MethodDirectional Statistics BitmapOptional Subelements Octets118211VariableFigure 8-139d  Measurement Request field format for directional statistics requestB0B1B2B3B4      B7MaximumMinimumAverage Variance ReservedBits:11114Figure 8-139e  Directional Statistics Bitmap field forma


page 157
Table 8-81  Measurement Type definitions for measurement reports NameMeasurement TypeMeasurement UseDirectional channel quality report 13Radio Measurement, Spectrum Management, and WNMDirectional measurement report 14Radio Measurement, Spectrum Management, and WNMDirectional statistics report15Radio Measurement, Spectrum Management, and WNMOperating ClassChannel NumberAIDReservedMeasurement MethodMeasurement Start TimeOctets:111118Measurement DurationNumber of Time Blocks (N)Measurement for Time Block 1   Measurement for Time Block NOptional SubelementsOctets:2111VariableFigure 8-182a  Measurement report field format for directional channel quality repor


page 158
Measurement Start Time field is set to the value of the measuring STA   s TSF timer at the time themeasurement started.The Measurement Duration field is set to the duration of the measurement, expressed in units of TUs.The Number of Time Blocks field indicates the number of time blocks within the Measurement Duration.The ratio (Measurement Duration/Number of Time Blocks) provides the duration of an individualmeasurement unit.The Measurement for Time Block fields are set to the ANIPI or average RSNI value measured during each(Measurement Duration/Number of Time Blocks) measurement units. The measurement units are set in thereport in increasing order of start times. ANIPI is set to the average noise plus interference power valuemeasured during the indicated Measurement Duration using the same units and accuracy as defined forANPI in 10.11.9.4. Average RSNI is set according to 8.4.2.43, where RCPI is defined in the RCPImeasurement subclause in Clause 21. The Optional Subelements field format contains zero or more subelements, each consisting of a 1-octetSubelement ID field, a 1-octet Length field, and a variable-length Data field, as shown in Figure 8-402. Anyoptional subelements are ordered by nondecreasing Subelement ID.The Subelement ID field values for the defined optional subelements are shown in Table8-98a. A Yes in theExtensible column of a subelement listed in Table8-98a indicates that the Length of the subelement mightbe extended in future revisions or amendments of this standard. When the Extensible column of an elementis set to Subelements, then the subelement might be extended in future revisions or amendments of thisstandard by defining additional subelements within the subelement. See 9.23.9.The Vendor Specific subelements have the same format as their corresponding elements (see 8.4.2.28).Multiple Vendor Specific subelements can be included in the list of Optional Subelements.8.4.2.24.16 Directional measurement reportThe format of the Measurement Report field of a directional measurement report is shown in Figure8-182b.Table 8-98a  Optional Subelement IDs for directional channel quality reportSubelement IDNameLength field (octets)Extensible0  220Reserved221Vendor Specific1  255222  255ReservedOperating ClassChannel NumberMeasurement Start TimeMeasurement Duration per DirectionMeasurement MethodMeasurement ResultsOptional SubelementsOctets11821VariableVariableFigure 8-182b  Measurement Report field format for directional measurement repor


page 159
ANIPI is defined in 8.4.2.24.15. RCPI indicates the received channel power of thecorresponding Link Measurement Request frame in a dBm scale, as defined in the RCPI measurementsubclause in Clause 21. The format of the Measurement Results field is shown in Figure8-182c. The Measurement for Directionfields are set to the format of values specified in the Measurement Method field.The Optional Subelements field format contains zero or more subelements, each consisting of a 1-octetSubelement ID field, a 1-octet Length field, and a variable-length Data field, as shown in Figure 8-402. Anyoptional subelements are ordered by nondecreasing SubelementID.The Subelement ID field values for the defined optional subelements are shown in Table8-98b. A Yes in theExtensible column of a subelement listed in Table8-98b indicates that the Length of the subelement mightbe extended in future revisions or amendments of this standard. When the Extensible column of an elementis set to Subelements, then the subelement might be extended in future revisions or amendments of thisstandard by defining additional subelements within the subelement. See 9.23.9. Number of DirectionsMeasurement for Direction 1Measurement for Direction 2   Measurement for Direction NOctets:1VariableVariable   VariableFigure 8-182c  Measurement Results field formatTable 8-98b  Optional Subelement IDs for directional measurement reportSubelement IDNameLength field (octets)Extensible0  220Reserved221Vendor Specific1  255222  255Reserve


page 160
The Measurement Results field is set based on the values in the Measurement Method field and theDirectional Statistics Bitmap field. If two or more subfields in the Directional Statistics Bitmap are set to 1,the corresponding measurement results are included in the Measurement Results field in the same sequenceas they appear in the Directional Statistics Bitmap field. The Optional Subelements field format contains zero or more subelements, each consisting of a 1-octetSubelement ID field, a 1-octet Length field, and a variable-length Data field, as shown in Figure 8-402. Anyoptional subelements are ordered by nondecreasing Subelement ID.The Subelement ID field values for the defined optional subelements are shown in Table8-98c. A Yes in theExtensible column of a subelement listed in Table8-98c indicates that the Length of the subelement mightbe extended in future revisions or amendments of this standard. When the Extensible column of an elementOperating ClassChannel NumberMeasurement Start TimeMeasurement Duration per DirectionMeasurement MethodDirectional Statistics BitmapMeasurement ResultsOptional Subelements Octets118211VariableVariableFigure 8-182d  Measurement Report field format for directional statistics repor


page 161
133is set to Subelements, then the subelement might be extended in future revisions or amendments of thisstandard by defining additional subelements within the subelement. See 9.23.9. The Vendor Specific subelements have the same format as their corresponding elements (see 8.4.2.28).Multiple Vendor Specific subelements can be included in the list of Optional Subelements.8.4.2.27 RSNE8.4.2.27.2 Cipher suitesInsert the following row into Table 8-99 in numeric order, and update the Reserved row accordingly:Insert the following row at the end of Table 8-100:8.4.2.27.4  RSN capabilities Insert Bit 8 for the RSN Capabilities field in 8.4.2.27.4 in numeric order as follows:  Bit 8: Joint Multi-band RSNA. A STA sets the Joint Multi-band RSNA subfield to 1 to indicate thatit supports the Joint Multi-band RSNA (11.5.19). Otherwise, this subfield is set to 0.Change the description of Bit 13 in 8.4.2.27.4 as follows:  Bit 13: Extended Key ID for Individually Addressed Frames. This subfield is set to 1 to indicate thatthe STA supports Key ID values in the range of 0 to 1 for a PTKSA and STKSA when the cipherTable 8-98c  Optional Subelement IDs for directional statistics reportSubelement IDNameLength field (octets)Extensible0  220Reserved221Vendor Specific1  255222  255ReservedTable 8-99  Cipher suite selectorsOUISuite typeMeaning00-0F-AC8GCMP    default for a DMG STATable 8-100  Cipher suite usageCipher suite selectorGTKPTKIGTKGCMPYesYesN


page 162
suite is CCMP or GCMP. A value of 0 indicates that the STA supports only Key ID 0 for a PTKSAand STKSA. 8.4.2.29 Extended Capabilities elementChange the following row in Table 8-103:8.4.2.32 TSPEC elementChange the first paragraph of 8.4.2.32, and insert a new second paragraph as follows:The TSPEC element contains the set of parameters that define the characteristics and QoS expectations of atraffic flow, in the context of a particular STA, for use by the PCP/HC and STA(s) or a mesh STA and itspeer mesh STAs in support of QoS traffic transfer using the procedures defined in 10.4 and 10.23.15.3. Theelement information format comprises the items as defined in this subclause, and the structure is defined inFigure 8-196 when the element is transmitted in a non-DMG BSS and in Figure8-196a when the element istransmitted in a DMG BSS.A PTP TSPEC is a TSPEC exchanged between two non-AP DMG STAs. The format of the PTP TSPEC isthe same as the non-PTP TSPEC; hence the element format described in this subclause applies to both thePTP TSPEC and the non-PTP TSPEC.Change the title of Figure 8-196 as follows:Figure 8-196  TSPEC element format (non-DMG)Insert the following figure, Figure 8-196a, after Figure 8-196:Change the now third paragraph of 8.4.2.32 as follows:The TSPEC allows a set of parameters more extensive than may be needed, or may be available, for anyparticular instance of parameterized QoS traffic. Unless indicated otherwise, fields that follow the TS Infofield are set to 0 for any unspecified parameter values. STAs set the value of any parameters to unspecifiedTable 8-103  Capabilities fieldBitInformationNotes47ReservedQAB CapabilitySet to 1 if AP supports QAB Set to 0 otherwiseElement IDLengthTS InfoNominal MSDU SizeMaximum MSDU SizeMinimum Service IntervalMaximum Service IntervalInactivity IntervalSuspension IntervalOctets:113224444Service Start TimeMinimum Data RateMean Data RatePeak Data RateBurst SizeDelay BoundMinimum PHY RateSurplus Bandwidth AllowanceMedium TimeDMG AttributesOctets:4444444222Figure 8-196a  TSPEC element format (DMG


page 163
Change now paragraphs 13 to 16, and insert a new paragraph 17 in 8.4.2.32 as follows (note thatfootnote23 remains unchanged): The Minimum Data Rate field is 4 octets long and contains an unsigned integer that specifies indicates thelowest data rate specified at the MAC_SAP, in bits per second, for transport of MSDUs or A-MSDUsbelonging to this TS within the bounds of this TSPEC. The minimum data rate does not include the MACTable 8-107  Direction subfield encodingBit 5Bit 6Usage00Uplink, defined as follows:  Non-DMG BSS: (MSDUs or A-MSDUs are sent from the non-AP STA to HC)  DMG BSS: MSDUs or A-MSDUs are sent by the non-AP originator of the ADDTS Request frame 10Downlink, defined as follows:  Non-DMG BSS: (MSDUs or A-MSDUs are sent from the HC to the non-AP STA)  DMG BSS: MSDUs or A-MSDUs are sent by the non-AP recipient of the ADDTS Request frameTable 8-108  Access Policy subfieldBit 7Bit 8Usage00Reserved10Contention-based channel access (EDCA)01Controlled channel access (HCCA for non-DMG STAs and SPCA for DMG STAs)11Controlled and contention-based channel access (HCCA, EDCA mixed mode (HEMM) for non-DMG STAs; SPCA, EDCA mixed mode (SEMM) for DMG STAs


page 164
and PHY overheads incurred in transferring the MSDUs or A-MSDUs. The field is encoded as a piecewiselinear function described as follows:The Mean Data Rate23 field is 4 octets long and contains an unsigned integer that specifies indicates theaverage data rate specified at the MAC_SAP, in bits per second, for transport of MSDUs or A-MSDUsbelonging to this TS within the bounds of this TSPEC. The mean data rate does not include the MAC andPHY overheads incurred in transferring the MSDUs or A-MSDUs. The field is encoded as a piecewiselinear function described as follows:The Peak Data Rate field is 4 octets long and contains an unsigned integer that specifies indicates themaximum allowable data rate, in bits per second, specified at the MAC_SAP for transfer transport ofMSDUs or A-MSDUs belonging to this TS within the bounds of this TSPEC. The field is encoded as apiecewise linear function described as follows:If p is the peak rate in bits per second, then the maximum amount of data, belonging to this TS, arriving inany time interval [t1, t2], where t1 < t2 and t2    t1 > 1 TU, does not exceed p    (t2    t1) bits.The Minimum, Mean and Peak Data Rates do not include the MAC and PHY overheads incurred intransporting the MSDUs or A-MSDUs.Change now paragraph 20 in 8.4.2.32 as follows (note that footnote24 remains unchanged): The Minimum PHY Rate field is 4 octets long and contains an unsigned integer that specifies indicates thedesired minimum PHY rate to use for this TS, in bits per second, that is required for transport of the MSDUsor A-MSDUs belonging to thise TS within the bounds of this TSPEC.24 See 10.4.2 for constraints on theselection of this field. The field is encoded as a piecewise linear function described as follows:Insert the following paragraph (including its dashed list, Figure 8-198a, and Table 8-110a) at the end of8.4.2.32:The DMG Attributes field is defined in Figure 8-198a.B0               B3B4       B5B6B7B8         B9B10   B15Allocation IDReservedAllocation DirectionA-MSDU SubframeReliabilityReservedFigure 8-198a  DMG Attributes field forma


page 165
The reliability information is provided by the SME using the MLME-ADDTS.request primitive and MLME-ADDTS.response primitives. Together with the link margin(9.37) and other implementation-specific information, this value can be used by the transmitter toestimate the MCS to be used for this particular TS. Table 8-110a  Reliability subfield valuesReliability indexPER0Not specified110-2210-3310-


page 166
8.4.2.33 TCLAS elementChange the first paragraph of 8.4.2.33 as follows:The TCLAS element specifies an element that contains a set of parameters necessary to identify incomingMSDUs (from a higher layer in all STAs or from the DS in an AP) that belong to a particular TS. TheTCLAS element is also used when the traffic does not belong to a TS, for example, by the FMS, DMS, andTFS services. If required, the TCLAS element is provided in ADDTS Request and ADDTS Responseframes only for the downlink or bidirectional links. TCLAS element need not be provided for the uplink ordirect-link transmissions, unless the PTP TSPEC is transmitted to a peer STA via a PCP/AP. The TCLASelement is always included when a PTP TSPEC is transmitted to a peer STA via a PCP/AP. The structure ofthis element is shown in Figure 8-199. 8.4.2.48 Multiple BSSID elementChange the fifth paragraph in 8.4.2.48 as follows:When the Multiple BSSID element is transmitted in a Beacon, DMG Beacon, or Probe Response frame, thereference BSSID is the BSSID of the frame. More than one Multiple BSSID element may be included in aBeacon or DMG Beacon frame. The AP or DMG STA determines the number of Multiple BSSID elements.The AP or DMG STA does not fragment a nontransmitted BSSID profile subelement for a single BSSIDacross two Multiple BSSID elements unless the length of the nontransmitted BSSID profile subelementexceeds 255 octets. When the Multiple BSSID element is transmitted as a subelement in a Neighbor Reportelement, the reference BSSID is the BSSID field in the Neighbor Report element. Change the first sentence in the eighth paragraph in 8.4.2.48 as follows:The Nontransmitted BSSID Profile subelement contains a list of elements for one or more APs or DMGSTAs that have nontransmitted BSSIDs and is defined as follows:Change the tenth paragraph in 8.4.2.48 as follows:The Multiple BSSID element is included in Beacon frames, as described in 8.3.3.2, in DMG Beacon frames,as described in 8.3.4.1, and Probe Response frames, as described in 8.3.3.10. The use of the Multiple BSSIDelement is described 10.11.14. Nontransmitted BSSID Advertisement procedures are described in 10.1.3.6.8.4.2.51 Timeout Interval element (TIE)Insert the following row into Table 8-122 in numeric order, and update the Reserved row accordingly:Table 8-122  Timeout Interval Type field valueTimeout Interval TypeMeaningUnits4Time-to-Start (see 10.32.2.1)Time units (TUs


page 167
Insert the following paragraphs (including Figure 8-321a) at the end of 8.4.2.74:The DMG BSS Control field is defined in Figure8-321a. The BSS Type field is as defined in 8.3.4.1. The Nontransmitted BSSID DMG Capabilities element field contains the DMG Capabilities element of theDMG STA. Element IDLengthNontransmitted BSSID CapabilityDMG BSS ControlNontransmitted BSSID DMG Capabilities elementOctets:112119Figure 8-321  Nontransmitted BSSID Capability element formatB0                  B1B2                     B7BSS TypeReservedBits:26Figure 8-321a  DMG BSS Control field forma


page 168
Insert the following subclauses, 8.4.2.129 to 8.4.2.159 (including Figure 8-401l to Figure 8-401bo andTable 8-183f to Table 8-183u), after 8.4.2.128:8.4.2.129 DMG BSS Parameter Change elementThe DMG BSS Parameter Change element is formatted as illustrated in Figure8-401l.The Element ID field is equal to the value for the DMG BSS Parameter Change, specified in Table 8-54.The Length field is set to 7. The Change Type Bitmap field indicates the type of the parameter change to the BSS. This field is defined inFigure8-401m.If the Move field is set to 1, it indicates a change in the TBTT of the BSS. The TBTT is not changed if theMove field is set to 0. If the Size field is set to 1, it indicates a change in the beacon interval duration. Thebeacon interval duration is not changed if the Size field is set to 0.The TBTT Offset is expressed in microseconds. In any DMG BSS Parameter Change element included inDMG Beacon and/or Announce frame, the value of the TBTT Offset field represents the lower order 4 octetsof the PCP/AP TSF timer of the first changed TBTT.The BI Duration field indicates the beacon interval, expressed in TUs, following the indicated DMG BSSParameter Change. The BI Duration field is reserved if the Size bit of the Change Type Bitmap field is setto0.8.4.2.130 DMG Capabilities element8.4.2.130.1 GeneralThe DMG Capabilities element contains a STA identifier and several fields that are used to advertise thesupport of optional DMG capabilities of a DMG STA. The element is present in Association Request,Association Response, Reassociation Request, Reassociation Response, Probe Request and Probe Responseframes and can be present in DMG Beacon and Information request and response frames. The DMGCapabilities element is formatted as illustrated in Figure8-401n.Element IDLengthChange Type BitmapTBTT OffsetBI DurationOctets:11142Figure 8-401l  DMG BSS Parameter Change element formatB0B1B2      B7MoveSizeReservedBits:116Figure 8-401m  Change Type Bitmap field forma


page 169
141The Element ID field is equal to the value for the DMG Capabilities, specified in Table 8-54.The Length field is set to 17. The STA Address field contains the MAC address of the STA.The AID field contains the AID assigned to the STA by the PCP/AP. The value of the AID field is ignoredin Association Request, Reassociation Request and Probe Request frames and when used in an IBSS. 8.4.2.130.2 DMG STA Capability Information fieldThe DMG STA Capability Information field, shown in Figure8-401o, represents the transmitting STAcapabilities irrespective of the role of the STA. The Reverse Direction field is set to 1 if the STA supports RD as defined in 9.25 and is set to 0 otherwise.The Higher Layer Timer Synchronization field is set to 1 if the STA supports Higher Layer TimerSynchronization as defined in 10.23.5 and is set to 0 otherwise. The TPC field is set to 1 if the STA supports the TPC as defined in 10.8 and is set to 0 otherwise.The SPSH and Interference Mitigation field is set to 1 if the STA is capable of performing the function ofSPSH and Interference Mitigation and if dot11RadioMeasurementActivated is true and is set to 0 otherwise(see 10.31). Element IDLengthSTA AddressAIDDMG STA Capability InformationDMG PCP/AP Capability InformationOctets:116182Figure 8-401n  DMG Capabilities element formatB0B1B2B3B4         B5B6B7    B13Reverse DirectionHigher Layer Timer SynchronizationTPC SPSH and Interference MitigationNumber of RX DMG AntennasFast Link AdaptationTotal Number of SectorsBit:1111217B14    B19B20B21               B26B27B28             B51B52RXSS LengthDMG Antenna Reciprocity A-MPDU Parameters BA with Flow Control Supported MCS SetDTP Supported Bit:6161241B53B54B55B56B57    B59B60B61B62  B63A-PPDU SupportedHeartbeatSupports Other_AIDAntenna Pattern ReciprocityHeartbeat Elapsed IndicationGrant ACK SupportedRXSSTx-Rate SupportedReservedBit:11113112Figure 8-401o  DMG STA Capability Information field forma


page 170
The Number of RX DMG Antennas field indicates the total number of receive DMG antennas of the STA.The value of this field is in the range of 1 to 4, with the value being equal to the bit representation plus 1. The Fast Link Adaptation field is set to 1 to indicate that the STA supports the fast link adaptation proceduredescribed in 9.37.3. Otherwise, it is set to 0.The Total Number of Sectors field indicates the total number of transmit sectors the STA uses in a transmitsector sweep combined over all DMG antennas. The value of this field is in the range of 1 to 128, with thevalue being equal to the bit representation plus 1.The value represented by the RXSS Length field specifies the total number of receive sectors combined overall receive DMG antennas of the STA. The value represented by this field is in the range of 2 to 128 and isgiven by (RXSS Length+1)  2. The maximum number of SSW frames transmitted during an RXSS is equalto the value of (RXSS Length+1)  2 times the total number of transmit DMG antennas of the peer device. The DMG Antenna Reciprocity field is set to 1 to indicate that the best transmit DMG antenna of the STA isthe same as the best receive DMG antenna of the STA and vice versa. Otherwise, this field is set to 0. The A-MPDU Parameters field is shown in Figure8-401p.The subfields of the A-MPDU Parameters field are defined in Table8-183f.The BA with Flow Control field is set to 1 if the STA supports BA with flow control as defined in 9.36 andis set to 0 otherwise.The Supported MCS Set field indicates which MCSs a DMG STA supports. An MCS is identified by anMCS index, which is represented by an integer in the range of 0 to 31. The interpretation of the MCS index(i.e., the mapping from MCS to data rate) is PHY dependent. For the DMG PHY, see Clause 21. Thestructure of the Supported MCS Set field is defined in Figure8-401q.B0                                                 B2B3                                       B5Maximum A-MPDU Length ExponentMinimum MPDU Start SpacingBits:33Figure 8-401p  A-MPDU parameters field formatTable 8-183f  Subfields of the A-MPDU Parameters fieldSubfieldDefinitionEncodingMaximum A-MPDU Length ExponentIndicates the maximum length of A-MPDU that the STA can receive.This field is an integer in the range of 0 to 5.The length defined by this field is equal to 2(13 + Maximum A-MPDU Length Exponent)    1 octets.Minimum MPDU Start SpacingDetermines the minimum time between the start of adjacent MPDUs within an A-MPDU that the STA can receive, measured at the PHY-SAP.Set to 0 for no restrictionSet to 1 for 16 nsSet to 2 for 32 nsSet to 3 for 64 nsSet to 4 for 128 nsSet to 5 for 256 nsSet to 6 for 512 nsSet to 7 for 1024 n


page 171
Possible values for this subfield aredescribed 21.5.3.1.2. The Low-Power SC PHY Supported subfield is set to 1 to indicate that the STA supports the DMG low-power SC PHY mode (21.7). Otherwise, it is set to 0. If the STA supports the low-power SC PHY, itsupports all low-power SC PHY MCSs indicated in Table21-22.The Code Rate 13/16 subfield specifies whether the STA supports rate 13/16. It is set to 1 to indicate that theSTA supports rate 13/16 and is set to 0 otherwise. If this field is 0, MCSs with 13/16 code rate specified inTable21-14 and Table21-18 are not supported regardless of the value in Maximum SC/OFDM Tx/Rx MCSsubfields. The DTP Supported field is set to 1 to indicate that the STA supports DTP as described in 9.38 and21.5.3.2.4.6.3. Otherwise, it is set to 0.The A-PPDU Supported field is set to 1 to indicate that the STA supports A-PPDU aggregation as describedin 9.13a. Otherwise, it is set to 0. The Supports Other_AID field is set to 1 to indicate that the STA sets its AWV configuration according tothe Other_AID subfield in the BRP Request field during the BRP procedure as described in 9.35.6.4.4 and21.10.2.2.6, if the value of the Other_AID subfield is different from zero. Otherwise, this field is set to 0. The Heartbeat field is set to 1 to indicate that the STA expects to receive a frame from the PCP/AP duringthe ATI (9.33.3) and expects to receive a frame with the DMG Control modulation from a source DMG STAat the beginning of an SP (9.33.6.2) or TXOP (9.19.2). Otherwise, it is set to 0. The Antenna Pattern Reciprocity field is set to 1 to indicate that the transmit antenna pattern associated withan AWV is the same as the receive antenna pattern for the same AWV. Otherwise, this field is set to 0. B0          B4B5         B9B10      B14B15      B19B20B21B22     B23Maximum SC Rx MCSMaximum OFDM Rx MCSMaximum SC Tx MCSMaximum OFDM Tx MCSLow-Power SC PHY SupportedCode Rate 13/16ReservedBits:5555112Figure 8-401q  Supported MCS Set field forma


page 172
The Heartbeat Elapsed Indication field is used to calculate the value of the Heartbeat Elapsed Time. TheHeartbeat Elapsed Time is expressed in milliseconds and is computed according to the following equation: The Grant ACK Supported field is set to 1 to indicate that the STA is capable of responding to a Grant framewith a Grant ACK frame. Otherwise, this field is set to 0.The RXSSTxRate Supported field is set to 1 to indicate that the STA can perform an RXSS with SSWframes transmitted at MCS 1 of the DMG SC modulation class. Otherwise, it is set to 0.8.4.2.130.3 DMG PCP/AP Capability Information fieldThe DMG PCP/AP Capability Information field, illustrated in Figure8-401r, represents the capabilitieswhen the transmitting STA performs in the role of PCP/AP and that are in addition to the capabilities in theDMG STA Capability Information field. The TDDTI (time division data transfer interval) field is set to 1 if the STA, while operating as a PCP/AP, iscapable of providing channel access as defined in 9.33.6 and 10.4 and is set to 0 otherwise. The Pseudo-static Allocations field is set to 1 if the STA, while operating as a PCP/AP, is capable ofproviding pseudo-static allocations as defined in 9.33.6.4 and is set to 0 otherwise. The Pseudo-staticAllocations field is set to 1 only if the TDDTI field in the DMG PCP/AP Capability Information field is setto 1. The Pseudo-static Allocations field is reserved if the TDDTI field in the DMG PCP/AP CapabilityInformation field is set to 0. The PCP Handover field is set to 1 if the STA, while operating as a PCP, is capable of performing a PCPHandover as defined in 10.28.2 and is set to 0 if the STA does not support PCP Handover.The MAX Associated STA Number field indicates the maximum number of STAs that the STA can performassociation with if operating as a PCP/AP. The value of this field includes the STAs, if any, that are co-located with the PCP/AP. The Power Source field is set to 0 if the STA is battery powered and is set to 1 otherwise. The Decentralized PCP/AP Clustering field is set to 1 if the STA, when operating as a PCP/AP, is capable ofperforming Decentralized PCP/AP clustering and is set to 0 otherwise.B0B1B2B3                                  B10B11TDDTIPseudo-static AllocationsPCP HandoverMAX Associated STA NumberPower SourceBit:11181B12B13B14B15Decentralized PCP/AP ClusteringPCP ForwardingCentralized PCP/AP ClusteringReservedBit:1111Figure 8-401r  DMG PCP/AP Capability Information field forma


page 173
145The PCP Forwarding field is set to 1 if the STA, while operating as a PCP, is capable of forwarding framesit receives from a non-PCP STA and destined to another non-PCP STA in the PBSS. This field is set to 0otherwise.The Centralized PCP/AP Clustering field is set to 1 if the STA, when operating as a PCP/AP, is capable ofperforming centralized PCP/AP clustering and is set to 0 otherwise. A PCP/AP that is incapable ofperforming centralized PCP/AP clustering is subject to requirements as described in 9.34.2.2. 8.4.2.131 DMG Operation element The operational parameters of a BSS provided by the PCP/AP are determined by the DMG Operationelement defined in Figure8-401s.The Element ID field is equal to the value for the DMG Operation, specified in Table 8-54.The Length field is set to 10. The DMG Operation Information field is shown in Figure8-401t.The TDDTI field is set to 1 if the PCP/AP provides time division channel access as defined in 9.33.6 and isset to 0 otherwise. The Pseudo-static allocations field is set to 1 if the PCP/AP provides pseudo-static allocations as defined in9.33.6.4 and is set to 0 otherwise. The Pseudo-static allocations field is set to 1 only if the TDDTI field in theDMG Operation Information field is 1. The Pseudo-static allocations field is reserved if the TDDTI field inthe DMG Operation Information field is 0. The PCP Handover field is set to 1 if the PCP provides PCP Handover as defined in 10.28.2 and is set to 0 ifthe PCP does not provide PCP Handover.The DMG BSS Parameter Configuration field is defined in Figure8-401u.Element IDLengthDMG Operation InformationDMG BSS Parameter ConfigurationOctets:1128 Figure 8-401s  DMG Operation element formatB0B1B2B3          B15TDDTIPseudo-static allocationsPCP HandoverReservedBit:11113Figure 8-401t  DMG Operation Information field formatPSRequestSuspensionIntervalMinBHIDurationBroadcastSTAInfoDurationAssocRespConfirmTimeOctets:1211MinPPDurationSPIdleTimeoutMaxLostBeacons Octets:111Figure 8-401u  DMG BSS Parameter Configuration field forma


page 174
The PSRequestSuspensionInterval subfield indicates the power save suspension interval and is specified innumber of beacon intervals. While associated with a PCP/AP, a STA overrides the value of its localdot11PSRequestSuspensionInterval MIB variable with the value of this field when it receives this elementfrom its PCP/AP. The MinBHIDuration subfield indicates the minimum duration of the BHI, which can include the BTI, A-BFT, and ATI and is specified in microseconds. While associated with a PCP/AP, a STA overrides the valueof its local dot11MinBHIDuration MIB variable with the value of this field when it receives this elementfrom its PCP/AP. The BroadcastSTAInfoDuration subfield indicates the amount of time that the PCP/AP expects to take totransmit information about associated STAs and is specified in number of beacon intervals. Whileassociated with a PCP/AP, a STA overrides the value of its local dot11BroadcastSTAInfoDuration MIBvariable with the value of this field when it receives this element from its PCP/AP. The AssocRespConfirmTime subfield indicates the amount of time that the PCP/AP expects to take torespond to association requests and is specified in milliseconds. While associated with a PCP/AP, a STAoverrides the value of its local dot11AssocRespConfirmTime MIB variable with the value of this field whenit receives this element from its PCP/AP. The MinPPDuration subfield indicates the minimum duration of the PP and GP as part of the dynamicallocation of service period mechanism and is specified in microseconds. While associated with a PCP/AP, aSTA overrides the value of its local dot11MinPPDuration MIB variable with the value of this field when itreceives this element from its PCP/AP. The SPIdleTimeout subfield indicates time during which a STA expects to receive a frame from its peerSTA and is specified in microseconds. While associated with a PCP/AP, a STA overrides the valueofitslocal dot11SPIdleTimeout variable with the value of this field when it receives this element from itsPCP/AP. The MaxLostBeacons field contains the value of the dot11MaxLostBeacons attribute. While associated witha PCP/AP, a STA overrides the value of its local dot11MaxLostBeacons attribute with the value of this fieldwhen it receives this element from its PCP/AP. 8.4.2.132 DMG Beam Refinement elementThe DMG Beam Refinement element is defined as shown in Figure8-401v.The Element ID field is equal to the value for the DMG Beam Refinement, specified in Table 8-54.B0        B7B8     B15B16B17B18B19B20Element IDLengthInitiatorTX-train-responseRX-train-responseTX-TRN-OKTXSS-FBCK-REQBits:8811111B21     B26B27    B28B29          B33B34           B51B52B53B54     B55BS-FBCKBS-FBCK Antenna IDFBCK-REQFBCK-TYPEMID ExtensionCapability RequestReservedBits:62518112Figure 8-401v  DMG Beam Refinement element forma


page 175
147The Length field is set to 5. A value of 1 in the Initiator field indicates that the sender is the beam refinement initiator. Otherwise, thisfield is set to 0.A value of 1 in the TX-train-response field indicates that this packet is the response to a TX training request.Otherwise, this field is set to 0.A value of 1 in the RX-train-response field indicates that the packet serves as an acknowledgment for a RXtraining request. Otherwise, this field is set to 0.A value of 1 in the TX-TRN-OK field confirms a previous training request received by a STA. Otherwise,this field is set to 0.A value of 1 in the TXSS-FBCK-REQ field indicates a request for transmit sector sweep feedback.The BS-FBCK field specifies the sector that resulted in the best receive quality in the last received BRP-TXpacket. If the last received packet was not a BRP-TX packet, this field is set to 0. The determination of thebest sector is implementation dependent.The BS-FBCK Antenna ID field specifies the antenna ID corresponding to the sector indicated by the BF-FBCK field. The FBCK-REQ field is defined in Figure8-401w and is described in Table8-183g. B29B30B31                       B32B33SNR RequestedChannel Measurement RequestedNumber of Taps RequestedSector ID Order RequestedBits:1121Figure 8-401w  FBCK-REQ field formatTable 8-183g  FBCK-REQ field descriptionFieldMeaningSNR RequestedIf set to 1, the SNR subfield is requested as part of the channel measurement feedback. Otherwise, set to 0.Channel Measurement RequestedIf set to 1, the Channel Measurement subfield is requested as part of the channel measurement feedback. Otherwise, set to 0.Number of Taps RequestedNumber of taps in each channel measurement:0x0    1 tap0x1    5 taps0x2    15 taps0x3    63 tapsSector ID OrderRequested If set to 1, the Sector ID Order subfield is requested as part of the channel measurement feedback. Otherwise, set to 0


page 176
The FBCK-TYPE field is defined in Figure8-401x and is described in Table8-183h. When both Nmeas andNbeam in this field are equal to 0, the Channel Measurement Feedback element is not present. A value of 1 in the MID Extension field indicates the intention to continue transmitting BRP-RX packetsduring the MID subphases. Otherwise, this field is set to 0. A value of 1 in the Capability Request field indicates that the transmitter of the frame requests the intendedreceiver to respond with a BRP frame that includes the BRP Request field. Otherwise, this field is set to 0. 8.4.2.133 Wakeup Schedule elementThe Wakeup Schedule element is defined in Figure8-401y. B34B35B36B37    B38B39           B45B46B47  B51SNR PresentChannel Measurement PresentTap Delay PresentNumber of Taps PresentNumber of MeasurementsSector ID Order PresentNumber of BeamsBits:1112715Figure 8-401x  FBCK-TYPE field formatTable 8-183h  FBCK-TYPE field descriptionFieldMeaningSNR PresentSet to 1 to indicate that the SNR subfield is present as part of the channel measurement feedback. Set to 0 otherwise.Channel Measurement PresentSet to 1 to indicate that the Channel Measurement subfield is present as part of the channel measurement feedback. Set to 0 otherwise.Tap Delay PresentSet to 1 to indicate that the Tap Delay subfield is present as part of the channel measurement feedback. Set to 0 otherwise.Number of Taps Present (Ntaps)Number of taps in each channel measurement:0x0    1 tap0x1    5 taps0x2    15 taps0x3    63 tapsNumber of Measurements (Nmeas)Number of measurements in the SNR subfield and the Channel Measurement subfield. It is equal to the number of TRN-T subfields in the BRP-TX packet on which the measurement is based, or the number of received sectors if TXSS result is reported by setting TXSS-FBCK-REQ to 1. Sector ID Order PresentSet to 1 to indicate that the Sector ID Order subfield is present as part of the channel measurement feedback. Set to 0 otherwise.Number of Beams (Nbeam)For the MIDC with multiple sector ID (MID) subphase only, indicates the number of sectors that the responder/initiator transmits during the MID subphase. Otherwise, indicates the number of beams in the Sector ID Order subfield for the MIDC subphase with the direction and the TX/RX antenna identification.The 1st bit is set to 0 for the initiator link and to 1 for the responder link. The 2nd bit isset to 0 for the transmitter antenna and to 1 for the receiver antenna. The 3rd to 5thbits represent the number of beams for beam combining. E.g.    01101    stands for Nbeam(I, RX) = 5


page 177
The Number of Awake/Doze BIs field indicates the number of Awake BIs at the beginning of each sleepcycle. 8.4.2.134 Extended Schedule elementThe Extended Schedule element is formatted as illustrated in Figure 8-401z. Because the length parametersupports only 255 octets of payload in an element, the PCP/AP can split the Allocation fields into more thanone Extended Schedule element entry in the same DMG Beacon or Announce frame. Despite this splitting,the set of Extended Schedule element entries conveyed within a DMG Beacon and Announce frame isconsidered to be a single schedule for the beacon interval, and in this standard referred to simply asExtended Schedule element unless otherwise noted. The Allocation fields are ordered by increasingallocation start time with allocations beginning at the same time arbitrarily ordered.  The Element ID field is equal to the value for the Extended Schedule, specified in Table 8-54.The Length field for this element indicates the length of the Information field.The Allocation field is formatted as illustrated in Figure 8-401aa.The Allocation Control field is defined in Figure 8-401ab.Element IDLengthBI Start TimeSleep CycleNumber of Awake/Doze BIsOctets:11422Figure 8-401y  Wakeup Schedule element formatElement IDLengthAllocation 1Allocation 2   Allocation nOctets:111515   15Figure 8-401z  Extended Schedule element formatAllocation ControlBF ControlSource AIDDestination AIDAllocation Start Allocation Block DurationNumber of BlocksAllocation Block PeriodOctets:22114212Figure 8-401aa  Allocation field forma


page 178
The PCP Active field is set to 1 if the PCP is available to receive transmissions during the CBAP or SPallocation and set to 0 otherwise. The PCP Active field is set to 1 if at least one of the Truncatable orExtendable fields are set to 1, or when transmitted by an AP. The BF Control field is defined in 8.4a.5. The Source AID field is set to the AID of the STA that initiates channel access during the SP or CBAPallocation or, in the case of a CBAP allocation, can also be set to the broadcast AID if all STAs are allowedto initiate transmissions during the CBAP allocation. The Destination AID field indicates the AID of a STA that is expected to communicate with the sourceDMG STA during the allocation or broadcast AID if all STAs are expected to communicate with the sourceDMG STA during the allocation. The broadcast AID asserted in the Source AID and the Destination AIDfields for an SP allocation indicates that during the SP a non-PCP/non-AP STA does not transmit unless itreceives a Poll or Grant frame from the PCP/AP. B0        B3B4                 B6B7B8B9B10B11B12    B15Allocation IDAllocationType Pseudo-staticTruncatableExtendablePCP ActiveLP SC UsedReservedBits:43111114Figure 8-401ab  Allocation Control field formatTable 8-183i  AllocationType field valuesBit 4Bit 5Bit 6Meaning000SP allocation 100CBAP allocationAll other combinationsReserve


page 179
151The Allocation Start field contains the lower 4 octets of the TSF at the time the SP or CBAP starts. TheAllocation Start field can be specified at a future beacon interval when the pseudo-static field is set to 1. The Allocation Block Duration field indicates the duration, in microseconds, of a contiguous time block forwhich the SP or CBAP allocation is made and cannot cross beacon interval boundaries. Possible valuesrange from 1 to 32 767 for an SP allocation and 1 to 65 535 for a CBAP allocation. The Number of Blocks field contains the number of time blocks making up the allocation.The Allocation Block Period field contains the time, in microseconds, between the start of two consecutivetime blocks belonging to the same allocation. The Allocation Block Period field is reserved when theNumber of Blocks field is set to 1. The LP SC Used subfield is set to 1 to indicate that the low-power SC PHY described in 21.7 is used in thisSP. Otherwise, it is set to 0. 8.4.2.135 STA Availability elementThe STA Availability element is used by a non-PCP/non-AP STA to inform a PCP/AP about the STAavailability during the subsequent CBAPs (9.33.5) and to indicate participation in the Dynamic allocation ofservice periods (9.33.7). The PCP/AP uses the STA Availability element to inform the non-PCP/non-APSTAs of other STAs availability during subsequent CBAPs and participation of other STAs in the Dynamicallocation of service periods. The format of the STA Availability element is illustrated in Figure 8-401ac.The Element ID field is equal to the value for the STA Availability, specified in Table 8-54.The Length field for this element indicates the length of the Information field.The format of the STA Info field is shown in Figure 8-401ad.The AID field contains the AID of the STA for which availability is indicated.The CBAP field is set to 1 to indicate that the STA is available to receive transmissions during CBAPs andset to 0 otherwise.The PP Available field is set to 1 to indicate that the STA is available during PPs (9.33.7) and is set to 0otherwise. Element IDLengthSTA Info 1   STA Info nOctets:112   2Figure 8-401ac  STA availability element formatB0         B7B8B9B10      B15AIDCBAPPP Available ReservedBits:8116Figure 8-401ad  STA Info field forma


page 180
8.4.2.136 DMG TSPEC elementThe DMG TSPEC element is present in the ADDTS Request frame sent by a non-PCP/non-AP DMG STAand contains the set of parameters needed to create or modify an airtime allocation. The DMG TSPECelement is also present in the ADDTS Response frame sent by a DMG PCP/AP and reflects the parameters,possibly modified, by which the allocation was created. The format of the DMG TSPEC element is shown inFigure 8-401ae.The Element ID field is equal to the value for the DMG TSPEC, specified in Table 8-54.The Length field for this element indicates the length of the Information field.The DMG Allocation Info field is formatted as shown in Figure 8-401af.The Allocation ID field identifies an allocation if set to a nonzero value, and is used as follows:  The STA that transmits an ADDTS Request containing the DMG TSPEC element sets theAllocation ID to a nonzero value to create a new allocation or modify an existing allocation.  The STA that transmits an ADDTS Response containing the DMG TSPEC element sets theAllocation ID to a nonzero value to identify a created or modified allocation or sets it to zero ifcreating or modifying the allocation failed.The AllocationType field defines the channel access mechanism used during the allocation, with valueslisted in Table8-183i. The Allocation Format field values are listed in Table8-183j. Element IDLengthDMG Allocation InfoBF ControlAllocation PeriodOctets:11322Minimum AllocationMaximum AllocationMinimum DurationNumber of ConstraintsTSCONSTOctets:2221VariableFigure 8-401ae  DMG TSPEC element formatB0                            B3B4                        B6B7B8B9Allocation IDAllocationTypeAllocation FormatPseudo-staticTruncatableBits:43111B10B11B12       B14B15                       B22B23ExtendableLP SC UsedUPDestination AIDReservedBits:11381Figure 8-401af  DMG Allocation Info field forma


page 181
153The Pseudo-static field is set to 1 for a pseudo-static allocation and set to 0 otherwise. For an SP allocation, the Truncatable field is set to 1 if the STA expects to truncate the SP, as described in9.33.8. If the STA does not expect to truncate the SP, the Truncatable field is set to 0. The field is reservedfor CBAP allocations.For an SP allocation, the Extendable field is set to 1 if the STA expects to extend the SP, as described in9.33.9. If the STA does not expect to extend the SP, the Extendable field is set to 0. The field is reserved forCBAP allocations.The LP SC Used field is defined in 8.4.2.134.The UP field indicates the lowest priority UP to be used for possible transport of MSDUs belonging to TCswith the same source and destination of the allocation.The Destination AID field contains the AID of a STA that the requesting STA wishes to communicate withduring the allocation.The BF Control field is defined in 8.4a.5.The Allocation Period is specified as a fraction or multiple of the beacon interval (BI) as defined inTable8-183k.For isochronous allocation format requests the Allocation Period, Minimum Allocation and MaximumAllocation fields are set as follows:  The Allocation Period field indicates the period over which the allocation repeats.   The Minimum Allocation field is set to the minimum acceptable allocation in microseconds in eachallocation period.  The Maximum Allocation field is set to the desired allocation in microseconds in each allocationperiod.Table 8-183j  Allocation Format valuesAllocation format valueDescription1Isochronous allocation format0Asynchronous allocation formatTable 8-183k  Allocation Period valuesB0  B14B15Meaning00Reserved01Not periodic or periodicity unknown1  327670The allocation period is a multiple of the BI, i.e., allocation period = n x BI where n is the value represented by B0  B141  327671The allocation period is a fraction of the BI, i.e., allocation period = BI/n where n is the value represented by B0  B14


page 182
The Traffic Scheduling Constraint (TSCONST) field contains one or more Constraint subfields as illustratedin Figure 8-401ag.The Constraint subfield is defined as illustrated in Figure 8-401ah.The TSCONST Start Time field contains the lower 4 octets of the TSF at the time the scheduling constraintstarts.The TSCONST Duration field indicates the time, in microseconds, for which the scheduling constraint isspecified.The TSCONST Period field is specified as a fraction or multiple of the beacon interval (BI) as defined inTable8-183l. This field is used to indicate a periodic scheduling constraint by specifying the temporal gapbetween two consecutive scheduling constraints. One or more Constraint subfieldsOctets:VariableFigure 8-401ag  Traffic Scheduling Constraint field formatTSCONST Start TimeTSCONST DurationTSCONST PeriodInterferer MAC addressOctets:4226Figure 8-401ah  Constraint subfield formatTable 8-183l  TSCONST Period valuesB0  B14B15Meaning00Reserved01Not periodic or periodicity unknown1  327670The TSCONST period is a multiple of the BI, i.e., TSCONST period = n x BI where n is the value represented by B0  B14.1  327671The TSCONST period is a fraction of the BI, i.e., TSCONST period = BI/n where n is the value represented by B0  B14


page 183
155The Interferer MAC Address field is set to the value of the TA field within a frame received during theinterval of time indicated by this TSCONST field. If the value is unknown, the Interferer MAC Address fieldis set to the broadcast MAC address. 8.4.2.137 Next DMG ATI elementThe Next DMG ATI element indicates the earliest start time for the next ATI in a subsequent beaconinterval. See Figure 8-401ai.The Element ID field is equal to the value for the Next DMG ATI, specified in Table 8-54.The Length field is set to 6. The Start Time field contains the low-order 4 octets of the TSF for the earliest time at which the next ATI ina subsequent beacon interval starts. The ATI Duration field contains the duration, in microseconds, of the next ATI in a subsequent beaconinterval. 8.4.2.138 Channel Measurement Feedback elementThe Channel Measurement Feedback element is used to carry the channel measurement feedback data thatthe STA has measured on the TRN-T fields of the BRP packet that contained the Channel Measurementrequest, to provide a list of sectors identified during a sector sweep, or during beam combination (9.35.6.3).The format and size of the Channel Measurement Feedback element are defined by the parameter valuesspecified in the accompanying DMG Beam Refinement element.The Channel Measurement Feedback element, as shown in Table8-183m, is composed of 4 subfields: theSNR subfield, the Channel Measurement subfield, the Tap Delay subfield, and the Sector ID Order subfield. Element IDLengthStart TimeATI DurationOctets:1142Figure 8-401ai  Next DMG ATI element formatTable 8-183m  Channel Measurement Feedback element format FieldSizeMeaningElement ID8 bitsLength8 bitsSNR8 bitsSNR as measured in the first TRN-T field or at the first sector from which SSW frame is received. 8 bitsSNR as measured in the second TRN-T field or at the second sector from which SSW frame is received. 8 bitsSNR as measured in the Nmeas TRN-T field or at sector Nmeas from which SSW frame is received. 1SNR2SNRmeasNSN


page 184
The Element ID field is equal to the value for the Channel Measurement Feedback, specified in Table 8-54.The Length field for this element indicates the length of the Information field.The number of channel/SNR measurements reported, Nmeas, is equal to the number of TRN-T subfields thatwere appended to the packet on which the measurements were performed. If the measurement reports theresult of an SLS or of an MID, it is equal to the number of frames received during the sector sweep, or thenumber of packets used during the MID subphase. The SNR subfield levels are unsigned integers referenced to a level of   8 dB. Each step is 0.25 dB. SNRvalues less than or equal to   8 dB are represented as 0. SNR values greater than or equal to 55.75 dB arerepresented as 0xFF.The format of each channel measurement is specified in Table8-183n.Channel MeasurementChannel Measurement 1Ntaps  16 bitsChannel measurement for the first TRN-T fieldChannel Measurement 2Ntaps  16 bitsChannel measurement for the second TRN-T fieldChannel Measurement NmeasNtaps  16 bitsChannel measurement for the Nmeas TRN-T fieldTap DelayRelative Delay Tap #18 bitsThe delay of Tap #1 in units of Tc relative to the path with the shortest delay detected.Relative Delay Tap #28 bitsThe delay of Tap #2 in units of Tc relative to the path with the shortest delay detected.Relative Delay Tap #Ntaps8 bitsThe delay of Tap #Ntaps in units of Tc relative to the path with the shortest delay detected.Sector ID OrderSector ID16 bitsSector ID for SNR1 being obtained, or sector ID of the first detected beam.Antenna ID12 bitsAntenna ID corresponding to Sector ID1.Sector ID26 bitsSector ID for SNR2 being obtained, or sector ID of the second detected beam.Antenna ID22 bitsAntenna ID corresponding to Sector ID2.Sector IDNmeas or Sector IDNbeam6 bitsSector ID for SNRNmeas being obtained, or sector ID of the detected beam Nbeam.Antenna IDNmeas or Antenna IDNbeam2 bitsAntenna ID corresponding to Sector IDNmeas or Sector IDNbeamTable 8-183m  Channel Measurement Feedback element format  (continued) FieldSizeMeanin


page 185
157Each channel measurement contains Ntaps channel impulse taps. The channel impulse response reported forall Nmeas measurements correspond to a common set of relative tap delays. If the Tap Delay subfield is notpresent, then the Ntaps channel taps is interpreted as contiguous time samples, separated by Tc. The delayvalues in the Tap Delay subfield, when present, correspond to the strongest taps and are unsigned integers,in increments of Tc, starting from 0. Each channel tap is reported as an in-phase and quadrature componentpair, with each component value represented as a twos complement number between   128 and 127. Unlessall in-phase and quadrature component values are reported as zero, they are scaled such that the two mostsignificant bits for at least one of the component values equal 01 or 10 (binary). The Sector ID Order subfield indicates the TX sector IDs corresponding to the SNRs in the SNR subfieldwhen the SNR Present subfield is set to 1 and Sector ID Order Present subfield is set to 1, in response to aBRP packet with the SNR Requested subfield set to 1. The Sector ID Order subfield indicates the TX sectorIDs ranked in the decreasing order of link quality, determined in an implementation dependent manner,when the SNR Present subfield is set to 0 and the Sector ID Order Present subfield is set to 1 in response tosetting the SNR Requested subfield to 0 and the Sector ID Order Requested subfield to 1. The FBCK-REQfield and the FBCK TYPE field in the DMG Beam Refinement element are used by the transmitter andreceiver to, respectively, request for and indicate the Sector IDs and their order.8.4.2.139 Awake Window elementThe Awake Window element is defined as shown in Figure 8-401aj.The Element ID field is equal to the value for the Awake Window, specified in Table 8-54.The Length field is set to 2. Table 8-183n  Channel measurementFieldSizeMeaningRelative I Component Tap #18 bitsThe in-phase component of impulse response for Tap #1, relative to the amplitude of the strongest tap measured.Relative Q Component Tap #18 bitsThe quadrature component of impulse response for Tap #1, relative to the amplitude of the strongest tap measured.Relative I Component Tap #28 bitsThe in-phase component of impulse response for Tap #2, relative to the amplitude of the strongest tap measured.Relative Q Component Tap #28 bitsThe quadrature component of impulse response for Tap #2, relative to the amplitude of the strongest tap measured.Relative I Component Tap #Ntaps8 bitsThe in-phase component of impulse response for Tap #Ntaps, relative to the amplitude of the strongest tap measured.Relative Q Component Tap #Ntaps8 bitsThe quadrature component of impulse response for Tap #Ntaps, relative to the amplitude of the strongest tap measured.Element IDLengthAwake WindowOctets:112Figure 8-401aj  Awake Window element forma


page 186
The Awake Window field is 2 octets and contains the length of the Awake Window measured inmicroseconds.8.4.2.140 Multi-band elementThe Multi-band element indicates that the STA transmitting this element (the transmitting STA) is within amulti-band device capable of operating in a frequency band or operating class or channel other than the onein which this element is transmitted and that the transmitting STA is able to accomplish a session transferfrom the current channel to a channel using another STA in the same device, in the other or same band. Theformat of the Multi-band element is shown in Figure 8-401ak. The Element ID field is equal to the value for the Multi-band, specified in Table 8-54.The Length field for this element indicates the length of the Information field.The format of the Multi-band Control field is shown in Figure 8-401al.The STA Role field specifies the role the transmitting STA plays on the channel of the operating classindicated in this element. The possible values of the STA Role field are indicated in Table8-183o. If theSTA Role field is set to IBSS STA, the BSSID field contains the BSSID of the IBSS.NOTE  A STA can perform in more than one role in a channel, and the STA Role field identifies the role that is mostrelevant for the STA for that channel.Element IDLengthMulti-band ControlBand IDOperating ClassChannel NumberBSSIDBeacon IntervalOctets:11111162TSF OffsetMulti-band Connection Capability FSTSessionTimeOutSTA MAC Address (optional)Pairwise Cipher Suite Count (optional) Pairwise Cipher Suite List (optional)Octets:811624  mFigure 8-401ak  Multi-band element format B0        B2B3B4B5      B7STA RoleSTA MAC Address PresentPairwise Cipher Suite Present ReservedBits:3113Figure 8-401al  Multi-band Control field format Table 8-183o  STA Role field valuesSTA roleValueAP0TDLS STA1IBSS STA2PCP


page 187
159The STA MAC Address Present field indicates whether the STA MAC Address field is present in the Multi-band element. If the present field is set to 1, the STA MAC Address field is present. If the present field is setto 0, the STA MAC Address field is not present.The Pairwise Cipher Suite Present field indicates whether the Pairwise Cipher Suite Count field and thePairwise Cipher Suite List field are present in the Multi-band element. If the present field is set to 1, thePairwise Cipher Suite Count field and the Pairwise Cipher Suite List field are present. If the present field isset to 0, the Pairwise Cipher Suite Count field and the Pairwise Cipher Suite List field are not present. The Band ID field provides the identification of the frequency band related to the Operating Class andChannel Number fields. The Band ID field is defined in 8.4.1.45. Operating Class indicates the channel set for which the Multi-band element applies. Operating Class andChannel Number together specify the channel frequency and spacing for which the Multi-band elementapplies. Valid values of Operating Class are shown in Annex E. This field is set to 0 to indicate all operatingclasses within the frequency band specified by the value of the Band ID field. The Channel Number field is set to the number of the channel the transmitting STA is operating on orintends to operate on. This field is set to 0 to indicate all channels within the frequency band specified by thevalue of the Band ID field. The BSSID field specifies the BSSID of the BSS operating on the channel and frequency band indicated bythe Channel Number and Band ID fields. The Beacon Interval field specifies the size of the beacon interval for the BSS operating on the channel andfrequency band indicated by the Channel Number and Band ID fields. This field is set to 0 if no BSS is inoperation in the indicated channel and frequency band.If the transmitting STA is a member of a PBSS or infrastructure BSS on both the channel indicated in thiselement and the channel on which the element is transmitted, then the TSF Offset field contains the timeoffset of the TSF of the PBSS or infrastructure BSS of which the transmitting STA is member on the channelindicated in this element relative to the TSF of the PBSS or infrastructure BSS corresponding to the BSSIDindicated in the Address 3 field of the MPDU in which this element is transmitted. The value of the TSFOffset field is specified as a twos complement integer in microsecond units. If the transmitting STA is not amember of an infrastructure BSS or PBSS on both the channel indicated in this element and the channel onwhich the element is transmitted, then the TSF Offset field contains the value 0.The Multi-band Connection Capability field is defined in Figure 8-401am. The Multi-band ConnectionCapability field indicates the connection capabilities supported by the STA on the channel and bandindicated in this element. Non-PCP Non-AP STA4Reserved5  7Table 8-183o  STA Role field values  (continued)STA roleValu


page 188
The AP field specifies whether the STA can function as an AP on the channel and band indicated in theelement. It is set to 1 when the STA is capable to function as an AP, and it is set to 0 otherwise.The PCP field specifies whether the STA can function as a PCP on the channel and band indicated in theelement. It is set to 1 when the STA is capable to function as a PCP, and it is set to 0 otherwise.The DLS field is set to 1 to indicate that the STA can perform a DLS on the channel and band indicated inthe element. Otherwise, it is set to 0.The TDLS field is set to 1 to indicate that the STA can perform a TDLS on the channel and band indicated inthe element. Otherwise, it is set to 0.The IBSS field is set to 1 to indicate that the STA is able to support IBSS on the channel and band indicatedin the element. Otherwise, it is set to 0.The FSTSessionTimeOut field is used in the FST Setup Request frame to indicate the timeout value for FSTsession setup protocol as defined in 10.32.1. The FSTSessionTimeOut field contains the duration, in TUs,after which the FST setup is terminated. The STA MAC Address field contains the MAC address that the transmitting STA uses while operating onthe channel indicated in this element. The STA MAC Address field is not present in this element if the STAMAC Address Present field is set to 0.The Pairwise Cipher Suite Count field and the Pairwise Cipher Suite List field are defined in 8.4.2.27. Thesefields are not present in this element if the Pairwise Cipher Suite Present field is set to 0. 8.4.2.141 ADDBA Extension element The ADDBA Extension element is shown in Figure 8-401an.The Element ID field is equal to the value for the ADDBA Extension, specified in Table 8-54.The Length field is set to 1. The ADDBA Capabilities field is shown in Figure 8-401ao.B0B1B2B3B4B5       B7APPCPDLSTDLSIBSSReservedBits:111113Figure 8-401am  Multi-band Connection Capability field formatElement IDLengthADDBA CapabilitiesOctets:111Figure 8-401an  ADDBA Extension element forma


page 189
161ADDBA Extension element can be included in the ADDBA Request and Response action frames. TheADDBA Request or ADDBA Response or both can contain the element. The No-Fragmentation field determines whether a fragmented MSDU can be carried in the MPDU sentunder the Block Ack agreement. When this field set to 1 in the ADDBA Request frame, it indicates that theoriginator is not fragmenting sent MSDUs. When this field set to 1 in the ADDBA Response frame, itindicates that the recipient is not capable of receiving fragmented MSDUs. 8.4.2.142  Next PCP List element The Next PCP List element contains one or more AID of NextPCP i fields as shown in Figure 8-401ap.The Element ID field is equal to the value for the Next PCP List, specified in Table 8-54.The Length field for this element indicates the length of the Information field.The Token field is set to 0 when the PBSS is initialized and incremented each time the NextPCP List isupdated. Each AID of NextPCP i field contains the AID value of a STA. The AID values are listed in the orderdescribed in 10.28.2. 8.4.2.143  PCP Handover element The PCP Handover element is used to indicate which STA becomes the new PCP following an explicit orimplicit handover procedure. The PCP Handover element is defined in Figure 8-401aq. The Element ID field is equal to the value for the PCP Handover, specified in Table 8-54.The Length field is set to 13. The Old BSSID field contains the BSSID of the PBSS from which control is being handed over.The New PCP Address field indicates the MAC address of the new PCP following a handover.B0B1       B7No-FragmentationReservedBits:17Figure 8-401ao  ADDBA Capabilities field formatElement IDLengthToken AID of NextPCP 1   AID of NextPCP nOctets:1111   1Figure 8-401ap  Next PCP List element formatElement IDLengthOld BSSIDNew PCP AddressRemaining BIsOctets:11661Figure 8-401aq  PCP Handover element forma


page 190
The Remaining BIs field indicates the number of beacon intervals, from the beacon interval in which thiselement is transmitted, remaining until the handover takes effect. 8.4.2.144 DMG Link Margin element 8.4.2.144.1 GeneralThe format of the DMG Link Margin element is shown in Figure 8-401ar. The DMG Link Margin elementis included in a Link Measurement Report frame. The Element ID field is equal to the value for the DMG Link Margin, specified in Table 8-54.The Length field is set to 8. The Activity field is set to a preferred action that the STA sending this element recommends that the peerSTA indicated in the RA field of the Link Measurement Report frame execute. The method by which thesending STA determines a suitable action for the peer STA is implementation specific. The Activity field isdefined in 8.4.2.144.2.The MCS field is set to an MCS value that the STA sending this element recommends that the peer STAindicated in the RA field of the Link Measurement Report frame use to transmit frames to this STA. Thereference PER for selection of the MCS is 10-2 for an MPDU length of 4096 octets. The method by whichthe sending STA determines a suitable MCS for the peer STA is implementation specific. The Link Margin field contains the measured link margin of data frames received from the peer STAindicated in the RA field of the Link Measurement Report frame and is coded as a twos complement signedinteger in units of decibels. A value of   128 indicates that no link margin is provided. The measurementmethod of link margin is beyond the scope of this standard.The SNR field indicates the SNR measured during the reception of a PHY packet. Values are from   13 dBto 50.75 dB in 0.25 dB steps. The Reference Timestamp field contains the lower 4 octets of the TSF timer value sampled at the instant thatthe MAC received the PHY-CCA.indication(IDLE) signal that corresponds to the end of the reception of thePPDU that was used to generate the feedback information contained in the Link Measurement Report frame.8.4.2.144.2 Activity fieldThe Activity field values are defined in Table8-183p.Element IDLengthActivityMCSLink MarginSNRReference TimestampOctets:1111114Figure 8-401ar  DMG Link Margin element formatTable 8-183p  Activity field valuesPreferred Action valueMeaning0No change preferred1Change(d) MC


page 191
1638.4.2.145 DMG Link Adaptation Acknowledgment elementThe format of the DMG Link Adaptation Acknowledgment element is shown in Figure 8-401as. The DMGLink Adaptation Acknowledgment element is carried in the Optional Subelements field of the LinkMeasurement Report frame.The Element ID field is equal to the value for the DMG Link Adaptation Acknowledgment, specified inTable 8-54.The Length field is set to 5. The Activity field is set to the action that the STA sending this element has executed following the receptionof the recommended activity in a Link Measurement Report frame. The method by which the sending STAdetermines the action is described in 9.37 and the Activity field is defined in 8.4.2.144.2. The Reference Timestamp field contains the lower 4 octets of the TSF timer value sampled at the instant thatthe MAC received the PHY-CCA.indication(IDLE) signal that corresponds to the end of the reception of thePPDU that was used to generate the feedback information contained in the Link Measurement Report frame. 8.4.2.146 Switching Stream element The Switching Stream element indicates the streams that the transmitting STA requests to be switched to anew frequency band or operating class or channel. The format of the Stream Switching element is shown inFigure 8-401at.The Element ID field is equal to the value for the Switching Stream, specified in Table 8-54.2Decrease(d) transmit power3Increase(d) transmit power4Fast session transfer (FST)5Power conserve mode 6Perform SLS7  255ReservedElement IDLengthActivityReference TimestampOctets:1114Figure 8-401as  DMG Link Adaptation Acknowledgment element formatElement IDLengthOld Band IDNew Band IDNon-QoS Data FramesNumber of Streams SwitchingSwitching ParametersOctets:1111112    Number of Streams Switching Figure 8-401at  Switching Stream element formatTable 8-183p  Activity field values  (continued)Preferred Action valueMeanin


page 192
The Length field for this element indicates the length of the Information field.The Old Band ID field specifies the frequency band to which the information carried in this element isrelated. This field is defined in 8.4.1.45. The New Band ID field specifies the frequency band to which the information contained in the Stream ID inNew Band subfield of this element is related. This field is defined in 8.4.1.45. The Non-QoS Data Frames field specifies whether non-QoS data frames can be transmitted in the frequencyband indicated in the New Band ID field. If the Non-QoS Data Frames field is set to 0, non-QoS data framescannot be transmitted in the frequency band indicated in the New Band ID field. If the Non-QoS DataFrames field is set to 1, non-QoS data frames can be transmitted in the frequency band indicated in the NewBand ID field.The Number of Streams Switching field specifies the number of streams to be switched. The format of Switching Parameters field is shown in Figure 8-401au.The Stream ID in Old Band and Stream ID in New Band subfields are comprised of the TID and Directionsubfields. The subfields within the Stream ID in New Band subfield are reserved if the Stream ID in NewBand Valid subfield is set to 0. The TID subfield specifies the stream in the corresponding band.The Direction field specifies whether the STA transmitting this element is the source or destination of thecorresponding TID. It is set to 0 to indicate that the STA transmitting this element is the source of the TID,and it is set to 1 otherwise. The Stream ID in New Band Valid subfield is set to 1 if the information contained in the Stream ID in NewBand subfield is valid, that is, the TID specified within the Stream ID in New Band subfield has beenestablished in the band identified in the New Band ID field. The Stream ID in New Band Valid subfield isset to 0 otherwise.The LLT Type field is set to 1 to indicate that the stream-based Link Loss Countdown is used for the streamidentified by the Stream ID in Old Band subfield. The LLT Type field is set to 0 to indicate that the STA-based Link Loss Countdown is used for the stream identified by the Stream ID in Old Band subfield. Thisfield is reserved when the LLT field within the FST Setup Request or FST Setup Response frame containingthis element is set to 0.8.4.2.147 Session Transition element The Session Transition element is formatted as illustrated in Figure 8-401av.B0        B3B4B5         B8B9B10B11B12  B15Stream ID in Old BandStream ID in New BandStream ID in New Band ValidLLT TypeReservedTIDDirectionTIDDirectionBits:4141114Figure 8-401au  Switching parameters field forma


page 193
165The Element ID field is equal to the value for the Session Transition, specified in Table 8-54.The Length field is set to 11. The FSTS ID field contains the identification of the FST session established between a pair of STAs asallocated by the initiator (10.32). The Session Control field is defined in Figure 8-401aw.The Session Type field is defined as shown in Table 8-183q and indicates the type of connection/session thatis intended to be set up in the new band for this FST session.When the Session Type field is set to IBSS and the STA Role field within the Multi-band element is set toIBSS STA, the BSSID field within the Multi-band element contains the MAC address of the BSSID of theIBSS. This indicates that the transmitting STA is not associated with an AP on the band and channelindicated in the Multi-band element. The Switch Intent field is set to 1 to indicate that the FST Initiator that transmitted the FST Setup Requestframe intends to switch to the band/channel indicated within the Band ID field of the FST Setup Requestframe and in the Multi-band element, even if the FST transition does not succeed. Otherwise, this field is setto 0. This field is reserved when transmitted within an FST Setup Response frame. Element IDLengthFSTS IDSession ControlNew BandOld BandBand IDSetupOperationBand IDSetupOperationOctets:1141111111Figure 8-401av  Session Transition element formatB0                             B3B4B5          B7Session TypeSwitch IntentReservedBit:413Figure 8-401aw  Session Control field formatTable 8-183q  Session Type field formatValueSession type0Infrastructure BSS1IBSS2DLS3TDLS4PBSS5  255Reserve


page 194
NOTE  A STA that is operating in a band/channel is not required to be continuously in the Awake state onthat band/channel.8.4.2.148 Dynamic Tone Pairing (DTP) Report element The DTP Report element is included in the DTP Response frame. The format of the DTP Report element isshown in Table 8-183r.The Element ID field is equal to the value for the DTP Report, specified in Table 8-54.The Length field for this element indicates the length of the Information field.GroupPairIndex(n) subfields for n=0,1,..,NG-1(where NG=42) indicate DTP groups, which in turndetermines how pairs of SQPSK symbols are mapped to OFDM tones when DTP is enabled, as described in21.5.3.2.4.6.3. Valid values of GroupPairIndex(n) are in the range of 0 to NG-1. Furthermore valid values ofGroupPairIndex(0), GroupPairIndex(1),   , GroupPairIndex(NG-1) are distinct and therefore represent apermutation of integers 0 to NG-1. All numeric fields are encoded in unsigned binary, least significant bit first.8.4.2.149 Cluster Report element The format of the Cluster Report element is shown in Figure 8-401ax. The Cluster Report element isincluded in management action frames, such as the Announce and the Information Response frames,Table 8-183r  DTP Report element formatElement ID8 bitsLength8 bitsGroupPairIndex(0)6 bitsIndex of DTP group pair n in the range of 0 to NG-1, for n = 0,1,2,   ,NG-1 where NG=42GroupPairIndex(1)6 bits      GroupPairIndex(NG-1)6 bitsZero pad4 bitsZero padding to make the DTP Feedback element length a multiple of 8 bit


page 195
The ECPAC Policy Enforced subfield is defined in 8.3.4.1 and contains the ECPAC PolicyEnforced subfield received in the DMG Beacon frame that generated this report.Element IDLengthCluster Report ControlReported BSSIDReference TimestampClustering ControlOctets:1110 or 60 or 40 or 8ECPAC Policy ElementExtended Schedule ElementNumber of ConstraintsTraffic Scheduling Constraint (TSCONST)Octets:0, 13 or 170 or 17-n1VariableFigure 8-401ax  Cluster Report element formatB0B1B2B3B4B5B6      B7Cluster RequestCluster ReportSchedule PresentTSCONST PresentECPAC Policy EnforcedECPAC Policy PresentReservedBits:1111112Figure 8-401ay  Cluster Report Control field forma


page 196
The Traffic Scheduling Constraint (TSCONST) field is defined in 8.4.2.136 and specifies periods of timewith respect to the TBTT of the beacon interval of the BSS the STA participates where the STA experiencespoor channel conditions, such as due to interference.8.4.2.150 Relay Capabilities element A STA that intends to participate in relay operation (10.35) advertises its capabilities through the RelayCapabilities element. The Relay Capabilities element is defined in Figure 8-401az. The Relay Capabilitieselement is not used in an IBSS. The Element ID field is equal to the value for the Relay Capabilities, specified in Table 8-54.The Length field is set to 2. The Relay Capabilities Info field is defined in Figure 8-401ba. Element IDLengthRelay Capabilities InfoOctets:112Figure 8-401az  Relay capabilities element formatB0B1B2B3B4B5  B6B7B8     B15Relay SupportabilityRelay UsabilityRelay PermissionA/C PowerRelay PreferenceDuplexCooperationReservedBits:11111218Figure 8-401ba  Relay Capabilities Info field forma


page 197
The Cooperation field indicates whether a STA is capable of supporting Link cooperating. It is set to 1 if theSTA supports both Link cooperating type and Link switching type. It is set to 0 if a STA supports only Linkswitching or if the Duplex field is set to 1.8.4.2.151 Relay Transfer Parameter Set elementA source REDS that intends to transfer frames via an RDS advertises the parameters for the relay operationwith the transmission of a Relay Transfer Parameter Set element (10.35). The Relay Transfer Parameter Setelement is defined in Figure 8-401bb. The Element ID field is equal to the value for the Relay Transfer Parameter Set, specified in Table 8-54.The Length field is set to 8. The Relay Transfer Parameter field is defined in Figure 8-401bc.Element IDLengthRelay Transfer ParameterOctets:118Figure 8-401bb  Relay Transfer Parameter Set element formatB0B1B2B3      B7B8   B15B16  B23B24 B39B40 B55B56  B63Duplex-Mode Cooperation-ModeTx-ModeReservedLink Change IntervalData Sensing TimeFirst Period Second Period ReservedBits:11158816168Figure 8-401bc  Relay Transfer Parameter field forma


page 198
The Tx-Mode subfield value is set to 0 if a group of threeSTAs involved in the RLS operates in Normal mode and is set to 1 if the group operates in Alternationmode.The Link Change Interval subfield indicates when the link of frame transmission between source REDS anddestination REDS is changed. From the start position of one reserved contiguous SP, every time instant ofLink Change Interval can have an opportunity to change the link. Within one Link Change Interval, only onelink is used for frame transfer. The unit of this field is microseconds. This subfield is used only when thegroup involved in the RLS operates in link switching type.The Data Sensing Time subfield indicates the defer time offset from the time instant of the next Link ChangeInterval when the link switching occurs. By default, it is set to SIFS plus SBIFS. This subfield is used onlywhen the STAs involved in the RLS operate in link switching with Tx-Mode that is 0.The First Period subfield indicates the period of the source REDS-RDS link in which the source REDS andRDS exchange frames. This subfield is used only when HD-DF RDS operates in link switching type.The Second Period subfield indicates the period of the RDS-destination REDS link in which the RDS anddestination REDS exchange frames and the following period of the RDS-source REDS link in which theRDS informs the source REDS of finishing one frame transfer. This subfield is used only when HD-DF RDSoperates in link switching type.8.4.2.152 Quiet Period Request elementThe Quiet Period Request element defines a periodic sequence of quiet intervals that the requester APrequests the responder AP to schedule. The format of the Quiet Period Request element is shown in Figure8-401bd. The Element ID field is equal to the value for the Quiet Period Request, specified in Table 8-54.The Length field is set to 17. The Request Token field is set to a nonzero value chosen by the requester AP.Element IDLengthRequest TokenQuiet Period OffsetQuiet PeriodQuiet DurationRepetition CountTarget BSSIDOctets:11224216Figure 8-401bd  Quiet Period Request element forma


page 199
171The Quiet Period Offset field is set to the offset of the start of the first quiet interval from the QAB Requestframe that contains this element, expressed in TUs. The reference time is the start of the preamble of thePPDU that contains this element. The Quiet Period field is set to the spacing between the start of two consecutive quiet intervals, expressed inTUs.The Quiet Duration field is set to duration of the quiet time, expressed in TUs. The Repetition Count field is set to the number of requested quiet intervals.NOTE  The periodic sequence of quiet intervals ends after the start of preamble of the PPDU containingthe QAB IE + Quiet Period Offset + (Repetition Count-1)Quiet Period + Quiet Duration (in TUs).The Target BSSID field is set to the responder AP   s BSSID. 8.4.2.153 Quiet Period Response elementThe Quiet Period Response element defines the feedback information from the AP that received the QuietPeriod Request element. The format of the Quiet Period Response element is shown in Figure 8-401be.The Element ID field is equal to the value for the Quiet Period Response, specified in Table 8-54.The Length field is set to 10. The Request Token field value is copied from the corresponding received Quiet Period Request element.The BSSID field value is copied of the Target BSSID field of the corresponding received Quiet PeriodRequest element.The Status Code field is defined in 8.4.1.9.8.4.2.154 BeamLink Maintenance elementThe format of the BeamLink Maintenance element is shown in Figure 8-401bf. The BeamLink Maintenanceelement is included in management action frames, such as the Probe, Announce and the Information Requestand Response frames, transmitted between non-PCP/non-AP DMG STA and PCP/AP DMG STA. Theelement is included in the Probe and Information Request and Response frames transmitted between non-PCP/non-AP DMG STAs.The Element ID field is equal to the value for the BeamLink Maintenance, specified in Table 8-54.The Length field is set to 1. Element IDLengthRequest TokenBSSIDStatus CodeOctets:11262Figure 8-401be  Quiet Period Response element formatElement IDLengthBeamformed Link MaintenanceOctets:111Figure 8-401bf  BeamLink Maintenance element forma


page 200
Single AID field is one bit in length and is encoded as defined in Table 8-183t.Element IDLengthMMS ControlSTA MAC AddressInterface Address(es)Octets:11166    n (variable)Figure 8-401bg  MMS element formatB0                  B1B2B3B4B5        B7MMS Element OwnerSingle AIDMM-SME Power ModeBeamLink ClusterReservedBit:21113Figure 8-401bh  MMS Control field formatTable 8-183s  MMS Element Owner field definitionMMS Element Owner valueMeaningB0B100No Owner10Non-AP, Non-PCP MMS element  01PCP MMS element11AP MMS elemen


page 201
173The MM-SME Power Mode field is one bit in length and is set to 1 to indicate that when a STA advertised inthe MMS element sent by the STA coordinated by an MM-SME moves from the Awake to the Doze state,then all other STAs advertised in the MMS element sent by the STA move to the Doze state. The STAcoordinated by the MM-SME moves to the Awake state only when all STAs advertised in the MMS elementmove to the Awake state. The MM-SME Power Mode field is set to 0 to indicate that when a STA advertisedin the MMS element sent by the STA moves from the Doze to the Awake state, then all other STAsadvertised in the MMS element sent by the STA coordinated by the MM-SME move to the Awake state. TheSTA coordinated by the MM-SME moves to the Doze state only when all STAs advertised in the MMSelement move to the Doze state. The BeamLink Cluster field is one bit in length and is set to 1 if the DMG STA intends to maintain the samebeamformed link for all the links within the MMSL cluster. Otherwise, this field is set to 0. The STA MAC Address field contains the MAC address of the STA.When present in the element, the Interface Address(es) field contains one or more MAC addresses that canbe used to identify the STAs in addition to the STA MAC address, coordinated by the same MM-SME (see10.33). 8.4.2.156 Upper Layer Protocol Identification element The format of the Upper Layer Protocol Identification (U-PID) element is described in Figure 8-401bi. Thiselement can be included in any variant of the ADDTS Request and ADDTS Response frames.Table 8-183t  Single AID field definitionMMS element sent from MMS element sent toMMS Element OwnerSingle AIDMeaningB0B1B3Non-PCP, non-AP STAPCP/AP101Request to allocate single AID for MAC addresses included in the MMS element Non-PCP, non-AP STAPCP/AP100Do not allocate single AID for MAC addresses included in the MMS element PCP/AP STANon-PCP, non-AP STA101Single AID is allocated for all MAC addresses in the MMS element PCP/AP STANon-PCP, non-AP STA100Single AID is not allocated for all MAC addresses in the MMS element Non-PCP, non-AP STANon-PCP, non-AP STA101Single AID is allocated for all MAC addresses in the MMS elementNon-PCP, non-AP STANon-PCP, non-AP STA100Single AID is not allocated for all MAC addresses in the MMS elementPCP/AP STANon-PCP, non-AP STA011Single AID is allocated for all MAC addresses in the non-PCP, non-AP STA MMS element PCP/AP STANon-PCP, non-AP STA010Single AID is not allocated for all MAC addresses in the non-PCP, non-AP STA MMS elemen


page 202
The Element ID field is equal to the value for the Upper Layer Protocol Identification, specified in Table 8-54.The Length field for this element indicates the length of the Information field.The No-LLC field is set to 1 to indicate that MSDUs do not contain the LLC (Logical Link Control) header.It is set to 0 otherwise.The LLC Header Copy field is not present if the value of the No-LLC field is 0; otherwise, it contains a copyof the LLC header field values if the value of the No-LLC field is 1. When the field is present, the size of theLLC Header Copy field is specified in Table 8-183u. NOTE  The structure of the LLC header is defined in IEEE Std 802.2-1998. The structure of the LLC with SNAPextension is defined in IEEE Std 802.2-1998. 8.4.2.157 ECPAC Policy element The format of the ECPAC Policy element is shown in Figure 8-401bj. The Element ID field is equal to the value for the ECPAC Policy, specified in Table 8-54.The Length field for this element indicates the length of the Information field.The ECPAC Policy Detail field is defined in Figure 8-401bk.Element IDLengthNo-LLCLLC Header CopyOctets:111VariableFigure 8-401bi  Upper layer protocol identification (U-PID) element formatTable 8-183u  LLC Header Copy field sizeLLC header typeLLC Header Copy field size (octets)LLC header with 8-bit control field w/o SNAP3LLC header with 8-bit control field with SNAP8LLC header with 16-bit control field 4Element IDLengthECPAC Policy DetailCCSR IDAvailable Cluster Time Offset BitmapTXSS CBAP Offset (optional)TXSS CBAP Duration (optional)TXSS CBAP MaxMem (optional)Octets:11164211Figure 8-401bj  ECPAC Policy element forma


page 203
175The BHI Enforced field set to 1 indicates that a PCP/AP within a centralized PCP/AP cluster completes theBHI for the current beacon interval before TBTT + 8/1024  Beacon SP duration, as described in 9.34.3.4.The BHI Enforced field set to 0 indicates that a PCP/AP within a cluster does not have to complete the BHIfor the current beacon interval before TBTT + 8/1024  Beacon SP duration. The TXSS CBAP Enforced field set to 1 indicates that a STA within a centralized PCP/AP cluster performseach of its TXSSs in the DTI within one or more TXSS CBAPs, as described in 9.34.3.4. The TXSS CBAPEnforced field set to 0 indicates that a STA within a centralized PCP/AP cluster does not have to performeach of its TXSSs in the DTI within one or more TXSS CBAPs.The Protected Period Enforced field indicates that every scheduled SP in the BSS is a DMG ProtectedPeriod as specified in 9.33.6.6. The Protected Period Enforced field set to 0 indicates that a scheduled SP inthe BSS does not have to be a DMG Protected Period.The CCSR ID field is set to the MAC address of the CCSR within the ECPAC that the PCP/AP belongs to.The PCP/AP is the transmitter of the frame containing the ECPAC Policy element except when the ECPACPolicy element is transmitted in a Cluster Report element, where the PCP/AP is the transmitter that triggeredthe Cluster Report. The Available Time Cluster Offset Bitmap field is a bitmap where the bit n-1, n = 1 to 32, indicates theavailability of the nth Beacon SP. Values of n = 1 and greater than ClusterMaxMem are reserved (i.e., bit 0and bits ClusterMaxMem+1 to 31 inclusive). Bit n-1 set to 0 indicates that ClusterTimeOffsetn-1 isdetermined to be already in use by a neighboring PCP/AP, excluding the recipient if sent within anindividually addressed frame, in the ECPAC. Bit n-1 set to 1 indicates that ClusterTimeOffsetn-1 is notdetermined to be already in use by a neighboring PCP/AP, excluding the recipient if sent within anindividually addressed frame, in the ECPAC. If TXSS CBAP Enforced field is set to 0, then the TXSS CBAP Offset field, the TXSS CBAP Durationfield, and the TXSS CBAP MaxMem field are not present in the element; otherwise, they are present in theelement.The TXSS CBAP Offset field is the delay of the first TXSS CBAP in a beacon interval from the TBTT, inunits of 8   s.The TXSS CBAP Duration field indicates the duration, in units of 8   s, of each TXSS CBAP, in units of8  s.The TXSS CBAP MaxMem field is the number of TXSS CBAPs per beacon interval.8.4.2.158 Cluster Time Offset element The format of the Cluster Time Offset element is shown in Figure 8-401bl.B0B1B2B3      B7BHI Enforced TXSS CBAP EnforcedProtected Period EnforcedReservedBits:1115Figure 8-401bk  ECPAC Policy Detail field forma


page 204
The Tap 1 field indicates the taps for Sequence Generator 1.The State 1 field indicates the state for Sequence Generator 1.The Tap 2 field indicates the taps for Sequence Generator 2.The State 2 field indicates the state for Sequence Generator 2.Sequence Generator 1 is shown in Figure 8-401bn and is defined as follows:  Generate the sector IDs for subsequent DMG Beacons by advancing the Sequence Generator 1,which is initialized using Tap 1 and State 1 contained in the Antenna Sector ID Pattern elementreceived from the PCP/AP.  Advance the Sequence Generator 1 by one shift for each anticipated DMG Beacon transmissionthereafter.  After advancing the Sequence Generator 1, if the next state equals the initial state for the secondtime, overwrite the state with an all-zero state. The next state following the state following all zero-state uses the first 6 bits of the state of Sequence Generator 2 as the initial state.   If the STA   s total number of transmit sectors is not equal to the period of the Sequence Generator 1,ignore state(s) greater than or equal total number of transmit sectors and continue advancingSequence Generator 1 until the state is less than the total number of transmit sectors. NOTE  The taps are selected from the set of sequences with maximal length property.Element IDLengthCluster Time Offset IndexOctets:111Figure 8-401bl  Cluster Time Offset element formatB0       B7B8      B15B16  B19B20       B25B26      B31B32       B39B40      B47Element IDLengthTypeTap 1State 1Tap 2State 2Bits:8846688Figure 8-401bm  Antenna Sector ID Pattern element forma


page 205
177Sequence Generator 2 is shown in Figure 8-401bo and is defined as follows:  Sequence Generator 2 is initiated with the value of the Tap 2 and State 2 fields contained in theAntenna Sector ID Pattern element received from the PCP/AP.  Sequence Generator 2 is advanced by one shift when a new initial state is needed from SequenceGenerator 1.NOTE  The taps are selected from the set of the sequences with maximal length property.Insert the following subclauses, 8.4a to 8.4a.6 (including Figure 8-431a to Figure 8-431h, Table 8-190a,and Table 8-190b), after 8.4.4.19:8.4a Fields used in Management and Extension frame bodies and Control frames8.4a.1 Sector Sweep fieldThe format of the sector sweep (SSW) field is shown in Figure8-431a.B0B1          B9B10       B15B16                B17B18           B23DirectionCDOWNSector IDDMG Antenna IDRXSS LengthBits:19626Figure 8-431a  SSW field format Figure 8-401bn  Sequence Generator 1 Figure 8-401bo  Sequence Generator 


page 206
NOTE  In a CBAP, a transmitting STA with multiple DMG antennas might not know the capabilities of the receivingSTA; hence the size of the RXSS Length field is defined to cover for a single DMG antenna of the receiving STA. 8.4a.2 Dynamic Allocation Info fieldThe format of the Dynamic Allocation Info field is shown in Figure8-431b.The TID field identifies the TC or TS for the allocation request or grant.NOTE  Unlike pseudo-static allocations, nonpseudo-static allocations are not labeled with an Allocation ID, and areassociated to a TID.The AllocationType field is defined in 8.4.2.134. The Source AID field identifies the STA that is the source of the allocation. The Destination AID field identifies the STA that is the destination of the allocation. When the Dynamic Allocation Info field is transmitted within an SPR frame, the Allocation Duration fieldcontains the requested duration in microseconds. When the Dynamic Allocation Info field is transmittedwithin a Grant frame, the Allocation Duration field contains the granted duration of the SP or CBAPallocation in microseconds (see 9.33.7, 9.33.8, and 9.33.9). Possible values range from 0 to 32 767 for an SPallocation and 0 to 65 535 for a CBAP allocation. A value of 0 in the Allocation Duration field transmittedwithin a Grant frame means that the STA can transmit one PPDU followed by any relevant acknowledgmentplus one RTS/DMG CTS handshake. B0   B3B4               B6B7            B14B15              B22B23                 B38B39TIDAllocationTypeSource AIDDestination AIDAllocation DurationReservedBits:4388161Figure 8-431b  Dynamic Allocation Info field forma


page 207
1798.4a.3 Sector Sweep Feedback fieldWhen the SSW Feedback field is transmitted as part of an ISS, the format of the field is as shown inFigure8-431c. Otherwise, the format of the SSW Feedback field is as shown in Figure8-431d. The Total Sectors in ISS field indicates the total number of sectors that the initiator uses in the ISS,including any repetition performed as part of multi-antenna beamforming. Possible values range from 0 to511, representing 1 to 512 sectors.The Number of RX DMG Antennas subfield indicates the number of receive DMG antennas the initiatoruses during the following RSS.The Sector Select field contains the value of the Sector ID subfield of the SSW field within the frame thatwas received with best quality in the immediately preceding sector sweep. The determination of whichpacket was received with best quality is implementation dependent. Possible values of this field range from0 to 63.The DMG Antenna Select field indicates the value of the DMG Antenna ID subfield of the SSW field withinthe frame that was received with best quality in the immediately preceding sector sweep. The determinationof which frame was received with best quality is implementation dependent.The SNR Report field is set to the value of the SNR from the frame that was received with bestqualityduring the immediately preceding sector sweep, and which is indicated in the sector select field. Thisfield is encoded as 8-bit twos complement value of 4  (SNR-19), where SNR is measured in dB. This coversfrom   13 dB to 50.75 dB in 0.25 dB steps. The Poll Required field is set to 1 by a non-PCP/non-AP STA to indicate that it requires the PCP/AP toinitiate communication with the non-PCP/non-AP. This field is set to 0 to indicate that the non-PCP/non-APhas no preference about whether the PCP/AP initiates the communication. This field is reserved whentransmitted by a PCP/AP. 8.4a.4 BRP Request fieldThe BRP Request field is defined in Figure8-431e.B0                     B8B9                     B10B11                   B15B16B17         B23Total Sectors in ISSNumber of RX DMG AntennasReservedPoll RequiredReservedBits:92517Figure 8-431c  SSW Feedback field format when transmitted as part of an ISSB0                     B5B6               B7B8             B15B16B17           B23Sector SelectDMG Antenna SelectSNR ReportPoll RequiredReservedBits:62817Figure 8-431d  SSW Feedback field format when not transmitted as part of an IS


page 208
If the field is set to 0, the transmitting STA does not needreceiver training as part of beam refinement. If the MID-REQ field is set to 1, the L-RX field indicates thecompressed number of AWV settings that the STA uses during the MID phase. To obtain the number ofAWVs that is used, the value of the L-RX field is multiplied by 4.The TX-TRN-REQ field is set to 1 to indicate that the STA needs transmit training as part of beamrefinement. Otherwise, it is set to 0. A STA sets the MID-REQ field to 1 in SSW-Feedback or BRP frames to indicate a request for an I/R-MIDsubphase; otherwise, the STA sets the field to 0 to indicate it is not requesting an I/R-MID subphase. In casean R-MID subphase is requested, the STA can include information on the TX sector IDs to be used by theSTA receiving this request. The STA receiving this request sets the MID-grant field in SSW-ACK or BRPframes to 1 to grant this request or otherwise sets it to 0. A STA sets the BC-REQ field to 1 in SSW-Feedback or BRP frames to indicate a request for an I/R-BCsubphase; otherwise, the STA sets the field to 0 to indicate it is not requesting an I/R-BC subphase. In casean R-BC subphase is requested, the STA can include information on the TX sector IDs to be used by theSTA receiving this request. The STA receiving this request sets the BC-grant field in SSW-ACK or BRPframes to 1 to grant this request; otherwise, the STA sets it to 0 to reject the request. The Chan-FBCK-CAP field is set to 1 to indicate the STA is capable to return channel measurement duringbeam refinement. The Chan-FBCK-CAP field is set to 0 to indicate the STA is able to return only BS-FBCKduring beam refinement. The TX sector ID field indicates the Sector ID that is used when transmitting the packet. If the packet istransmitted using a pattern that is not a sector that has been used in the sector sweep, the value of this field isset to 0x63. The Other_AID field is set to the AID of an additional STA referenced in the BRP procedure as described in9.35.6.4.4 and 21.10.2.2.6. Otherwise, if the additional STA is not used, this field is set to 0. The TX Antenna ID field indicates the DMG antenna ID that is used when transmitting the packet. 8.4a.5 Beamforming Control fieldThe Beamforming Control field is formatted as shown in Figure8-431f when both the IsInitiatorTXSS andIsResponderTXSS subfields are equal to 1, and the Beamforming Control field is transmitted in either aGrant or Grant ACK frames. In all other cases, the Beamforming Control field is formatted as shown inFigure8-431g. B0  B4B5B6B7B8B9B10B11 B16B17    B24B25  B26B27  B31L-RXTX-TRN-REQMID-REQBC-REQMID-GrantBC-GrantChan-FBCK-CAPTX Sector IDOther_AIDTX Antenna IDReservedBits:51111116825Figure 8-431e  BRP Request field forma


page 209
The RXSSTxRatesubfield is set to 0 to indicate that all frames transmitted as part of the RXSS use the DMG Controlmodulation class (9.7.5a.1). The RXSSTxRate subfield is set to 1 to indicate that only the first frametransmitted as part of the RXSS use the DMG Control modulation class and the remaining frames use MCS1 of the DMG SC modulation class. If both IsInitiatorTXSS and IsResponderTXSS are set to 0 and the BFControl field is sent within a Grant frame, the RXSSTxRate subfield refers to the RSS only. If bothIsInitiatorTXSS and IsResponderTXSS are set to 0 and the BF Control field is sent within a Grant ACKframe, the RXSSTxRate subfield refers to the ISS only.When the BF Control field is transmitted in a Grant frame, the Total Number of Sectors subfield indicatesthe total number of sectors the initiator uses during the ISS. When the BF Control field is transmitted in aGrant ACK frame, the Total Number of Sectors subfield indicates the total number of sectors the responderuses during the RSS.B0B1B2B3-B9B10-B11B12-B15Beamforming TrainingIsInitiatorTXSSIsResponderTXSSTotal Number of SectorsNumber of RX DMG AntennasReservedBit:111724Figure 8-431f  BF Control field format when both IsInitiatorTXSS and IsResponderTXSS subfields are equal to 1 and the BF Control field is transmitted in Grant or Grant ACK framesB0B1B2B3             B8B9B10  B15Beamforming TrainingIsInitiatorTXSSIsResponderTXSSRXSS LengthRXSSTxRateReservedBit:111616Figure 8-431g  BF Control field format in all other case


page 210
When the BF Control field is transmitted in a Grant frame, the Number of RX DMG Antennas subfieldindicates the number of receive DMG antennas the initiator uses during the RSS. When the BF Control fieldis transmitted in a Grant ACK frame, the Number of RX DMG Antennas subfield indicates the number ofreceive DMG antennas the responder uses during the ISS.8.4a.6 Beamformed Link Maintenance fieldThe Beamformed Link Maintenance field is shown in Figure8-431h and provides the DMG STA with thevalue of dot11BeamLinkMaintenanceTime.The encoding of the BeamLink Maintenance Unit Index field is specified in Table8-190a.If the content of the BeamLink Maintenance value field is greater than 0, it is used to calculate the value ofdot11BeamLinkMaintenanceTime as follows: dot11BeamLinkMaintenanceTime = BLMU    BLMVwhereBLMU is the value of the BeamLink Maintenance Unit corresponding to the value of the BeamLinkMaintenance Unit Index field (see Table8-190a)BLMV is the value of the BeamLink Maintenance Value fieldOtherwise, if the value of the BeamLink Maintenance value field is 0, the dot11BeamLinkMaintenanceTimeis left undefined. An undefined value of the dot11BeamLinkMaintenanceTime indicates that the STA doesnot participate in beamformed link maintenance.The BeamLink isMaster field is set to 1 to indicate that the DMG STA is the master of the data transfer andset to 0 if the DMG STA is a slave of the data transfer. The DMG STAs use the BeamLink isMaster field tonegotiate the dot11BeamLinkMaintenanceTime as specified in Table8-190b.NOTE  In Table8-190b, DMG STA-A and DMG STA-B refer to any of the STAs performing the Beamformed LinkMaintenance negotiation procedure in no particular order.B0B1                                     B6B7BeamLink Maintenance Unit IndexBeamLink Maintenance ValueBeamLink isMasterBits:161Figure 8-431h  Beamformed Link Maintenance field formatTable 8-190a  Encoding of BeamLink Maintenance Unit IndexBeamLink Maintenance Unit IndexBeamLink Maintenance Unit (us)0321200


page 211
1838.5 Action frame format details8.5.3 QoS Action frame details8.5.3.1 GeneralInsert the following paragraph (including Table 8-192a and Table 8-192b) at the end of 8.5.3.1:Two variants are defined for the ADDTS frames: a Basic ADDTS frame variant and a DMG ADDTS framevariant. These variants use different TSPEC formats. The variant of the frame is indicated by the Element IDin the fourth field of the ADDTS Request frame Action field format (Table 8-193) and sixth field of theADDTS Response frame Action field format (Table 8-194). The Element ID is the first octet of each ofthese fields. The encoding of the ADDTS frame variants is shown in Table8-192a and Table8-192b. Change the title of 8.5.3.2 as follows:8.5.3.2 Basic and DMG ADDTS Request frame formatsInsert the following subclause title immediately after the title of 8.5.3.2:8.5.3.2.1 Basic ADDTS Request frame variantTable 8-190b  The Beamformed Link Maintenance negotiationBeamLink isMaster (DMG STA-A)BeamLink isMaster (DMG STA-B)dot11BeamLinkMaintenanceTime (DMG STA-A) vs. dot11BeamLinkMaintenanceTime (DMG STA-B)Result00>=dot11BeamLinkMaintenanceTime (DMG STA-A)10>, <, =dot11BeamLinkMaintenanceTime (DMG STA-A)11=dot11BeamLinkMaintenanceTime (DMG STA-A)11If either value equals 0UndefinedTable 8-192a  Encoding of the ADDTS Request frame variantElement ID of fourth field of ADDTS Request frameADDTS Request frame variant13 (TSPEC)Basic ADDTS Request frame146 (DMG TSPEC)DMG ADDTS Request frameTable 8-192b  Encoding of the ADDTS Response frame variantElement ID of sixth field of ADDTS Response frameADDTS Response frame variant13 (TSPEC)Basic ADDTS Response frame146 (DMG TSPEC)DMG ADDTS Response fram


page 212
Change the title of Table 8-193, and insert the new rows at the end of the table:Change the sixth paragraph of now 8.5.3.2.1 as follows:The TSPEC element, defined in 8.4.2.32, and the optional TCLAS element, defined in 8.4.2.33, contain theQoS parameters that define the TS. The TS is identified by the TSID and Direction fields within the TSPECelement. The TCLAS element is optional at the discretion of the STA that sends the ADDTS Request frame,regardless of the setting of the access policy (EDCA, SPCA, or HCCA). There may be one or more TCLASelements in the ADDTS frame. The TCLAS Processing element is present when there are more than oneTCLAS element and is defined in 8.4.2.35. There may be one Expedited Bandwidth Request element, whichis defined in 8.4.2.96. Insert the following paragraphs at the end of now 8.5.3.2.1:When present in an ADDTS Request frame, the Multi-band element indicates the frequency band, operatingclass, and channel number to which the ADDTS Request frame applies and contains band-specificinformation.When present in the ADDTS Request frame, the Upper Layer Protocol Identification (U-PID) elementindicates the upper layer protocol associated with the TID/TSID specified within the TSPEC elementcontained in this frame. If a TSPEC element is not present in the frame, the U-PID element is not included inthe frame. When present in the ADDTS Request frame, the Multiple MAC Sublayers element is used to establish anMMSL cluster. Insert the following subclause, 8.5.3.2.2 (including Table 8-193a), after 8.5.3.2.1:8.5.3.2.2 DMG ADDTS Request frame variantThe DMG ADDTS Request frame is used by DMG STAs in a PBSS and in an infrastructure BSS. The framebody of the DMG ADDTS Request frame contains the information shown in Table8-193a. Table 8-193  Basic ADDTS Request frame variant Action field formatOrder InformationNotesn+6Multi-bandOptionaln+7Upper Layer Protocol IdentificationOptionaln+8Multiple MAC SublayersOptionalTable 8-193a  DMG ADDTS Request frame variant Action field formatOrderInformationNotes1Category2Action3Dialog Toke


page 213
185The Dialog Token, DMG TSPEC, TSPEC, TCLAS, and TCLAS Processing fields of this frame arecontained in an MLME-ADDTS.request primitive that causes the frame to be sent. The DMG TSPEC element contains the parameters that define an allocation. The allocation uniquelyidentified by the source DMG STA MAC Address, Allocation ID, and destination AID within the DMGTSPEC element. The optional TSPEC element defines a TS that can use the allocation should the allocation be createdsuccessfully.The TCLAS element is optional and can be present only when a TSPEC element is present; it is used toidentify the destination non-PCP/non-AP DMG STA of the ADDTS Request frame. There can be one ormore TCLAS elements in the DMG ADDTS Request frame. The TCLAS Processing element is present ifthere is more than one TCLAS element. When present in a DMG ADDTS Request frame, the Multi-band element indicates the frequency band,operating class, and channel number to which the TS identified by the optional TSPEC element applies.When present in the DMG ADDTS Request frame, the Upper Layer Protocol Identification (U-PID)element indicates the upper layer protocol associated with the TS identified by the optional TSPEC elementcontained in this frame.When present in the DMG ADDTS Request frame, the Multiple MAC Sublayers element is used to establishan MMSL cluster. Change the title of 8.5.3.3 as follows:8.5.3.3 Basic and DMG ADDTS Response frame formatInsert the following subclause title immediately after the title of 8.5.3.3:8.5.3.3.1 Basic ADDTS Response frame variant4DMG TSPEC5TSPECOptional6  nTCLASOptionaln+1TCLAS ProcessingOptionaln+2Multi-bandOptionaln+3Upper Layer Protocol IdentificationOptionaln+4Multiple MAC SublayersOptionaln+5Higher Layer Stream IDOptionalTable 8-193a  DMG ADDTS Request frame variant Action field format  (continued)OrderInformationNote


page 214
Change the title of Table 8-194, and insert the new rows at the end of the table:Insert the following paragraphs at the end of now 8.5.3.3.1:When present in an ADDTS Response frame, the Multi-band element indicates the frequency band,operating class, and channel number to which the ADDTS Response frame applies and contains band-specific information.When present in the ADDTS Response frame, the Upper Layer Protocol Identification (U-PID) elementindicates the upper layer protocol associated with the TID/TSID specified within the TSPEC contained inthis frame. If a TSPEC element is not present in the frame, the U-PID element is not included in the frame. When present in the ADDTS Response frame, the Multiple MAC Sublayers element is used to establish anMMSL cluster (see 10.33).Insert the following subclause, 8.5.3.3.2 (including Table 8-194a), after 8.5.3.3.1:8.5.3.3.2 DMG ADDTS Response frame variantThe DMG ADDTS Response frame is used by DMG STAs in a PBSS and in an infrastructure BSS. Theframe body of the DMG ADDTS Response contains the information shown in Table8-194a. Table 8-194  Basic ADDTS Response frame variant Action field formatOrder InformationNotesn+5Multi-bandOptionaln+6Upper Layer Protocol IdentificationOptionaln+7Multiple MAC SublayersOptionalTable 8-194a  DMG ADDTS Response frame variant Action field formatOrderInformationNotes1Category2Action3Dialog Token4Status code5TS Delay6DMG TSPEC 7TSPECOptional8  nTCLASOptionaln+1TCLAS ProcessingOptionaln+2Multi-bandOptiona


page 215
187The Dialog Token, TS Delay, DMG TSPEC, and optional TCLAS, TCLAS Processing, Multi-band, and U-PID fields in this frame are contained in an MLME-ADDTS.response primitive that causes the frame to besent. The TS Delay element is present in a DMG ADDTS Response frame only if the status code is set toREJECTED_FOR_DELAY_PERIOD (8.4.1.9). When present in a DMG ADDTS Response frame, the Multi-band element indicates the frequency band,operating class, and channel number to which the TS identified by the optional TSPEC element applies.When present in the DMG ADDTS Response frame, the Upper Layer Protocol Identification (U-PID)element indicates the upper layer protocol associated with the TS identified by the optional TSPECcontained in this frame.When present in the DMG ADDTS Response frame, the Multiple MAC Sublayers element is used toestablish an MMSL cluster (see 10.33).8.5.3.4 DELTS frame formatChange the first paragraph of 8.5.3.4 as follows:The DELTS frame is used to delete a TS or an allocation using the procedures defined in 10.4.9.Change Table 8-195 as indicated below:Change the fifth paragraph in 8.5.3.4 as follows:The TS Info field is defined in 8.4.2.32. Either the field identifies an existing TS created using the TSPECelement, or all its subfields are set to 0. The DMG Allocation Info field, defined in 8.4.2.136, is presentwhen an existing DMG allocation is being deleted. When a DMG allocation is being deleted, the DMGn+3Upper Layer Protocol IdentificationOptionaln+4Multiple MAC SublayersOptionaln+5Higher Layer Stream IDOptionalTable 8-195  DELTS frame Action field formatOrderInformation1Category2QoS Action 3TS Info4Reason code5DMG Allocation Info (optional)6Multi-band (optional)Table 8-194a  DMG ADDTS Response frame variant Action field format  (continued)OrderInformationNote


page 216
Allocation Info field identifies an existing allocation created using the DMG TSPEC element. When a DMGallocation is not being deleted, all subfields in the DMG Allocation Info field are set to 0.Change the seventh paragraph in 8.5.3.4, and insert a new eighth paragraph as follows:A DELTS frame is used to delete a TS characterized by the TS Info field or to delete a DMG allocationidentified by the DMG Allocation Info field in the frame. A DELTS frame may can be sent from the HC orPCP to the source STA of that TS, or vice versa, to indicate an imperative request to which no response isrequired from the recipient STA.When present in an DELTS frame, the Multi-band element indicates the frequency band, operating class,and channel number to which the DELTS frame applies.8.5.5 Block Ack Action frame details8.5.5.2 ADDBA Request frame formatInsert the following rows at the end of Table 8-203: Insert the following paragraphs at the end of 8.5.5.2: When present in an ADDBA Request frame, the Multi-band element indicates the frequency band, operatingclass, and channel number to which the ADDBA Request frame applies and contains band-specificinformation.The ADDBA Extension element is defined in 8.4.2.141.8.5.5.3 ADDBA Response frame formatInsert the following rows at the end of Table 8-204: Table 8-203  ADDBA Request frame Action field formatOrderInformation8Multi-band (optional)9TCLAS (optional)10ADDBA Extension (optional)Table 8-204  ADDBA Response frame Action field formatOrderInformation8Multi-band (optional)9TCLAS (optional)10ADDBA Extension (optional


page 217
189Insert the following paragraphs at the end of 8.5.5.3: When present in an ADDBA Response frame, the Multi-band element indicates the frequency band ID,operating class, and channel number to which the ADDBA Response frame applies and contains band-specific information.The ADDBA Extension element is defined in 8.4.2.141.8.5.5.4 DELBA frame formatInsert the following rows at the end of Table 8-205:Insert the following paragraph at the end of 8.5.5.4:When present in an DELBA frame, the Multi-band element indicates the frequency band, operating class,and channel number to which the DELBA Request frame applies.8.5.7 Radio Measurement action details8.5.7.5 Link Measurement Report frame formatInsert the following rows into Table 8-208 in numeric order:Insert the following paragraph after the eleventh paragraph (   The Subelement ID field    .   ) in 8.5.7.5:The DMG Link Margin (8.4.2.144) and the DMG Link Adaptation Acknowledgment (8.4.2.145)subelements are present in the Optional Subelements field if the link measurements are performed with theDMG PHY (Clause 21) as defined in 9.37.Table 8-205  DELBA frame Action field formatOrderInformation6Multi-band (optional)7TCLAS (optional)Table 8-208  Optional Subelement IDs for Link Measurement Report frameSubelement IDNameLength field (octets)Extensible162DMG Link Margin8172 DMG Link Adaptation Acknowledgment 5Extensibl


page 218
8.5.8 Public Action details8.5.8.1 Public Action framesInsert the following rows into Table 8-210 in numeric order, and update the Reserved row accordingly:8.5.8.12 GAS Initial Request frame formatChange Table 8-216 as follows:Insert the following paragraph at the end of 8.5.8.12:When present in a GAS Initial Request frame, the Multi-band element indicates the frequency band,operating class, and channel number to which the GAS Initial Request frame applies.Table 8-210  Public Action field valuesPublic Action field valueDescription16QAB Request frame17QAB Response frameTable 8-216  GAS Initial Request frame body formatOrderInformation0Category1Action2Dialog Token3Advertisement Protocol element4Query Request Length5Query Request6Multi-band (optional


page 219
1918.5.8.13 GAS Initial Response frame formatChange Table 8-217 as follows:Insert the following paragraph at the end of 8.5.8.13:When present in a GAS Initial Response frame, the Multi-band element indicates the frequency band,operating class, and channel number to which the GAS Initial Response frame applies.8.5.8.14 GAS Comeback Request frame formatChange Table 8-218 as follows:Insert the following paragraph at the end of 8.5.8.14:When present in a GAS Comeback Request frame, the Multi-band element indicates the frequency band,operating class, and channel number to which the GAS Comeback Request frame applies.Table 8-217  GAS Initial Response frame body formatOrderInformation0Category1Action2Dialog Token3Status Code4GAS Comeback Delay5Advertisement Protocol element6Query Response Length7Query Response (optional)8Multi-band (optional)Table 8-218  GAS Comeback Request frame body formatOrderInformation0Category1Action2Dialog Token3Multi-band (optional


page 220
8.5.8.15 GAS Comeback Response frame formatChange Table 8-219 as follows:Insert the following paragraph at the end of 8.5.8.15:When present in a GAS Comeback Response frame, the Multi-band element indicates the frequency band,operating class, and channel number to which the GAS Comeback Response frame applies.8.5.8.16 TDLS Discovery Response frame formatInsert the following row at the end of Table 8-220:Insert the following subclauses, 8.5.8.25 and 8.5.8.26 (including Table 8-221d and Table 8-221e), after8.5.8.24:8.5.8.25 QAB Request frame formatThe QAB Request Action frame is transmitted by an AP to another AP to schedule quiet periods thatfacilitate the detection of other system operating in the same band. The format of the QAB Request frameAction field is shown in Table8-221d.Table 8-219  GAS Comeback Response frame body formatOrderInformation0Category1Action2Dialog Token3Status Code4GAS Query Response Fragment ID5GAS Comeback Delay6Advertisement Protocol element7Query Response Length8Query Response (optional)9Multi-band (optional)Table 8-220  Information for TDLS Discovery Response frameOrderInformationNotes16Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true


page 221
193The Category field is set to the value indicating the Public category, as specified in Table8-38. The Action field is set to the value indicating QAB Request frame, as specified in 8.5.8.1.The Dialog Token field is set to a nonzero value chosen by the AP.The RequesterAP Address field is the MAC address of the AP that initiates the process. The length of thisfield is 6 octets. The ResponderAP Address field is the MAC address of the responding AP. The length of this field is6octets. This field can be set to the broadcast address if the request is sent to multiple APs. The Quiet Period Request element is defined in 8.4.2.152.8.5.8.26 QAB Response frame formatA QAB Response frame is sent in response to a QAB Request frame. The format of a QAB Response frameAction field contains the information shown in Table8-221e.The Category field is set to the value indicating the Public category, as specified in Table8-38. The Action field is set to the value indicating QAB Response frame, as specified in 8.5.8.1.Table 8-221d  QAB Request frame Action field formatOrderInformation1Category2Action3Dialog Token4RequesterAP Address5ResponderAP Address6Quiet Period Request elementTable 8-221e  QAB Response frame Action field formatOrderInformation1Category2Action3Dialog Token4RequesterAP Address5ResponderAP Address6Quiet Period Response elemen


page 222
The Dialog Token field value is copied from the corresponding received QAB Request frame.The RequesterAP Address field is the MAC address of the AP that initiates the process. The length of thisfield is 6 octets. The ResponderAP Address field is the MAC address of the responding AP. The length of this field is 6octets. The Quiet Period Response element is defined in 8.4.2.153.8.5.11 Protected Dual of Public Action framesInsert the following rows into Table 8-228 in numeric order, and update the Reserved row accordingly:8.5.13 TDLS Action field formats8.5.13.2 TDLS Setup Request Action field formatInsert the following row at the end of Table 8-239: 8.5.13.3 TDLS Setup Response Action field formatInsert the following row at the end of Table 8-240:Table 8-228  Public Action field values defined for Protected Dual of Public Action framesPublic Action field valueDescription16QAB Request17QAB ResponseTable 8-239  Information for TDLS Setup Request Action fieldOrderInformationNotes18Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true.Table 8-240  Information for TDLS Setup Response Action fieldOrderInformationNotes19Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true


page 223
1958.5.13.12 TDLS Discovery Request Action field formatInsert the following row at the end of Table 8-249:8.5.19 Robust AV Streaming Action frame detailsInsert the following subclauses, 8.5.20 to 8.5.22.3 (including Figure 8-502f to Figure 8-502j and Table 8-281b to Table 8-281ag), after 8.5.19.5:8.5.20 DMG Action frame details8.5.20.1 DMG Action fieldSeveral Action frame formats are defined to support DMG features. A DMG Action field, in the octetimmediately after the Category field, differentiates the DMG Action frame formats. The DMG Action fieldvalues associated with each frame format within the DMG category are defined in Table8-281b. Table 8-249  Information for TDLS Discovery Request Action fieldOrderInformationNotes5Multi-bandThe Multi-band element is optionally present if dot11MultibandImplemented is true.Table 8-281b  DMG Action field valuesDMG Action field valueMeaning0Power Save Configuration Request1Power Save Configuration Response2Information Request3Information Response4Handover Request 5Handover Response 6DTP Request7DTP Response8Relay Search Request9Relay Search Response10Multi-Relay Channel Measurement Request11Multi-Relay Channel Measurement Report12RLS Request 13RLS Response14RLS Announcement15RLS Teardow


page 224
The Wakeup Schedule is defined in 8.4.2.133 (10.2.5.2).8.5.20.3 Power Save Configuration Response frame formatThe format of the Power Save Configuration Response (PSC-RSP) frame Action field is shown in Table8-281d. 16Relay ACK Request17Relay ACK Response18TPA Request19TPA Response20TPA Report21ROC Request22ROC ResponseTable 8-281c  Power Save Configuration Request frame Action field formatOrderInformation1Category2DMG Action3Dialog Token4DMG Power Management5Wakeup Schedule element (optional)Table 8-281b  DMG Action field values  (continued)DMG Action field valueMeanin


page 225
197The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to Power Save Configuration Response specified inTable8-281b. The Dialog Token field is set to the Dialog Token value in the corresponding PSC-REQ frame. The Status Code field is defined in 8.4.1.9.The Wakeup Schedule is defined in 8.4.2.133.The Antenna Sector ID Pattern is defined in 8.4.2.159.8.5.20.4 Information Request frame formatThe Information Request frame is an Action frame of category DMG. The format of an Information Requestframe Action field is shown in Table8-281e.Table 8-281d  Power Save Configuration Response frame Action field formatOrderInformation1Category2DMG Action3Dialog Token4Status Code5Wakeup Schedule element (optional)6Antenna Sector ID Pattern element (optional)Table 8-281e  Information Request frame Action field formatOrder Information1Category2DMG Action3Subject Address4Request information5DMG Capabilities 1 (optional)      N+4DMG Capabilities N (optional)N+5IE Provided 1 (optional)      4+N+MIE Provided M (optional)LastVendor specifi


page 226
The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value for Information Request, specified in Table8-281b.The Subject Address field contains the MAC address of the STA whose information is being requested. Ifthis frame is sent to the PCP and the value of the Subject Address field is the broadcast address, then theSTA is requesting information regarding all associated STAs.The Request element field is described in 8.4.2.13.The DMG Capabilities element carries information about the transmitter STA and other STAs known to thetransmitter STA. The format of this element is defined in 8.4.2.130.Each IE Provided field contains an element as specified in 8.4.2, that the transmitter of this frame isproviding to the destination of the frame.One or more vendor-specific elements can appear in this frame. These elements follow all other elements. 8.5.20.5 Information Response frame formatThe Information Response frame is an Action frame of category DMG. The format of an InformationResponse frame Action field is shown in Table8-281f. This frame is individually addressed to a STA in response to an Information Request or it is sent unsolicitedand individually addressed to a STA or broadcast to all STAs in the PBSS/infrastructure BSS. If this frameis sent as a broadcast, then this frame is an Action No Ack frame. The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value for Information Response, specified in Table8-281b.Table 8-281f  Information Response frame Action field formatOrder Information1Category2DMG Action3Subject Address 4DMG Capabilities 1      N+3DMG Capabilities N (optional)N+4Request informationN+5IE Provided 1 (optional)      4+N+MIE Provided M (optional)LastVendor specifi


page 227
Handover Remaining BI is 1 octet in length and indicates the number of beacon intervals, excluding thebeacon interval in which this frame is transmitted, remaining until the handover takes effect. 8.5.20.7 Handover Response frame formatThe Handover Response frame is an Action frame of category DMG. The format of the Handover Responseframe Action field is shown in Table8-281h.Table 8-281g  Handover Request frame Action field formatOrderInformation1Category2DMG Action3Handover Reason4Handover Remaining B


page 228
The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value for Handover Response, specified in Table8-281b.Handover Result is 1 octet in length and indicates whether the STA accepted the handover request. A valueof 0 indicates that the STA accepts the handover request. A value of 1 indicates that the STA does not acceptthe handover request. If the Handover Result field is set to 0, the Handover Reject Reason field is reserved and set to 0. If theHandover Result field is set to 1, the Handover Reject Reason indicates the reason the STA rejected thehandover request and can be one of the following: 0 for low power, 1 for handover in progress with anotherSTA, 2 for invalid value for Handover Remaining BI field, and 3 for unspecified reason. The length ofHandover Reject Reason field is 1 octet.8.5.20.8 DTP Request frame formatThe DTP Request frame is transmitted to request DTP information. The format of the DTP Request frameAction field is shown in Figure8-502f.The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value representing a DTP Request frame, specified in Table8-281b.The Dialog Token field is set to a nonzero value chosen by the STA sending the request to identify thetransaction.8.5.20.9 DTP Report frame formatThe DTP Report frame is transmitted in response to a DTP Request frame. A DTP Report frame can also besent unsolicited. The format of the DTP Report frame Action field is shown in Figure8-502g.Table 8-281h  Handover Response frame Action field formatOrderInformation1Category2DMG Action3Handover Result4Handover Reject ReasonCategoryDMG ActionDialog TokenOctets:111Figure 8-502f  DTP Request frame Action field formatCategoryDMG ActionDialog TokenDTP ReportOctets:11134Figure 8-502g  DTP Report frame Action field forma


page 229
201The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value representing a DTP Report frame, specified in Table8-281b.The Dialog Token field is set to the Dialog Token value in the corresponding DTP Request frame. If theDTP Report frame is not being transmitted in response to a DTP Request frame, the Dialog Token is set to 0.The DTP Report element is defined in 8.4.2.148.8.5.20.10 Relay Search Request frame formatThe Relay Search Request frame is transmitted by a non-PCP/non-AP STA to the PCP/AP to request a list ofRDSs in the BSS. The format of the Relay Search Request frame Action field is shown in Table8-281i.The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to Relay Search Request, specified in Table8-281b.The Dialog Token field is set to a nonzero value chosen by the STA sending the Relay Search Request frameto identify the request/response transaction. The Destination REDS AID field is set to the AID of the target destination REDS.8.5.20.11 Relay Search Response frame formatThe Relay Search Response frame is sent by a PCP/AP in response to a Relay Search Request frame. Theformat of a Relay Search Response frame Action field is shown in Table8-281j.Table 8-281i  Relay Search Request frame Action field formatOrderInformation1 Category2DMG Action3Dialog Token4Destination REDS AIDTable 8-281j  Relay Search Response frame Action field formatOrderInformation1Category2DMG Action3Dialog Token4Status Code5Relay Capable STA 1 Inf


page 230
The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to Relay Search Response, specified in Table8-281b.The Dialog Token field is set to the value in the corresponding Relay Search Request frame that generatedthis response. The Status Code field is defined in 8.4.1.9.The Relay Capable STA Info field is defined in 8.4.1.44. This information is included only if the status codeindicates successful. 8.5.20.12 Multi-relay Channel Measurement Request frame formatThe Multi-Relay Channel Measurement Request frame is transmitted by a STA initiating relay operation tothe recipient STA in order to obtain Channel Measurements between the recipient STA and the other STAparticipating in the relay operation. The format of the Multi-Relay Channel Measurement Request frameAction field is shown in Table8-281k.The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to Multi-Relay Channel Measurement Request,specified in Table8-281b.The Dialog Token field is set to a nonzero value chosen by the STA sending the Multi-Relay ChannelMeasurement Request frame to identify the request/report transaction. 8.5.20.13 Multi-relay Channel Measurement Report frame formatThe Multi-Relay Channel Measurement Report frame is sent in response to a Multi-Relay ChannelMeasurement Request. The format of the Multi-Relay Channel Measurement Report frame Action field isshown in Table8-281l.      N+4Relay Capable STA N InfoTable 8-281k  Multi-relay Channel Measurement Request frame Action field formatOrderInformation1 Category2DMG Action3Dialog TokenTable 8-281j  Relay Search Response frame Action field format  (continued)OrderInformatio


page 231
203The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to Multi-Relay Channel Measurement Report,specified in Table8-281b.The Dialog Token field is set to the value in any corresponding Multi-Relay Channel Measurement Requestframe. If the Multi-Relay Channel Measurement Report frame is not being transmitted in response to aMulti-Relay Channel Measurement Request frame, then the Dialog token is set to 0. The format of the Channel Measurement Info field is defined in Figure8-502h. Multiple ChannelMeasurement Info fields can be included in case that the reporting STA measures the channel for multipleRDSs.The Peer STA AID subfield contains the AID of the STA toward which the reporting STA measures link.The SNR subfield indicates the SNR measured in the link toward the STA corresponding to Peer STA AID.This field is encoded as 8-bit twos complement value of 4x(SNR-19), where SNR is measured in dB. Thiscovers from   13 dB to 50.75 dB in 0.25 dB steps. The Internal Angle subfield indicates the angle between directions toward the other STAs involved in therelay operation. This covers from 0 degree to 180 degree in 2 degree steps. This subfield uses the degree ofthe direction from the sector that the feedbacks indicates has highest quality during TXSS if SLS phase ofBF is performed and RXSS is not included. The Recommend subfield indicates whether the responding STA recommends the relay operation based onthe channel measurement with the Peer STA. This subfield is set to 1 when the relay operation isrecommended and otherwise is set to 0.8.5.20.14 RLS Request frame formatThe RLS Request frame is used to set up a relay link. The format of the RLS Request frame Action field isshown in Table8-281m.Table 8-281l  Multi-relay Channel Measurement Report frame Action field formatOrderInformation1 Category2DMG Action3Dialog Token4Channel Measurement Info 1      N+3Channel Measurement Info NB0                          B7B8         B15B16         B22B23B24          B31Peer STA AIDSNRInternal AngleRecommendReservedBits:88718Figure 8-502h  Channel Measurement Info field forma


page 232
The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to RLS Request, specified in Table8-281b.The Dialog Token field is set to a nonzero value chosen by the STA sending the RLS Request frame toidentify the request/response transaction. The Destination AID field value is the AID of the target destination.The Relay AID field value is the AID of the selected RDS.The Source AID field value is the AID of the initiating STA.The Destination Capability Information field indicates the Relay capabilities info field within the Relaycapabilities element of the target  destination REDS as defined in 8.4.2.150. The Relay Capability Information field indicates the Relay capabilities info field within the Relaycapabilities element of the selected RDS as defined in 8.4.2.150.The Source Capability Information field indicates the Relay capabilities info field within the Relaycapabilities element of the originator of the request as defined in 8.4.2.150.The Relay Transfer Parameter Set element is defined in 8.4.2.151.8.5.20.15 RLS Response frame formatThe RLS Response frame is sent in response to an RLS Request frame. The format of an RLS Responseframe Action field is shown in Table8-281n.Table 8-281m  RLS Request frame Action field formatOrderInformation1 Category2DMG Action3Dialog Token4Destination AID5Relay AID6Source AID7Destination Capability Information8Relay Capability Information9Source Capability Information10Relay Transfer Parameter Se


page 233
205The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to RLS Response, specified in Table8-281b.The Dialog Token field is set to the value in any corresponding RLS Request frame. The Destination Status Code field is included when the destination REDS transmits this RLS Responseframe as a result of RLS Request. It is defined in 8.4.1.9.The Relay Status Code field is included when the relay REDS transmits this RLS Response frame as a resultof RLS Request. It is defined in 8.4.1.9.8.5.20.16 RLS Announcement frame formatThe RLS Announcement frame is sent to announce the successful RLS. The format of an RLSAnnouncement frame Action field is shown in Table8-281o.The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to RLS Announcement, specified in Table8-281b.The Status Code field is defined in 8.4.1.9.The Destination AID field value is the AID of the target destination.Table 8-281n  RLS Response frame Action field formatOrderInformation1 Category2DMG Action3Dialog Token4Destination Status Code5Relay Status Code (optional)Table 8-281o  RLS Announcement frame Action field formatOrderInformation1 Category2DMG Action3Status Code4Destination AID5Relay AID6Source AI


page 234
The Relay AID field value is the AID of the RDS.The Source AID field value is the AID of the initiating STA.8.5.20.17 RLS Teardown frame formatThe RLS Teardown frame is sent to terminate a relay operation. The format of the RLS Teardown frameAction field is shown in Table8-281p.The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to RLS Teardown, specified in Table8-281b.The Destination AID field value is the AID of the destination REDS.The Relay AID field value is the AID of the RDS.The Source AID field value is the AID of the source REDS.The Reason Code field is defined in 8.4.1.7.8.5.20.18 Relay ACK Request frame formatThe Relay ACK Request frame is sent by a source REDS to an RDS participating in a relay operation inorder to determine whether all frames forwarded through the RDS were successfully received by thedestination REDS also participating in the relay operation. This frame is used only when the RDS isoperated in HD-DF mode and relay operation is link switching type. The format of the Relay ACK Requestframe Action field is shown in Table8-281q.Table 8-281p  RLS Teardown frame Action field formatOrderInformation1 Category2DMG Action3Destination AID4Relay AID5Source AID6Reason CodeTable 8-281q  Relay ACK Request frame Action field formatOrderInformation1Category2DMG Actio


page 235
207The Category field is set to the category for DMG, specified in Table8-38. The DMG Action field is set to the value corresponding to Relay ACK Request, specified in Table8-281b.The BAR Control field and BlockAck Starting Sequence Control fields are defined in 8.3.1.8.8.5.20.19 Relay ACK Response frame formatThe Relay ACK Response frame is sent by an RDS to a source REDS participating in a relay operation inorder to report which frames have been received by the destination REDS also participating in the relayoperation. This frame is used only when the RDS is operated in HD-DF mode and relay operation is linkswitching type. The format of the Relay ACK Response frame Action field is shown in Table8-281r.The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to Relay ACK Response, specified in Table8-281b.The BA Control field is defined in 8.3.1.9.The BlockAck Starting Sequence Control field is defined in 8.3.1.9 and is set to the corresponding valuewithin the immediately previously received Relay ACK Request frame.The BlockAck Bitmap field is defined in 8.3.1.9.8.5.20.20 TPA Request frame formatThe TPA Request frame is sent by a destination REDS participating in operation based on link cooperatingtype to both the RDS and source REDS that belong to the same group as the destination REDS in order forthem to send back their own TPA Response frames at the separately pre-defined times. Also, a source REDSsends a TPA Request frame to the RDS that is selected by the source REDS in order for the RDS to feedbackits own TPA Response frame at the pre-defined time. 3BAR Control 4BlockAck Starting Sequence Control Table 8-281r  Relay ACK Response frame Action field formatOrder Information1Category2DMG Action3BA Control 4BlockAck Starting Sequence Control 5BlockAck Bitmap Table 8-281q  Relay ACK Request frame Action field format  (continued)OrderInformatio


page 236
The format of the TPA Request frame Action field is shown in Table8-281s.The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to TPA Request, specified in Table8-281b.The Dialog Token field is set to a nonzero value chosen by the STA sending the TPA Request frame toidentify the request/response transaction. The Timing Offset is 2 octets in length and indicates the amount of time, in nanoseconds, that the STAidentified in the RA of the frame is required to change the timing offset of its transmissions so that theyarrive at the expected time at the transmitting STA. The Sampling Frequency Offset is 2 octets in length and indicates the amount by which to change thesampling frequency offset of the burst transmission so that bursts arrive at the destination DMG STA withno sampling frequency offset. The unit is 0.01 ppm. The Sampling Frequency Offset field is reserved whenset to 0. 8.5.20.21 TPA Response frame formatThe TPA Response frame is sent by an RDS or a source REDS participating in relay operation in response toa TPA Request frame from a destination REDS or a source REDS. The RDS or the source REDS thatreceives a TPA Request frame responds to the destination REDS or the source REDS, as appropriate, with aTPA Response frame at a pre-determined time from the end of the TPA Request frame (see 10.35). Theformat of the TPA Response frame Action field is shown in Table8-281t. Table 8-281s  TPA Request frame Action field formatOrder Information1Category2DMG Action3Dialog Token4Timing Offset5Sampling Frequency OffsetTable 8-281t  TPA Response frame Action field formatOrder Information1Category2DMG Action3Dialog Toke


page 237
209The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to TPA Response, specified in Table8-281b.The Dialog Token field is set to the value received in the corresponding TPA Request frame that generatedthis response.8.5.20.22 TPA Report frame formatThe TPA Report frame is sent to announce whether a TPA procedure is successful. The format of the TPAReport frame Action field is shown in Table8-281u.The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to TPA Report, specified in Table8-281b.The Status Code field indicates the result of the current TPA procedure and is defined in 8.4.1.9. 8.5.20.23 ROC Request frame formatThe ROC Request frame is sent by the source REDS participating in a relay operation in order to request achange in the current relay operation type. The format of the ROC Request frame Action field is shown inTable8-281v.The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to ROC Request, specified in Table8-281b.The Dialog Token field is set to a nonzero value chosen by the STA sending the ROC Request frame toidentify the request/response transaction. Table 8-281u  TPA Report frame Action field formatOrderInformation1 Category2DMG Action3Status codeTable 8-281v  ROC Request frame Action field formatOrder Information1Category2DMG Action3Dialog Token4Relay Operation Typ


page 238
8.5.20.24 ROC Response frame formatThe ROC Response frame is sent by the RDS or the destination DMG STA participating in a relay operationin response to a ROC Request frame from the source DMG STA. The format of the ROC Response frameAction field is shown in Table8-281w.The Category field is set to the category for DMG, specified in Table8-38.The DMG Action field is set to the value corresponding to ROC Response, specified in Table8-281b.The Dialog Token field is set to the value received in the corresponding ROC Request frame that generatedthis response. The Status Code field is defined in 8.4.1.9. 8.5.21 FST Action frame details8.5.21.1 FST Action fieldThe FST Action field values are defined in Table8-281x.B0B1B2                        B7Link CooperatingRelay-linkReservedBits:116Figure 8-502i  Relay Operation Type field formatTable 8-281w  ROC Response frame Action field formatOrderInformation1Category2DMG Action3Dialog Token4Status Cod


page 239
2118.5.21.2 FST Setup Request frame formatThe FST Setup Request frame is an Action frame of category FST. The FST Setup Request frame allows aninitiating STA to announce to a peer STA whether the initiating STA intends to enable FST for the sessionbetween the initiating STA and the peer STA (10.32). The format of the FST Setup Request frame Actionfield is shown in Table8-281y. The Category field is set to the category for FST.The FST Action field is set to the value for FST Setup Request.The Dialog Token field is set to a nonzero value chosen by the STA.Table 8-281x  FST Action field valuesFST Action field valueMeaning0FST Setup Request1FST Setup Response2FST Tear Down3FST Ack Request 4FST Ack Response 5On-channel Tunnel RequestTable 8-281y  FST Setup Request frame Action field formatOrder Information1Category2FST Action3Dialog Token4LLT5Session Transition6Multi-band (optional)7Wakeup Schedule (optional) 8Awake Window (optional) 9Switching Stream (optional)Last    nOne or more elements can appear in this frame (see 10.32). These elements follow all other elements that are not vendor-specific elements and precede all other elements that are vendor-specific elements that are part of the Last field in the Action frame. An element can be included only once in the frame.LastVendor Specific (optional


page 240
The Link loss timeout (LLT) field is 32 bits and indicates the compressed maximum duration counted fromthe last time an MPDU was received by the initiating STA from the peer STA until the initiating STAdecides to initiate FST. The use of this field is described in 10.32. The Session Transition field contains the Session Transition element as defined in 8.4.2.147. The Multi-band field contains the Multi-Band element as defined in 8.4.2.140. The regulatory informationcontained in the Multi-band element is applicable to all the fields and elements contained in the frame.The Wakeup Schedule element is defined in 8.4.2.133.The Awake Window element is defined in 8.4.2.139.The Switching Stream element is defined in 8.4.2.146.8.5.21.3 FST Setup Response frame formatThe FST Setup Response frame is an Action frame of category FST. This frame is transmitted in response tothe reception of an FST Setup Request frame. The format of the frame Action field is shown in Table8-281z.The Category field is set to the category for FST.Table 8-281z  FST Setup Response frame Action field formatOrder InformationNotes1Category2FST Action3Dialog Token4Status CodeThe Status Code is defined in 8.4.1.95Session Transition 6Multi-band (optional)7Wakeup Schedule (optional) 8Awake Window (optional) 9Switching Stream (optional)10Timeout Interval (optional) Last    nOne or more elements can appear in this frame (see 10.32). These elements follow all other elements that are not vendor-specific elements and precede all other elements that are vendor-specific elements that are part of the Last field in the Action frame. An element can be included only once in the frame. LastVendor Specific One or more vendor-specific elements are optionally present. These elements follow all other elements


page 241
213The FST Action field is set to the value for FST Setup Response.The Dialog Token field value is copied from the corresponding received FST Setup Request frame.The Session Transition field contains the Session Transition element as defined in 8.4.2.147. The Multi-band element is defined in 8.4.2.140.The Wakeup Schedule element is defined in 8.4.2.133.The Awake Window element is defined in 8.4.2.139The Switching Stream element is defined in 8.4.2.146.The Timeout Interval element is defined in 8.4.2.51.8.5.21.4 FST Tear Down frame formatThe FST Tear Down frame is an Action frame of category FST. This frame is transmitted to delete anestablished FST session between STAs. The format of the frame Action field is shown in Table8-281aa. The Category field is set to the category for FST.The FST Action field is set to the value for FST teardown.The FSTS ID field contains the identification of the FST session established between the STAs identified bythe TA and RA fields of this frame (8.4.2.147).8.5.21.5 FST Ack Request frame formatThe FST Ack Request frame is an Action frame of category FST. This frame is transmitted in the frequencyband an FST session is transferred to and confirms the FST session transfer. The format of the frame Actionfield is shown in Table8-281ab.Table 8-281aa  FST Tear Down frame Action field formatOrder Information1Category2FST Action3FSTS ID Table 8-281ab  FST Ack Request frame Action field formatOrder Information1Category2FST Actio


page 242
The Category field is set to the category for FST.The FST Action field is set to the value for FST Ack Request.The Dialog Token field is set to a nonzero value chosen by the STA sending the FST ACK request toidentify the request/report transaction. The FSTS ID field contains the identification of the FST session established between the STAs identified bythe TA and RA fields of this frame (8.4.2.147).8.5.21.6 FST Ack Response frame formatThe FST Ack Response frame is an Action frame of category FST. This frame is transmitted in response tothe reception of an FST Ack Request frame. The format of the frame Action field is shown in Table8-281ac.The Category field is set to the category for FST.The FST Action field is set to the value for FST Ack Response.The Dialog Token field is set to the value in any corresponding FST Ack Request frame. If the FST AckResponse frame is not being transmitted in response to an FST Ack Request frame, then the Dialog token isset to 0. The FSTS ID field contains the identification of the FST session established between the STAs identified inthe TA and RA fields of this frame (8.4.2.147).8.5.21.7 On-channel Tunnel Request frame formatThe On-channel Tunnel Request frame is an Action frame of category FST. The On-channel Tunnel Requestframe allows a STA of a multi-band device to encapsulate an MMPDU for transmission to an MLME of apeer STA within the same multi-band device (10.32), which can be used to perform multi-band associationand multi-band authentication. 3Dialog Token4FSTS IDTable 8-281ac  FST Ack Response frame Action field formatOrder Information1Category2FST Action3Dialog Token4FSTS IDTable 8-281ab  FST Ack Request frame Action field format  (continued)Order Informatio


page 243
215The format of the On-channel Tunnel Request frame Action field is shown in Table8-281ad.The Category field is set to the category for FST.The FST Action field is set to the value for On-channel Tunnel Request.The OCT MMPDU field is defined in Figure8-502j.The MMPDU Length field contains the length in octets of the MMPDU Frame Body field.The MMPDU Frame Control field carries the content of the Frame Control field of an MMPDU that wouldbe constructed if the MMPDU for the corresponding management frame type were transmitted over the air.The MMPDU Frame Body field carries the content of the Frame Body field of an MMPDU that would beconstructed if the MMPDU for the corresponding management frame type were transmitted over the air (i.e.,all the octets after the MAC header and up to, but not including, the FCS).The Multi-band field contains the Multi-band element (see 8.4.2.140) of the peer MLME to which the OCTMMPDU is destined to. The channel, frequency band and MAC address contained in this element are usedto deliver the OCT MMPDU to the correct MLME within the peer STA.8.5.22 Unprotected DMG Action frame details8.5.22.1 Unprotected DMG Action fieldUnprotected DMG Action frames are not encapsulated using mechanisms defined for robust managementframes. An Action field, in the octet field immediately after the Category field, differentiates the formats.The Action field values associated with each frame format are defined in Table8-281ae.Table 8-281ad  On-channel Tunnel Request frame Action field formatOrder Information1Category2FST Action3OCT MMPDU4Multi-bandMMPDU LengthMMPDU Frame ControlMMPDU Frame BodyOctets:22VariableFigure 8-502j  Definition of OCT MMPD


page 244
8.5.22.2 Announce frame formatThe Announce frame is an Action or an Action No Ack frame of category Unprotected DMG. The format ofan Announce frame Action field is shown in Table8-281af. Announce frames can be transmitted during the ATI of a beacon interval and can perform functionsincluding of a DMG Beacon frame, but since this frame does not have to be transmitted as a sector sweep toa STA, it can provide much more spectrally efficient access than using a DMG Beacon frame. The Category field is set to the category for Unprotected DMG, specified in Table8-38.The Unprotected DMG Action field is set to the value corresponding to Announce specified in Table8-281ae. Table 8-281ae  Unprotected DMG Action field valuesUnprotected DMG Action field valueMeaning0Announce1BRPTable 8-281af  Announce frame Action field formatOrder Information1Category2Unprotected DMG Action3Timestamp4Beacon Interval5SSID (optional)6Extended Schedule (optional)7DMG Capabilities (optional) 8RSN (optional)9Multiple BSSID (optional)10DMG Operation (optional)11Next DMG ATI (optional)12Multi-band (optional)Last    nMultiple elements can appear in this frame. These elements follow all other elements that are not vendor-specific elements and precede all other elements that are vendor-specific elements. LastVendor Specific (optional


page 245
217Any number of elements can be included within an Announce frame.8.5.22.3 BRP frame formatThe BRP frame is an Action No Ack frame. The format of a BRP frame Action field is shown in Table8-281ag. The Category field is set to the category for Unprotected DMG, specified in Table8-38.The Unprotected DMG Action field is set to the value corresponding to BRP, specified in Table8-281ae. The Dialog Token field is set to a value chosen by the STA sending the frame to uniquely identify thetransaction.The BRP Request field is defined in 8.4a.4.The DMG Beam Refinement element is defined in 8.4.2.132. The Channel Measurement Feedback element is defined in 8.4.2.138.The BRP frame contains more than one Channel Measurement Feedback element if the measurementinformation exceeds 255 bytes. The content of each Channel Measurement Feedback element that followsthe first one in a single BRP frame is a continuation of the content in the previous element. The ChannelMeasurement, Tap Delay, and Sector ID Order subfields can be split between several elements. EachChannel Measurement Feedback element that is not the last Channel Measurement Feedback element in theframe is 257 bytes long. Channel measurement information for a single channel measurement is alwayscontained within a single BRP frame. NOTE  The length of a BRP frame can limit the choice of channel measurement parameters such as the number ofmeasurements and the number of taps.Table 8-281ag  BRP frame Action field formatOrderInformation1Category2Unprotected DMG Action3Dialog Token4BRP Request field5DMG Beam Refinement element6Channel Measurement Feedback element 1 (optional)      6+N-1Channel Measurement Feedback element N (optional


page 246
8.6 Aggregate MPDU (A-MPDU)8.6.1 A-MPDU formatChange the second, third, and fourth paragraphs in 8.6.1 as follows:The structure of the A-MPDU subframe is shown in Figure 8-504. Each A-MPDU subframe consists of anMPDU delimiter followed by an MPDU. Except when an A-MPDU subframe is the last one in an A-MPDU,padding octets are appended to make each A-MPDU subframe a multiple of 4 octets in length. The A-MPDU maximum length for a non-DMG STA is 65 535 octets. The A-MPDU maximum length for a DMGSTA is 262 143 octets. The length of an A-MPDU addressed to a particular STA may be further constrainedas described in 9.12.2.Figure 8-504 remains unchanged.The MPDU delimiter is 4 octets in length. The structure of the MPDU delimiter when transmitted by a non-DMG STA is defined in Figure 8-505. The structure of the MPDU Delimiter field when transmitted by aDMG STA is shown in Figure8-505a.Change the title of Figure 8-505 as follows:Figure 8-505  MPDU delimiter (non-DMG)Insert the following figure, Figure 8-505a, after Figure 8-505:The fields of the MPDU delimiter when transmitted by a non-DMG STA are defined in Table 8-282. Thefields of the MPDU delimiter when transmitted by a DMG STA are defined in Table8-282a.Change the title of Table 8-282 as follows:Table 8-282  MPDU delimiter fields (non-DMG)Insert the following table, Table 8-282a, after Table 8-282:B0      B2B3                            B15B16                B23B24                  B31ReservedMPDU LengthCRCDelimiter SignatureBits:31388Figure 8-505a  MPDU delimiter (DMG)Table 8-282a  MPDU delimiter fields (DMG)MPDU Delimiter fieldSize (bits)DescriptionReserved3MPDU length13Length of MPDU in octetsCRC88-bit CRC on preceding 16 bitsDelimiter Signature8Pattern that can be used to detect an MPDU delimiter when scanning for a delimiter. The unique pattern is set to the value 0x4E


page 247
2198.6.3 A-MPDU contentsChange Table 8-284 as follows:Table 8-284  A-MPDU contents in the data enabled immediate response contextMPDU descriptionConditionsACK MPDUIf the preceding PPDU contains an MPDU that requires an ACK response, a single ACK MPDU at the start of the A-MPDU.In a non-DMG STA: aAt most one of these MPDUs is present.In a DMG STA: at most one ACK MPDU is present, and zero or more HT-immediate BlockAck MPDUs are present. HT-immediate BlockAckIn a non-DMG STA: Iif the preceding PPDU contains an implicit or explicit Block Ack request for a TID for which an HT-immediate Block Ack agreement exists, at most one BlockAck for this TID, in which case it occurs at the start of the A-MPDU.In a DMG STA: if the preceding PPDU contains an implicit or explicit Block Ack request for a TID for which an HT-immediate Block Ack agreement exists, one or more copies of the same BlockAck for this TID.Delayed BlockAcksBlockAck frames with the BA Ack Policy subfield equal to No Acknowledgment with a TID for which an HT-delayed Block Ack agreement exists.Delayed Block Ack dataQoS Data MPDUs with a TID that corresponds to a Delayed or HT-delayed Block Ack agreement.These have the Ack Policy field equal to Block Ack.Action No AckManagement frames of subtype Action No Ack.Delayed BlockAckReqsBlockAckReq MPDUs with a TID that corresponds to an HT-delayed Block Ack agreement in which the BA Ack Policy subfield is equal to No Acknowledgment.Data MPDUs sent under an HT-immediate Block Ack agreementQoS Data MPDUs with the same TID, which corresponds to an HT-immediate Block Ack agreement, or in a DMG BSS QoS Null MPDUs with Ack Policy set to No Acknowledgment.These MPDUs all have the Ack Policy field equal to the same value, which is either Implicit Block Ack Request or Block Ack.Of these, at most one of the following is present:  QoS Null MPDU (in DMG BSS only) with Ack Policy set to No Acknowledgment  One or more QoS Data MPDUs with the Ack Policy field equal to Implicit Block Ack Request  BlockAckReqImmediate BlockAckReqAt most one BlockAckReq frame with a TID that corresponds to an HT-immediate Block Ack agreement.This is the last MPDU in the A-MPDU. It is not present if any QoS data frames for that TID are present


page 248
Change Table 8-287 as follows:Table 8-287  A-MPDU contents MPDUs in the control response contextMPDUConditionsACKACK transmitted in response to an MPDU that requires an ACK.Only one of these is present at the start of the A-MPDU.BlockAckBlockAck with a TID that corresponds to an HT-immediate Block Ack agreement.Action No AckManagement frames of subtype Action No Ack +HTC carrying a Management Action Body containing an explicit feedback response or BRP frame


page 249
2219. MAC sublayer functional description9.2  MAC architecture9.2.1 GeneralChange 9.2.1 (including Figure 9-1) as follows:A representation of tThe MAC architecture is shown in Figure 9-1. in which the PCF and HCF services areprovided using When operating with any of the Clause 14 through Clause 20 PHYs, the MAC provides theHCF, including the PCF, through the services of the DCF. Note that in a non-Qos STA, HCF is not present.In a non-DMG QoS STA implementation, both DCF and HCF are present. In a non-DMG non-QoS STAimplementation, only DCF is present. PCF is optional in all non-DMG STAs. Due to the distributed nature of the MBSS, only the MCF is present in a mesh STA.When operating with a DMG PHY (Clause 21), the MAC provides services using the DMG channel accessmechanisms. Specific rules apply for access during scheduled periods, which include the associationbeamforming training (A-BFT) period, announcement transmission interval (ATI), contention-based accessperiod (CBAP), and service period (SP). The DCF is used during contention-based access periods. Dynamicallocation (9.33.7) is built on service period and contention-based access period. Point Coordination Function (PCF)HCF Contention Access (EDCA)Distributed Coordination Function (DCF)FHSS, IR, DSSS, OFDM, HR/DSSS, ERP, or HT PHYDMG Channel AccessDMG PHYMACextentATI AccessCBAP Access (HCF Contention Access)SP AccessA-BFT AccessRequired for Prioritized QoS ServicesRequired for Contention-Free Services for non-QoS STA, optional otherwiseRequired for Parameterized QoS ServicesUsed for Contention Services, basis for PCF and HCFUsed for beamforming with the PCP/APUsed for Contention ServicesUsed for Scheduled ServicesUsed for Dynamic Allocation ServicesDynamic AllocationDCFUsed for non-data servicesHCF Controlled Access (HCCA)Non-DMG STAMCF Controlled Access (MCCA)Hybrid Coordination Function (HCF)Required for Controlled MeshServicesMesh Coordination Function (MCF)DMG STAFigure 9-1  MAC architectur


page 250
9.2.2 DCFChange 9.2.2 as follows:The fundamental access method of the IEEE 802.11 MAC used by non-DMG STAs is a DCF known ascarrier sense multiple access with collision avoidance (CSMA/CA). The DCF shall be implemented in allSTAs.For a STA to transmit, it shall sense the medium to determine if another STA is transmitting. If the mediumis not determined to be busy (see 9.3.2.1), the transmission may proceed. The CSMA/CA distributedalgorithm mandates that a gap of a minimum specified duration exist between contiguous frame sequences.A transmitting STA shall ensure that the medium is idle for this required duration before attempting totransmit. If the medium is determined to be busy, the non-DMG STA shall defer until the end of the currenttransmission, and a DMG STA may defer until the end of the current transmission. After deferral, or prior toattempting to transmit again immediately after a successful transmission, the STA shall select a randombackoff interval and shall decrement the backoff interval counter while the medium is idle. A transmission issuccessful either when an ACK frame is received from the STA addressed by the RA field of the transmittedframe or when a frame with a group address in the RA field is transmitted completely. A refinement of themethod may be used under various circumstances to further minimize collisions  here the transmitting andreceiving STAs exchange short control frames (RTS and CTS frames for non-DMG STAs and RTS andDMG CTS frames for DMG STAs) after determining that the medium is idle and after any deferrals orbackoffs, prior to data transmission. The details of CSMA/CA, deferrals, and backoffs are described in 9.3.RTS/CTS and RTS/DMG CTS exchanges are also presented in 9.3. 9.2.4 Hybrid coordination function (HCF) 9.2.4.2 HCF contention-based channel access (EDCA)Insert the following note after Table 9-1 (UP-to-AC mappings):NOTE  A DMG STA that implements a single AC (see 9.19.2.1) has all of its UP values in Table 9-1 mapped toAC_BE. Change the sixth paragraph of 9.2.4.2 as indicated below:The AP and PCP may use a different set of EDCA parameters from what it advertises to the STAs in itsBSS.9.2.7 Fragmentation/defragmentation overviewInsert the following paragraphs at the end of 9.2.7:A QoS Data MPDU with a TID matching an existing BA agreement may be transmitted outside an A-MPDU with its Ack Policy subfield set to Normal Ack. Transmission of fragmented MPDUs by a DMG STA outside of an A-MPDU depends on setting of the No-Fragmentation field in the ADDBA Extension element within the ADDBA Response frame transmittedduring the BA agreement handshake. The MSDU shall not be fragmented if the No-Fragmentation field inthe ADDBA Extension element within the ADDBA Response frame transmitted during the BA agreementhandshake is 1. If the No-Fragmentation field in the ADDBA Extension element within the ADDBAResponse frame is 0, the originator may send fragmented nonaggregated MSDU with Normal ACK policyunder BA agreement


page 251
2239.3 DCF9.3.1 GeneralInsert the following paragraphs after the second paragraph (   The CSMA/CA protocol is    .   ) of 9.3.1:The DCF is modified for use by DMG STAs to allow sharing of the medium between compatible DMGPHYs (see 9.3.4). A DMG STA has no direct knowledge of when it might interfere (collide with thetransmission of) another STA. The CS function of a DMG STA might not indicate the medium busy condition due to the predominantnature of directional transmissions and receptions. The transmission of a STA might interfere (collide) withthe transmission of another STA even though the CS function at the first STA does not indicate mediumbusy. The interference (collision) is identified when the expected response frame is not received. SPSH isachieved by the proper combination of the STA antenna configuration during the media access and datatransfer phases. Change the now twelfth paragraph in 9.3.1 as follows:All STAs that are members of a BSS are able to receive and transmit at all the data rates in theBSSBasicRateSet parameter of the MLME-START.request primitive or BSSBasicRateSet parameter of theBSSDescription representing the SelectedBSS parameter of the MLME-JOIN.request primitive; see6.3.4.2.4 and 6.3.11.2.4. All HT STAs and DMG STAs that are members of a BSS are able to receive andtransmit using all the MCSs in the BSSBasicMCSSet parameter of the MLME-START.request primitive orBSSBasicMCSSet parameter of the BSSDescription representing the SelectedBSS parameter of the MLME-JOIN.request primitive; see 6.3.4.2.4 and 6.3.11.2.4. To support the proper operation of the RTS/CTS bynon-DMG STAs, RTS/DMG CTS by DMG STAs, and the virtual CS mechanism, all non-DMG STAs shallbe able to interpret control frames with the Subtype field set to RTS or CTS, and all DMG STAs shall beable to interpret control frames with the Subtype field set to RTS or DMG CTS. Insert the following paragraph at the end of 9.3.1:While in the WAKE state and operating under DCF but not transmitting, a DMG STA can configure itsreceive antenna to a quasi-omni pattern in order to receive frames transmitted by any STA that is covered bythis antenna pattern. 9.3.2 Procedures common to the DCF and EDCAF9.3.2.1 CS mechanismChange the third and fourth paragraphs of 9.3.2.1 as follows:A virtual CS mechanism shall be provided by the MAC. This mechanism is referred to as the NAV. TheNAV maintains a prediction of future traffic on the medium based on duration information that is announcedin RTS/CTS frames by non-DMG STAs and RTS/DMG CTS frames by DMG STAs prior to the actualexchange of data. The duration information is also available in the MAC headers of all frames sent duringthe CP, other than PS-Poll frames, and during the BTI, the A-BFT, the ATI, the CBAP, and the SP. Themechanism for setting the NAV using RTS/CTS or RTS/DMG CTS in the DCF is described in 9.3.2.4, useof the NAV in PCF is described in 9.4.3.3, and the use of the NAV in HCF is described in 9.19.2.2 and9.19.3.4. Additional details regarding NAV usage and update appear in 9.3.2.5, 9.3.2.11, 9.33.10, and 9.23.The CS mechanism combines the NAV state and the STA   s transmitter status with physical CS to determinethe busy/idle state of the medium. The NAV may be thought of as a counter, which counts down to 0 at auniform rate. When the counter is 0, the virtual CS indication is that the medium is idle; when the counter i


page 252
nonzero, the indication is busy. If a DMG STA supports multiple NAV timers as defined in 9.33.10 and allcounters are 0, the virtual CS indication is that the medium is idle; when at least one of the counters isnonzero, the indication is busy. The medium shall be determined to be busy when the STA is transmitting. 9.3.2.3 IFS9.3.2.3.1 GeneralChange the first paragraph of 9.3.2.3.1 as follows:The time interval between frames is called the IFS. A STA shall determine that the medium is idle throughthe use of the CS function for the interval specified. SixEight different IFSs are defined to provide prioritylevels for access to the wireless media. Figure 9-3 shows some of these relationships. All timings arereferenced from the PHY interface signals PHY-TXEND.confirm, PHY-TXSTART.confirm, PHY-RXSTART.indication, and PHY-RXEND.indication primitives.Insert the following list items into the lettered list of the first paragraph of 9.3.2.3.1:g)SBIFS Short Beamforming Interframe Spacingh)BRPIFS Beam Refinement Protocol Interframe Spacingi)MBIFS Medium Beamforming Interframe Spacingj)LBIFS Long Beamforming Interframe Spacing9.3.2.3.2 RIFSChange the second paragraph (including adding the dashed list and creating a new third paragraph) of9.3.2.3.2 as follows:RIFS may be used in place of SIFS to separate multiple transmissions from a single transmitter when noSIFS-separated response transmission is expected. and at least one of the following is true:   The transmitter is not a DMG STA.  The transmitter is a DMG STA, and each transmission occurs with the same transmit antennaconfiguration.RIFS shall not be used between frames with different RA values. The duration of RIFS is defined by theaRIFS PHY characteristic (see Table 20-25 and Table21-31). The RIFS is the time from the end of the lastsymbol of the previous frame to the beginning of the first symbol of the preamble of the subsequent frame asseen at the air interface. A STA shall not allow the space between frames that are defined to be separated bya RIFS time, as measured on the medium, to vary from the nominal RIFS value (aRIFSTime) by more than   10% of aRIFSTime. Two frames separated by a RIFS shall both be HT PPDUs or shall both be DMGPPDUs. 9.3.2.3.3 SIFSChange 9.3.2.3.3 as follows:The SIFS shall be used prior to transmission of an ACK frame, a CTS frame, a PPDU containing aBlockAck frame that is an immediate response to either a BlockAckReq frame or an A-MPDU, a DMG CTSframe, a DMG DTS frame, an SSW-ACK frame, a Grant ACK frame, a response frame transmitted in theATI, and the second or subsequent MPDU of a fragment burst and by a STA responding to any polling bythe PCF. The SIFS may also be used by a PC for any type of frame during the CFP (see 9.4). The SIFS is th


page 253
225time from the end of the last symbol, or signal extension if present, of the previous frame to the beginning ofthe first symbol of the preamble of the subsequent frame as seen at the air interface. The SIFS timing shall be achieved when the transmission of the subsequent frame is started at the TxSIFSSlot boundary as specified in 9.3.7. An IEEE 802.11 implementation of a non-DMG STA shall not allow thespace between frames that are defined to be separated by a SIFS time, as measured on the medium, to varyfrom the nominal SIFS value by more than    10% of aSlotTime for the PHY in use. An implementation of aDMG STA shall not allow the space between frames that are defined to be separated by a SIFS time, asmeasured on the medium, to vary from the nominal SIFS value by more than   0% or +10% of aSlotTime. SIFS is the shortest of the IFSs between transmissions from different STAs. SIFS shall be used when STAshave seized the medium and need to keep it for the duration of the frame exchange sequence to beperformed. Using the smallest gap between transmissions within the frame exchange sequence preventsother STAs, which are required to wait for the medium to be idle for a longer gap, from attempting to use themedium, thus giving priority to completion of the frame exchange sequence in progress.When transmitting a response frame immediately following a SIFS period, a DMG STA shall set theTXVECTOR parameter LAST_RSSI of the response frame to the power that was measured on the receivedpacket, as reported in the RCPI field of the frame that elicited the response frame. The encoding of the valueis as follows:   Power values less than or equal to   68 dBm are represented as the value of 1.   Power values between   68 dBm and   42 dBm are represented as round((power    (  71 dBm))/2).   Power values equal to or above   42 dBm are represented as the value 15.   For all other cases, the DMG STA shall set the TXVECTOR parameter LAST_RSSI of thetransmitted frame to 0. A DMG STA that transmits a PPDU containing at least one individually addressed MPDU shall set theTXVECTOR parameter Turnaround to 1 if the DMG STA is required to listen for an incoming PPDUimmediately following the transmission of the PPDU; otherwise, the DMG STA shall set the TXVECTORparameter Turnaround to 0. The DMG STA shall set the TXVECTOR parameter Turnaround to 0 when ittransmits an RTS frame.9.3.2.3.4 PIFSInsert the following items at the end of the dashed list after the second paragraph of 9.3.2.3.4:  A PCP/AP continuing to transmit in the ATI after a transmission failure during the ATI (9.33.3)  A source DMG STA of an SP continuing to transmit after a transmission failure as described in9.33.6.2   A DMG STA performing EDCA access during an allocated CBAP as described in 9.33.59.3.2.3.6 AIFSChange 9.3.2.3.6 as follows:The AIFS shall be used by QoS STAs that access the medium using the EDCAF to transmit all data frames(MPDUs) except during the ATI or an SP, all management frames (MMPDUs) except during the ATI or anSP, all extension frames except for the DMG Beacon frame, and the following control frames:   PS-Poll,  SSW (if first transmission by initiator in a CBAP)  Poll (if first transmission and when in a CBAP


page 254
  Grant (if first transmission and when in a CBAP and not transmitted in response to a SPR)  SPR (when in a CBAP and not transmitted as a response to a Poll)  RTS,  CTS (when not transmitted as a response to the RTS),   DMG CTS (when not transmitted as a response to the RTS)  BlockAckReq, and  BlockAck (when not transmitted as a response to the BlockAckReq). A STA using the EDCAF shall obtain a TXOP for an AC if the STA   s CS mechanism (see 9.3.2.1)determines that the medium is idle at the AIFS[AC] slot boundary (see 9.19.2.3), after a correctly receivedframe, and the backoff time for that AC has expired. A non-PCP/non-AP QoS STA computes the time periods for each AIFS[AC] from thedot11EDCATableAIFSN attributes in the MIB. In an infrastructure BSS, QoS STAs update theirdot11EDCATableAIFSN values using information in the most recent EDCA Parameter Set element ofBeacon frames received from the AP of the BSS (see 8.4.2.31) if the STA is a non-DMG STA or the mostrecent EDCA Parameter Set element of DMG Beacon and Announce frames received from the PCP/AP ofthe BSS if the STA is a DMG STA. A QoS PCP/AP computes the time periods for each AIFS[AC] from thedot11QAPEDCATableAIFSN attributes in its MIB. Insert the following subclauses, 9.3.2.3.8 to 9.3.2.3.11, after 9.3.2.3.7:9.3.2.3.8 SBIFSSBIFS shall be used to separate multiple transmissions from a single transmitter during a receive sectorsweep or when each transmission occurs with a different transmit antenna configuration and no SIFS-separated response transmission is expected. The duration of SBIFS is determined by the aSBIFS PHYcharacteristic. The SBIFS is the time from the end of the last symbol of the previous frame to the beginningof the first symbol of the preamble of the subsequent frame as seen at the air interface. A STA shall notallow the space between frames that are defined to be separated by a SBIFS time, as measured on themedium, to vary from the nominal SBIFS value (aSBIFSTime) by more than aSBIFSAccuracy. Two framesseparated by a SBIFS shall both be DMG PPDUs. 9.3.2.3.9 BRPIFSBRPIFS shall be used by STAs between any combination of transmissions of BRP-TX and BRP-RXpackets. The BRPIFS is the maximum time from the end of the last symbol of the previous PPDU, ortraining field if present in the PPDU, to the beginning of the first symbol of the preamble of the subsequentPPDU as seen at the air interface. The corresponding minimum time is SIFS. BRPIFS is defined to be equalto aBRPIFS+10%. 9.3.2.3.10 MBIFSMBIFS shall be used between the BTI and the A-BFT and between the ISS, RSS, SSW Feedback, and SSWACK. MBIFS is equal to 3  aSIFStime. An implementation of a DMG STA shall not allow the spacebetween frames that are separated by MBIFS time, as measured on the medium, to vary from the nominalMBIFS value by more than   0% or +10 of aSlotTime.9.3.2.3.11 LBIFSLBIFS shall be used between transmissions employing different DMG antennas and when the recipient STAis expected to switch DMG antennas. LBIFS is equal to 6  aSIFStime. An implementation of a DMG ST


page 255
227shall not allow the space between frames that are separated by LBIFS time, as measured on the medium, tovary from the nominal LBIFS value by more than   0% or +10 of aSlotTime.9.3.2.4 Setting and resetting the NAVInsert the following paragraph as the new first paragraph of 9.3.2.4:This subclause describes the setting and resetting of the NAV timer for non-DMG STAs and DMG STAsthat support a single NAV timer. DMG STAs that support multiple NAV timers shall update their NAVtimers according to the procedures described in 9.33.10. Change the title of 9.3.2.6 as follows:9.3.2.6 CTS and DMG CTS procedureInsert the following paragraph at the end of 9.3.2.6:A DMG STA follows the procedure defined in this subclause, except that it uses a DMG CTS frame insteadof a CTS frame. A non-DMG STA does not transmit DMG CTS frames. 9.3.2.10 Duplicate detection and recoveryChange the second paragraph of 9.3.2.10 as follows:Duplicate frame filtering is facilitated through the inclusion of a Sequence Control field (consisting of asequence number and fragment number) within data, extension, and management frames, a TID subfield inthe QoS Control field within QoS data frames, and an ACI subfield in the Sequence Number field withinQMFs. MPDUs that are part of the same MSDU or A-MSDU shall have the same sequence number, anddifferent MSDUs or A-MSDUs have (with a high probability) a different sequence number.Change the fourth paragraph of 9.3.2.10 as follows:A STA operating as a QoS STA shall maintain one modulo-4096 counter, per <Address 1, TID> tuple, forindividually addressed QoS Data frames. Sequence numbers for these frames are assigned using the counteridentified by the Address 1 field and the TID subfield of the QoS Control field of the frame, and that counteris incremented by 1 for each MSDU or A-MSDU corresponding to that <Address 1, TID> tuple. Sequencenumbers for management frames, extension frames (when this field is present), QoS data frames with agroup address in the Address 1 field, and all non-QoS data frames transmitted by QoS STAs withdot11QMFActivated false or not present shall be assigned using an additional single modulo-4096 counter,starting at 0 and incrementing by 1 for each such MSDU, A-MSDU, or MMPDU, except that a QoS STAmay use values from additional modulo-4096 counters per <Address 1, TID> for sequence numbersassigned to time priority management frames. A transmitting STA should cache the last used sequencenumber per RA for frames that are assigned sequence numbers from this counter and should ensure that thesuccessively assigned sequence numbers for frames transmitted to a single RA do not have the same valueby incrementing the counter by 2, if incrementing by 1 would have produced the same sequence number asis found in the cache for that RA. Change the first bullet in the dashed list in the fifth paragraph of 9.3.2.10 as follows:  Management and extension frames that are not QMF


page 256
9.3.2.11 NAV distributionChange the first paragraph of 9.3.2.11 as follows: When a node needs to distribute NAV information, for instance, to reserve the medium for a transmission ofa nonbasic rate frame (that may not be heard by other nodes in the BSS), the node may first transmit a CTSframe with the RA field equal to its own MAC address (CTS-to-self) if the node is a non-DMG STA, or itmay transmit a DMG CTS with the RA field equal to its own MAC address and the TA field equal to theMAC address of the peer DMG STA for which the forthcoming transmission of the node is intended (DMGCTS-to-self) if the node is a DMG STA. Aand with a duration value in the framethat protects the pendingtransmission, plus possibly an ACK frame. Insert the following paragraph at the end of 9.3.2.11:A DMG STA shall not transmit a DMG DTS frame outside an SP. 9.3.3 Random backoff timeChange the last sentence in the first paragraph of 9.3.3 as follows:This process minimizes collisions during contention between multiple STAS that have been deferring to thesame event in a non-DMG network. 9.3.4 DCF access procedure9.3.4.2 Basic accessInsert the following paragraphs and note after the second paragraph (   In general, a STA may    .) of9.3.4.2:A DMG STA operating under the DCF access method should transmit frames with its transmit antennapattern directed towards the intended receiver. A DMG STA operating under the DCF access method that does not operate in a TXOP exchange mayconfigure its receiving antenna array to a quasi-omni antenna pattern to be ready to receive frames from anyDMG STA. NOTE  The steady state of the antenna configuration might depend on the actual applications in which the DMG STAis involved. For example, a DMG STA that expects transactions with several DMG STAs during a CBAP configures thereceiving antenna to a quasi-omni pattern to be ready to receive transmission from any of the DMG STA. A DMG STAthat expects transactions with a single DMG STA (e.g., PCP/AP) might keep its receiving antenna directed to the peerDMG STA. A DMG STA operating under the DCF access method that is participating in a TXOP exchange shouldconfigure its receiving antenna array to be directed toward the other transmitter involved in the TXOP


page 257
2299.3.4.3 Backoff procedure for DCFInsert the following figures, Figure 9-12a and Figure 9-12b, after Figure 9-12:Change the third paragraph of 9.3.4.3 as shown:To begin the backoff procedure, the STA shall set its Backoff Timer to a random backoff time using theequation in 9.3.3. All backoff slots occur following a DIFS period during which the medium is determinedto be idle for the duration of the DIFS period or following an EIFS period during which the medium isdetermined to be idle for the duration of the EIFS period, as appropriate (see 9.3.2.3), except that no backoffslots for DCF occur during the BTI, the A-BFT, the ATI, and non-CBAP portions of the DTI.STA ESTA ASTA BSTA DSTA CFigure 9-12a  Example topology of NAV setting in DMG STAs STA ASTA ESTA DSTA CSTA BFrame to STA EResponse to STA ABackoffVirtual CS=busyDIFSBackoffRTS to STA BEnd of DMG CTS timeoutDIFSBackoffCS= busyBackoffData to STA BAck to STA DDIFSBackoffBackoffRTS to STA BAFigure 9-12b  Backoff procedure for DMG STA


page 258
Change the seventh paragraph of 9.3.4.3 as follows:The effect of this procedure is that when multiple STAs are deferring and go into random backoff, then theSTA selecting the smallest backoff time using the random function wins the contention (assuming all of thecontending STAs detect the same instances of WM activity at their respective receivers, a situation that isnot always true, due to hidden node effects and interference events). The number of DMG STAs that areable to detect each WM transmission is reduced even further due to SPSH. Insert the following text at the end of 9.3.4.3:Figure 9-12b describes the backoff procedure for DMG STAs for the example topology shown in Figure 9-12a. At the time that STA A starts transmitting a frame to STA E and STA E starts receiving the frame, theantennas of both stations are directed to the peer, i.e., the transmitting antennas of STA A are directed toSTA E and the receiving antennas of STA E are directed to STA A. At this point, STA B, STA C, and STAD are not involved in any frame exchange; therefore, they are in receiving state and happen to have theconfiguration of their receiving antenna arrays set to a quasi-omni antenna pattern to be ready to receiveframes from any STA. STA B receives the frame transmitted by STA A (to STA E), and CS (physical and virtual) in STA Bindicates a busy medium during the exchange between STA A and STA E.STA D is not able to receive the frame transmitted by STA A or the response transmitted by STA E; henceCS in STA D indicates IDLE for the duration of the exchange between STA A and STA E.The physical CS function of STA C indicates a medium busy condition when it receives the response sent bySTA E, but indicates an idle medium condition during the transmission from STA A.STA A and STA E (which are directly involved in the frame exchange), STA B (which received the framesent by STA A), and STA C (which received the response sent by STA E) are synchronized at point A,where the transaction between STA A and STA E completes.Since STA D cannot hear the directional transmissions from either STA A or STA C, its physical CSindicates an idle medium condition for the duration of the frame exchange, enabling a frame exchange withSTA B at the same time as the frame exchange between STA A and STA E. This is an example of SPSH. Because STA C is unaware of the transmission of the frame from STA A to STA E, STA C transmits anRTS to STA B. But STA C does not receive a DMG CTS from STA B since the CS at STA B is busy whenSTA B receives the RTS from the STA C. This causes STA C to retry the RTS transmission following theexpiration of a backoff count, which occurs after the completion of the exchange between STA A andSTAE.9.3.4.4 Recovery procedures and retransmit limitsChange the fifth paragraph of 9.3.4.4 as follows:Retries for failed transmission attempts shall continue until the SRC for the MPDU of type Data or MMPDUis equal to dot11ShortRetryLimit or until the LRC for the MPDU of type Data or MMPDU is equal todot11LongRetryLimit. When either of these limits is reached, retry attempts shall cease, and the MPDU oftype Data (and any MSDU of which it is a part) or MMPDU shall be discarded. A DMG STA, in addition tousing random access within a CBAP, may transmit retries in available scheduled SPs


page 259
2319.3.6 Group addressed MPDU transfer procedureChange the first paragraph of 9.3.6 as follows:In the absence of a PCF or use of the group addressed transmission service (GATS), when group addressedMPDUs in which the To DS field is 0 are transferred from a STA, only the basic access procedure shall beused. When group addressed MPDUs are not delivered using GATS, no RTS/CTS or RTS/DMG CTSexchange shall be used, regardless of the length of the frame. In addition, no ACK shall be transmitted byany of the recipients of the frame. Any group addressed MPDUs in which the To DS field is 1 transferredfrom a STA shall, in addition to conforming to the basic access procedure of CSMA/CA, obey the rules forRTS/CTS exchange and the ACK procedure because the MPDU is directed to the AP. For DMG STAs, theMPDU transmission shall also conform to the access procedures defined in 9.33. Whendot11SSPNInterfaceActivated is true, an AP shall distribute the group addressed message into the BSS onlyif dot11NonAPStationAuthSourceMulticast in the dot11InterworkingEntry identified by the source MACaddress in the received message is true. When dot11SSPNInterfaceActivated is false, the group addressedmessage shall be distributed into the BSS. Unless the MPDU is delivered via DMS, the STA originating themessage receives the message as a group addressed message (prior to any filtering). Therefore, all STAsshall filter out group addressed messages that contain their address as the source address. Whendot11SSPNInterfaceActivated is false, group addressed MSDUs shall be propagated throughout the ESS.When dot11SSPNInterfaceActivated is true, group addressed MSDUs shall be propagated throughout theESS only if dot11NonAPStationAuthSourceMulticast in the dot11InterworkingEntry identified by thesource MAC address in the received message is true.Insert the following paragraph after the third paragraph (   As a result, the reliability    .   ) of 9.3.6:A DMG STA may transmit a copy of the same group addressed MPDU using different antennaconfigurations. This might be needed to provide a quasi-omni coverage or to enable transmission by anMCS that is higher than MCS 0. If multiple copies of a group addressed MPDU with a To DS field equal to0 are transferred, the DMG STA shall not transmit a different frame before the completion of thetransmission of all copies of the group addressed MPDU. 9.5 FragmentationInsert the following paragraph at the end of 9.5:Except when using Block Ack, a STA that supports the DMG PHY shall complete the transmission of afragmented MSDU before starting transmission of another MSDU with the same TID of the fragmentedMSDU. 9.7 Multirate support9.7.1 OverviewChange the fourth paragraph of 9.7.1 as follows:Otherwise, a non-DMG STA the frame shall be transmitted the frame using a rate that is in accordance withrules defined in 9.7.5 and 9.7.6. A DMG STA shall transmit the frame using a rate that is in accordance withrules defined in 9.7.5a.Change the last paragraph of 9.7.1 as follows:For the Clause 18, Clause 17, Clause 19, Clause 21, and Clause 20 PHYs, the time required to transmit aframe for use in calculating the value for the Duration/ID field is determined using th


page 260
PLME-TXTIME.request primitive (see 6.5.7) and the PLME-TXTIME.confirm primitive (see 6.5.8), bothdefined in 18.4.3, 17.3.4, 19.8.3.2, 19.8.3.3, 19.8.3.4, 21.12.3, or 20.4.3 depending on the PHY options. InQoS STAs, the Duration/ID field may cover multiple frames and may involve using the PLME-TXTIME.request primitive several times. Insert the following subclauses, 9.7.5a to 9.7.5a.5, after 9.7.5.6:9.7.5a Multirate support for DMG STAs9.7.5a.1 Usage of DMG Control modulation classThe DMG Control modulation class has only one MCS, which is DMG MCS 0 defined in Clause 21. TheDMG Beacon, SSW-Feedback, SSW-ACK, RTS, DMG CTS, DMG CTS-To-Self, DMG DTS, and firstBRP packet in beam refinement shall be transmitted using the DMG Control modulation class. In the case ofan RXSS that was specified through the Beamforming Control field with the value of the RXSSTxRatesubfield equal to 1 and the RXSSTxRate Supported field in the DMG Capabilities element of the STAperforming the RXSS is 1, the first SSW frame of the RXSS shall be transmitted using the DMG Controlmodulation class, and the remaining frames of the RXSS shall be transmitted using MCS 1 of the DMG SCmodulation class. In all other cases, the SSW frames shall be transmitted using the DMG Controlmodulation class. Other DMG beamforming training frames may be transmitted using the DMG Controlmodulation class or the DMG SC modulation class. 9.7.5a.2 Rate selection rules for control frames transmitted by DMG STAsThis subclause describes the rate selection rules for control frames transmitted by DMG STAs. The rateselection rules apply only for MCSs defined in Clause 21. A control frame that does not have an MCS defined in 9.7.5a.1 and that is not a control response frame shallbe transmitted using an MCS from the mandatory MCS set of the DMG SC modulation class or DMGControl modulation class.A STA transmitting an ACK or a BA frame that is a response to a frame sent using the DMG low-power SCmodulation class shall use the same modulation class and an MCS chosen from the DMG low-power SCSupported MCS set of the STA that transmitted the frame that elicited the response. The MCS index shall bethe same as or lower than the MCS of the frame that elicited the response.A STA transmitting a Grant ACK frame shall use the DMG Control modulation class or any MCS from themandatory MCS set of the DMG SC modulation class.A STA transmitting an ACK or a BA frame that is a response to a frame sent using the DMG Controlmodulation class shall use the DMG Control modulation class.A STA transmitting an ACK frame or a BA frame in response to a frame sent using the DMG SCmodulation class or DMG OFDM modulation class shall use an MCS from the mandatory MCS set of theDMG SC modulation class and shall use the highest MCS index for which the Data Rate is the same as orlower than that of the frame that elicited the response. NOTE  A control response frame is a control frame that is transmitted within an MPDU as a response to a receptionSIFS time after the PPDU containing the frame that elicits the response, e.g., a DMG CTS in response to an RTSreception, an ACK in response to a DATA reception, a BA in response to a BAR reception. In some situations, thetransmission of some of these control frames is not a control response transmission, such as when a DMG CTS is used toinitiate a TXOP


page 261
233The rules in this subclause do not apply to control frames that are contained in A-MPDUs that also include atleast one MPDU of type Data or Management. Exception is an A-MPDU consisting of one of the followingcombinations:   An ACK frame and a QoS Null frame  A BA frame and a QoS Null frame  A BAR frame and a QoS Null frame  A BA frame, a BAR frame, and a QoS Null frameIn these exceptions, the rate selection rules are the same as those for a standalone ACK or BA frame.9.7.5a.3 Rate selection for group addressed data and management frames transmitted by DMG STAsThis subclause describes the rate selection rules for group addressed data and management framestransmitted by DMG STAs. The rate selection rules apply only for MCSs defined in Clause 21. If the transmit antenna pattern of a single transmission of a group addressed frame covers more than onereceiver and the supported MCS set of each of the receivers is known to the sender, then the MCS used forthe transmission shall be an MCS common to the supported MCS sets of all the receivers. If such an MCS isnot known, the frame shall be transmitted using an MCS from the mandatory MCS set of the DMG Controlor SC PHY. If the transmit antenna pattern of a single transmission of a group addressed frame covers only one receiver,the frame shall be transmitted following the rate selection rules of individually addressed frames asdescribed in 9.7.5a.4. 9.7.5a.4 Rate selection for individually addressed data and management frames transmitted by DMG STAsThis subclause describes the rate selection rules for individually addressed data and management frames astransmitted by DMG STAs. The rate selection rules apply only for MCSs defined in Clause 21. An individually addressed data or management frame shall be sent using any MCS subject to the followingconstraints:   A STA shall not transmit a frame using an MCS that is not supported by the receiver STA, asreported in the maximum receive MCS subfields in the Supported MCS Set field in managementframes transmitted by the receiver STA.   A STA shall not initiate transmission of a frame at an MCS index higher than the highestTransmission MCS in the OperationalRateSet, which is a parameter of the MLME-JOIN.requestprimitive.When the Supported MCS set of the receiving STA is not known, the transmitting STA shall transmit usingan MCS from the mandatory MCS set of the DMG Control or SC PHY. The rules in this subclause also apply to A-MPDUs that contain at least one control type of MPDU and atleast one MPDU of type Data or Management.9.7.5a.5 Rate selection for BRP packetsThe first BRP packet transmitted from the initiator to the responder after the SLS phase shall use MCS 0.The first BRP packet transmitted from the responder to the initiator after the SLS phase shall use MCS 0


page 262
BRP packets transmitted during beam refinement should use MCS 1 and shall not use any MCS greater thanMCS 12. BRP packets transmitted during beam refinement should use MCS 0 if the BRP packet is sent atstart of an SP as defined in 9.33.6.2.BRP packets transmitted during the BRP setup subphase, the MID subphase, and the BC subphase shall useMCS 0.BRP packets transmitted during a BC subphase, as part of a BC subphase only training, may use MCS 0-MCS 12.BRP packets transmitted during beam tracking may use any MCS.9.7.8 Modulation classesChange the column title as indicated, and insert the following rows into Table 9-4 in numeric order:9.11 A-MSDU operationInsert the following paragraphs at the start of 9.11: The transmitter of frames for a TID established using a PTP TSPEC shall use an A-MSDU subframe formatthat is the result of the PTP TSPEC negotiation for that TID. The A-MSDU subframe format is negotiatedusing the PTP TSPEC (8.4.2.32): the Short A-MSDU subframe format shall not be used for frames of thecorresponding TID if the A-MSDU subframe field of the PTP TSPEC element is 0 either in the ADDTSRequest frame or in the ADDTS Response frame used to set up the TID. Prior to PTP TSPEC negotiation, aSTA shall use the Basic A-MSDU subframe format if the STA employs MSDU aggregation. A non-PCP DMG STA in a PBSS may use an A-MSDU to forward frames to another non-PCP STA in thePBSS via the PCP of the PBSS if the PCP Forwarding field within the PCP   s DMG Capabilities element is1. A non-PCP DMG STA in a PBSS shall not use the PCP to do the forwarding if the PCP Forwarding fieldwithin the PCP   s DMG Capabilities element is 0.The Short A-MSDU subframe structure is used only between a pair of STAs that communicate directly (see8.3.2.1). The Short A-MSDU subframe structure cannot be used for frame forwarding.Table 9-4  Modulation classesModulation classDescription of modulationCondition that selects this modulationClause 14 to Clause 19or Clause 21 PHYsClause 20 PHY9DMG Control21.4 transmissionNA10DMG SC21.6 transmissionNA11DMG OFDM21.5 transmissionNA12DMG low-power SC21.7 transmissionN


page 263
235Change the now fourth paragraph of 9.11 as follows:An A-MSDU shall contain only MSDUs whose DA and SA parameter values map to the same RA and TAvalues. For the Short A-MSDU case, an A-MSDU shall contain only MSDUs whose SA and DA parametervalues are the same.Change the now tenth paragraph of 9.11 as follows: The following rules apply to the transmission of an A-MSDU in a non-DMG network:  A STA that has a value of false for dot11HighthroughputOptionImplemented shall not transmit anA-MSDU.  A STA shall not transmit an A-MSDU to a STA from which it has not received a frame containingan HT Capabilities element. 9.12 A-MPDU operation9.12.1 A-MPDU contentsInsert the following paragraphs at the end of 9.12.1:A DMG STA that transmits an A-MPDU shall do so only in the Data Enabled Immediate Response contextor the Control Response context specified in Table 8-284 and Table 8-287, respectively. The contents of an A-MPDU transmitted by a DMG STA in the data enabled immediate response contextare the ACK MPDU, or the HT-immediate BlockAck, or the Action No Ack as specified in Table 8-284. 9.12.2 A-MPDU length limit rulesChange 9.12.2 as follows:An HT STA or a DMG STA indicates a value in the Maximum A-MPDU Length Exponent field in its HTCapabilities element or DMG Capabilities element, respectively, that defines the maximum A-MPDU lengththat it can receive. The encoding of this field is defined in Table 8-125 for an HT STA and in Table8-183ffor a DMG STA. Using this field, the STA establishes at association the maximum length of A-MPDUs thatcan be sent to it. The STA shall be capable of receiving A-MPDUs of length up to the value indicated by thisfield.An HT STA or a DMG STA shall not transmit an A-MPDU that is longer than the value indicated by theMaximum A-MPDU Length Exponent field declared by the intended receiver.NOTE  The A-MPDU length limit applies to the maximum length of the PSDU that might be received. If the A-MPDUincludes any padding delimiters (i.e., delimiters with the Length field equal to 0) in order to meet the MPDU startspacing requirement, this padding is included in this length limit.9.12.3 Minimum MPDU Start SpacingChange 9.12.3 as follows:An HT STA or a DMG STA shall not start the transmission of more than one MPDU within the time limitdescribed in the Minimum MPDU Start Spacing field declared by the intended receiver. To satisfy thisrequirement, the number of octets between the start of two consecutive MPDUs in an A-MPDU, measured atthe PHY SAP, shall be equal or greater tha


page 264
tMMSS    r/8wheretMMSS is the time (in microseconds) defined in the    Encoding    column of Table 8-125 for an HT STAand of Table8-183f for a DMG STA for the value of the Minimum MPDU Start Spacing fieldr is the value of the PHY Data Rate (in megabits per second) defined in Clause 21 for a DMGSTA and defined in 20.6 for an HT STA based on the TXVECTOR parameters: MCS,GI_TYPE, and CH_BANDWIDTHIf necessary, in order to satisfy this requirement, a STA shall add padding between MPDUs in an A-MPDU.Any such padding shall be in the form of one or more MPDU delimiters with the MPDU Length field setto0. QoS Null frames transmitted by DMG STAs are not subject to this spacing, i.e., no MPDU delimiters withzero length need to be inserted after the MPDU immediately preceding the QoS Null frame in an A-MPDU. 9.12.4 A-MPDU aggregation of group addressed data framesChange 9.12.4 as follows: An HT STA that is neither an AP nor a mesh STA shall not transmit an A-MPDU containing an PDU with agroup addressed RA.NOTE  An HT AP and an HT mesh STA can transmit an A-MPDU containing MPDUs with a group addressed RA. An HT AP and an HT mesh STA shall not transmit an A-MPDU containing group addressed MPDUs if theHT Protection field is equal to non-HT mixed mode.A DMG STA may transmit an A-MPDU containing MPDUs with a group addressed RA.When an HT AP or an HT mesh STA transmits a PPDU containing at least one an A-MPDU that containscontaining MPDUs with a group addressed RA, both of the following rules shall apply:  If the PPDU is an HT PPDU, tThe value of maximum A-MPDU length exponent that applies is theminimum value in the Maximum A-MPDU Length Exponent subfield of the A-MPDU Parametersfield of the HT Capabilities element across all HT STAs associated with the transmitting AP oracross all peer HT mesh STAs of the transmitting mesh STA.  If the PPDU is an HT PPDU, tThe value of minimum MPDU start spacing that applies is themaximum value in the Minimum MPDU Start Spacing subfield of the A-MPDU Parameters field ofthe HT Capabilities element across all HT STAs associated with the transmitting AP or across allpeer HT mesh STAs of the transmitting mesh STA.  If the PPDU is a DMG PPDU, the value of maximum A-MPDU length exponent that applies is theminimum value in the Maximum A-MPDU Length Exponent subfield of the A-MPDU Parametersfield of the DMG Capabilities element across all DMG STAs associated with the PCP/AP.  If the PPDU is a DMG PPDU, the value of minimum MPDU start spacing that applies is themaximum value in the Minimum MPDU Start Spacing subfield of the A-MPDU Parameters field ofthe DMG Capabilities element across all DMG STAs associated with the PCP/AP


page 265
2379.13 PPDU duration constraintInsert the following paragraph at the end of 9.13:A DMG STA shall not transmit a PPDU that has a duration (as determined by the PHY-TXTIME.confirmprimitive defined in 6.5.8) that is greater than aPPDUMaxTime. Insert the following subclause, 9.13a, after 9.13: 9.13a DMG A-PPDU operationA DMG STA is aggregate PPDU (A-PPDU) capable if the A-PPDU supported field within the DMG STA   sDMG Capabilities element is 1. Otherwise, the DMG STA is A-PPDU incapable.A DMG STA shall not transmit an A-PPDU aggregate to a STA that is not A-PPDU capable.An A-PPDU is a sequence of two or more PPDUs transmitted without IFS, preamble, and separationbetween PPDU transmissions. All PPDUs within an A-PPDU shall have the ADD-PPDU parameter of theTXVECTOR set to ADD-PPDU, except for the last PPDU in the A-PPDU that shall have this parameter setto NO-ADD-PPDU. The value of fields within the PLCP header of a PPDU belonging to an A-PPDU mightdiffer from other PPDUs in the same A-PPDU, including the MCS field. A PPDU within an A-PPDU shall contain an A-MPDU. All MPDUs within A-MPDUs within an A-PPDUshall have the same values for the TA and RA fields. All QoS Data MPDUs within A-MPDUs within an A-PPDU shall have the same value of the Ack Policy subfield of the QoS Control field. If a frame that requiresan immediate response is present within an A-PPDU, it shall be transmitted in the last A-MPDU of the A-PPDU. The transmission duration of an A-PPDU shall be no greater than aPPDUMaxTime.NOTE  An A-PPDU capable DMG STA that receives an A-PPDU responds with an acknowledgment frame, ifappropriate, only after it receives the last PPDU in the A-PPDU. The last PPDU in an A-PPDU has the ADD-PPDUparameter of the TXVECTOR set to NO-ADD-PPDU. 9.18 Operation across regulatory domains9.18.2 Operation upon entering a regulatory domainChange the second paragraph of 9.18.2 as follows:When a STA with dot11MultiDomainCapabilityActivated true enters a regulatory domain, beforetransmitting, it shall passively scan to learn at least one valid channel, i.e., a channel upon which it detectsIEEE 802.11 frames. The Beacon frame transmitted by non-DMG STAs and DMG Beacon/Announce frametransmitted by DMG STAs contains information on the country code, the maximum allowable transmitpower, and the channels that may be used for the regulatory domain. Optionally, these Beacon frames mayalso include in the Country element, on a periodic basis, the regulatory information that would be returned ina Probe Response frame. When DSE-dependent STA operation is required in a regulatory domain, adependent STA may be required to receive a Beacon frame or a DMG Beacon/Announce frame signalingdependent enablement (10.12.5), and until this Beacon at least one of these frames is received, the STA maycontinue passive scanning to receive one such a Beacon frame directly from an enabling STA. Once theSTA has acquired the information so that it is able to meet the transmit requirements of the regulatorydomain, it shall transmit a Probe Request to an PCP/AP to gain the additional necessary regulatory domaininformation contained in the Probe Response frame, unless the information was previously received in 


page 266
Beacon, DMG Beacon, or Announce frame. The STA then has sufficient information available to configureits PHY for operation in the regulatory domain. 9.18.6 Operation with coverage classesChange 9.18.6 as follows:The default PHY parameters are based on aAirPropagationTime having a value of 1 s or less, andaSlotTime and other MAC timing are based on the PHY timing parameters, as specified in 9.3.2.3 and 9.3.7.When dot11OperatingClassesRequired is true, it is possible to manage the MAC timing of STAs that canreceive Beacon frames, DMG Beacon frames, or Probe Response frames that contain the Country element(8.4.2.10), to increase fairness in contending for the medium. Radio waves propagate at 300 m/s in freespace, and, for example, 3 s would be the ceiling for BSS maximum one-way distance of ~450 m (~900 mround trip). The Coverage Class field of the Country element indicates the new value ofaAirPropagationTime (see Table 8-56), and the MAC can use the new value to calculate aSlotTime (see9.3.7). When dot11OperatingClassesRequired and dot11ExtendedChannelSwitchActivated are true andCountry elements have been received in Beacon frames, DMG Beacon frames, or Probe Response frames,associated STAs and dependent STAs shall use MAC timing that corresponds to the new value ofaAirPropagationTime (see 9.3.7).Using the Country element, an PCP/AP can change coverage class and maximum transmit power level toenhance operation. When dot11OperatingClassesRequired and dot11ExtendedChannelSwitchActivated aretrue and the maximum transmit power level is different from the transmit power limit indicated by theoperating class, the associated STA or dependent STA shall operate at a transmit power at or below thatindicated by the lesser of the two limits.9.19 HCF9.19.1 GeneralChange 9.19.1 as follows:Under HCF, the basic unit of allocation of the right to transmit onto the WM is the TXOP. Each TXOP isdefined by a starting time and a defined maximum length. In a non-DMG network, tThe TXOP may beobtained by a STA winning an instance of EDCA contention (see 9.19.2) during the CP or by a STAreceiving a QoS (+)CF-Poll frame (see 9.19.3) during the CP or CFP. The former is called EDCA TXOP,while the latter is called HCCA TXOP or polled TXOP. An HCCA TXOP shall not extend across a TBTT. ATXOP shall not exceed dot11MaxDwellTime (if using an FH PHY). The occurrence of a TBTT implies theend of the HCCA TXOP, after which the regular channel access procedure (EDCA or HCCA) is resumed. Itis possible that no frame was transmitted during the TXOP. The shortened termination of the HCCA TXOPdoes not imply an error condition.In a DMG BSS, the EDCAF operates only during CBAPs. Operation of the EDCAF is suspended at the endof a CBAP and is resumed at the beginning of the following CBAP. When the EDCAF is being suspended,the values of the backoff and NAV timers shall remain unchanged until the start of the following CBAP. ATXOP may be obtained only within a CBAP. A TXOP may be obtained by a DMG STA winning aninstance of EDCA contention (see 9.19.2) or by a DMG STA receiving a Grant frame with theAllocationType field equal to 1. See 9.33.5 and 9.33.6.3 for additional rules regarding contention-basedaccess in DMG BSSs. HCCA is not used by DMG STAs


page 267
2399.19.2 HCF contention-based channel access (EDCA)9.19.2.1 Reference implementationInsert the following paragraph and note at the end of 9.19.2.1:A DMG STA may implement a single AC. If the DMG STA implements a single AC, all UP and frametypes shall be mapped to AC_BE. NOTE  A DMG STA that implements a single AC has only one queue in Figure 9-19. 9.19.2.5 EDCA backoff procedureInsert the following list item at the end of the lettered list of the third paragraph of 9.19.2.5:e)The transmission attempt of a STA coordinated by an MM-SME collides internally with anotherSTA coordinated by the same MM-SME (see 10.33), which is indicated to the first MAC entity witha PHY-TxBusy.indication (BUSY) as response to the PHY-TXSTART.request primitive. Change the first sentence in the eighth paragraph of 9.19.2.5 as follows:If the backoff procedure is invoked because of a failure event [reason c) or d) or e) above or the transmissionfailure of a non-initial frame by the TXOP holder], the value of CW[AC] shall be updated as follows beforeinvoking the backoff procedure:9.19.2.7 Truncation of TXOPChange 9.19.2.7 as follows:When a STA gains access to the channel using EDCA and empties its transmission queue, it may transmit aCF-End frame provided that the remaining duration is long enough to transmit this frame. By transmittingthe CF-End frame, the STA is explicitly indicating the completion of its TXOP. In a DMG BSS, the STAshall not send a CF-End with a nonzero value in the Duration/ID field if the remaining duration is shorterthan 2TXTIME(CF-End) + 2SIFS. A TXOP holder that transmits a CF-End frame shall not initiate any further frame exchange sequenceswithin the current TXOP.A non-AP STA that is not the TXOP holder shall not transmit a CF-End frame.In a non-DMG network, aA STA shall interpret the reception of a CF-End frame as a NAV reset, i.e., itresets its NAV timer to 0 at the end of the PPDU containing this frame. After receiving a CF-End frame witha matching BSSID, an AP may respond by transmitting a CF-End frame after SIFS.NOTE  The transmission of a single CF-End frame by the TXOP holder resets the NAV of STAs hearing the TXOPholder. There may be STAs that could hear the TXOP responder that had set their NAV that do not hear this NAV reset.Those STAs are prevented from contending for the medium until the original NAV reservation expires.In a DMG BSS, a STA that is not in the Listening Mode (9.33.6.6) shall interpret the reception of a CF-Endframe as a NAV reset, i.e., it resets its NAV timer to 0 at the end of the time interval indicated in the value ofthe Duration/ID field of the received frame. The interval starts at PHY-RXEND.indication of the framereception. The STA shall not transmit during the interval if the RA field of the frame is not equal to the STAMAC address. The STA may transmit a CF-End frame if the RA field of the received frame is equal to theSTA MAC address and the value of the Duration/ID field in the received frame is not equal to 0


page 268
Figure 9-21 shows an example of TXOP truncation. In this example, the STA accesses the medium usingEDCA channel access and then transmits a nav-set sequence (e.g., RTS/CTS for non-DMG STAs or RTS/DMG CTS for DMG STAs) (using the terminology of Annex G). After a SIFS, it then transmits an initiator-sequence, which may involve the exchange of multiple PPDUs between the TXOP holder and a TXOPresponder. At the end of the second sequence, the TXOP holder has no more data that it can available to sendthat fits within the TXOP; therefore, it truncates the TXOP by transmitting a CF-End frame.Figure 9-21 remains unchanged.Non-DMG STAs that receive a CF-End frame reset their NAV and can start contending for the mediumwithout further delay. DMG STAs that receive a CF-End frame can start contending for the medium at theend of the time interval equal to the value in Duration/ID field of the frame if none of its NAV timers has anonzero value (9.33.10).TXOP truncation shall not be used in combination with L-SIG TXOP protection when the HT Protectionfield of the HT Operation element is equal to nonmember protection mode or non-HT mixed mode.9.21 Block Acknowledgment (Block Ack)9.21.1 IntroductionChange the second and third paragraphs of 9.21.1 as follows:The Block Ack mechanism is initialized by an exchange of ADDBA Request/Response frames. Afterinitialization, blocks of QoS data frames may be transmitted from the originator to the recipient. A blockmay be started within a polled TXOP, within an SP, or by winning EDCA contention. The number of framesin the block is limited, and the amount of state that is to be kept by the recipient is bounded. The MPDUswithin the block of frames are acknowledged by a BlockAck control frame, which is requested by aBlockAckReq frame.The Block Ack mechanism does not require the setting up of a TS; however, QoS STAs using the TS facilitymay choose to signal their intention to use Block Ack mechanism for the scheduler   s consideration inassigning TXOPs. The Block Ack mechanism is also used by the GCR service. Acknowledgments of framesbelonging to the same TID, but transmitted during multiple TXOPs/SPs, may also be combined into a singleBlockAck frame. This mechanism allows the originator to have flexibility regarding the transmission of dataMPDUs. The originator may split the block of frames across TXOPs/SPs, separate the data transfer and theBlock Ack exchange, and interleave blocks of MPDUs carrying all or part of MSDUs or A-MSDUs fordifferent TIDs or RAs.Insert the following paragraph after the third paragraph of 9.21.1:A DMG STA shall support the HT-Immediate Block Ack extension. A DMG STA shall not use the HT-Delayed Block Ack extension. 9.21.2 Setup and modification of the Block Ack parametersChange the fifth paragraph of 9.21.2 as follows:When a Block Ack agreement is established between two HT/DMG STAs, the originator may change thesize of its transmission window if the value in the Buffer Size field of the ADDBA Response frame is largerthan the value in the ADDBA Request frame. If the value in the Buffer Size field of the ADDBA Responseframe is smaller than the value in the ADDBA Request frame, the originator shall change the size of it


page 269
241transmission window (WinSizeO) so that it is not greater than the value in the Buffer Size field of theADDBA Response frame and is not greater than the value 64.9.21.3 Data and acknowledgment transfer using immediate Block Ack policy and delayed Block Ack policyChange the second and third paragraphs of 9.21.3 as follows:Subject to any constraints in this subclause about permitted use of TXOP or SP according to the channelaccess mechanism used, the originator may  Separate the Block and Basic BlockAckReq frames into separate TXOPs or SPs  Split a Block frame across multiple TXOPs or SPs  Split transmission of data MPDUs sent under Block Ack policy across multiple TXOPs or SPs  Interleave MPDUs with different TIDs within the same TXOP or SP  Sequence or interleave MPDUs for different RAs within a TXOP or SPA protective mechanism (such as transmitting using HCCA, RTS/CTS, RTS/DMG CTS, SP, ProtectedPeriod, or the mechanism described in 9.23) should be used to reduce the probability of other STAstransmitting during the TXOP or SP. If no protective mechanism is used, then the first frame that is sent as ablock shall have a response frame and shall have the Duration field set so that the NAVs are set toappropriate values at all STAs in the BSS.Change the 13th paragraph in 9.21.3 as follows:If there is no response (i.e., neither a Basic BlockAck nor an ACK frame) to the Basic BlockAckReq frame,the originator may retransmit the Basic BlockAckReq frame within the current TXOP or SP (if time permits)or within a subsequent TXOP or SP. MSDUs that are sent using the Block Ack mechanism are not subject toretry limits but only to MSDU lifetime. Non-DMG The originators need not set the retry bit to 1 for anypossible retransmissions of the MPDUs. DMG originators shall set the retry bit to 1 for any possibleretransmissions of the MPDUs.9.21.6 Selection of BlockAck and BlockAckReq variantsInsert the following paragraphs after the second paragraph (   The Multi-TID subfield    .   ) of 9.21.6:In a DMG BSS, if the Compressed Bitmap subfield of the BAR Control field within a BlockAckReq framerelated to an HT-immediate agreement is equal to 1, then all the following BlockAck and BlockAckReqframes transmitted as part of the HT-immediate agreement shall have the Compressed Bitmap subfield ofthe BA Control and BAR Control fields set to 1. In this case, the Multi-TID subfield of the BA Control fieldand BAR Control field shall be set to 0 in all BlockAck and BlockAckReq frames transmitted as part of theHT-immediate agreement.In a DMG BSS, if the Compressed Bitmap subfield of the BAR Control field within a BlockAckReq framerelated to an HT-immediate agreement is equal to 0, then all the following BlockAck and BlockAckReqframes transmitted as part of the HT-immediate agreement shall have the Compressed Bitmap subfield ofthe BA Control and BAR Control fields set to 0. In this case, the Multi-TID subfield of the BA Control fieldand BAR Control field shall be set to 1 in all BlockAck and BlockAckReq frames transmitted as part of theHT-immediate agreement


page 270
9.21.7 HT-immediate Block Ack extensions9.21.7.2 HT-immediate Block Ack architectureInsert the following subclause title immediately after the title of 9.21.7.2 for all the existing subclause text(   The HT-immediate Block Ack rules     the HT-immediate Block Ack agreement is still active.   )(including Figure 9-28):9.21.7.2.1 IntroductionInsert the following subclause, 9.21.7.2.2, after 9.21.7.2.1:9.21.7.2.2 Data and acknowledgment transferUnder a BA agreement, the Normal ACK policy may be used in order to improve efficiency. STAs shallrespond with an ACK to the reception of frames that are covered by a BA agreement, but that are not part ofan A-MPDU and that are received with their Ack Policy subfield in the QoS Control field equal to NormalAck. The Block Ack record shall be updated irrespective of the acknowledgment type (Normal or Block ACK)for the TID/TSID with a Block Ack agreement. The reception of QoS data frames using Normal Ack policy shall not be used by the recipient as anindication to reset the timer employed in detecting a Block Ack timeout (see 10.5). The Block Ack timeoutallows the recipient to delete the Block Ack if the originator does not switch back to using Block Ack. Change the title of 9.21.7.5 as follows:9.21.7.5 Generation and transmission of BlockAck by an HT or DMG STA9.21.7.6 Receive reordering buffer control operation9.21.7.6.2 Operation for each received data MPDUChange list item a) 2) of the first paragraph in 9.21.7.6.2 as follows:a)If WinStartB  SN  WinEndB,2)Pass MSDUs or A-MSDUs up to the next MAC process if they that are stored in the buffer inorder of increasing value of the Sequence Number subfield starting with the MSDU or A-MSDU that has SN=WinStartB or one of the following conditions is met for a DMG STA ifSN>WinStartB:i)The MPDU is received as non-first frame in the A-MPDU; the bit at positionSN=WinStartR    1 is set to 1; and all delimiters between the received MPDU and thepreceding MPDU (SN=WinStartR    1) are valid. ii)The MPDU is received as first frame in the A-MPDU; the A-MPDU is received in SIFS orRIFS time after an A-MPDU or in SIFS time after transmission of a BA frame; the bit atposition SN=WinStartR    1 is set to 1; and all delimiters after the MPDU(SN=WinStartR   1) in the preceding A-MPDU are valid. iii)The MPDU is received in SIFS or RIFS time after an A-MPDU or in SIFS time aftertransmission of a BA frame; the bit at position SN=WinStartR    1 is set to 1; and alldelimiters after the MPDU (SN=WinStartR    1) in the preceding A-MPDU are valid


page 271
243iv)The MPDU is received as first frame in the A-MPDU; the A-MPDU is received in SIFS orRIFS time after an MPDU or in SIFS time after transmission of an Ack frame; and the bitat position SN=WinStartR    1 is set to 1.v)The MPDU is received in SIFS or RIFS time after the preceding MPDU or in SIFS timeafter transmission of an Ack frame; and the bit at position SN=WinStartR    1 is set to 1.This process is continued and proceeding sequentially until there is no buffered MSDU or A-MSDU for the next sequential value of the Sequence Number subfield.Change list item b) 5) of the first paragraph of 9.21.7.6.2 as follows:b)If WinEndB < SN < WinStartB+211,5)For a non-DMG STA, pPass MSDUs or A-MSDUs stored in the buffer up to the next MACprocess in order of increasing value of the Sequence Number subfield starting with WinStartBand proceeding sequentially until there is no buffered MSDU or A-MSDU for the nextsequential Sequence Number subfield value. For a DMG STA, follow rules defined in item a)2) above.9.21.7.7 Originator   s behaviorInsert the following paragraphs at the end of 9.21.7.7:The Originator that is a DMG STA shall construct A-MPDUs that contain MPDUs in increasing order ofSN. When responding to a Block Ack, the Originator shall first retransmit unacknowledged MPDUs inincreasing order of SN.The Originator that is a DMG STA shall not start a new TXOP or SP with an MPDU or A-MPDU that hasan ACK policy other than Normal ACK if at least one frame transmitted by the Originator to the Recipient inthe last PPDU did not require an immediate response.9.24 MAC frame processing9.24.3 Duration/ID field processingChange the first paragraph of 9.24.3 as follows:When the contents of a received Duration/ID field, treated as an unsigned integer and without regard foraddress values, type, and subtype (even when type or subtype contain reserved values), are less than 32 768,the duration value is used to update the network allocation vector (NAV) according to the proceduresdefined in 9.3.2.4, 9.33.10, or 9.19.3.4, as appropriate.9.25 Reverse Direction protocolInsert the following subclause, 9.25.0a, before 9.25.1:9.25.0a GeneralThe RD protocol may be supported by an HT STA and by a DMG STA. The normative behavior of the RDprotocol defined in this subclause applies to both types of STAs. For an HT STA, the RDG/More PPDUsubfield and the AC Constraint subfield are present in the HTC field, and for a DMG STA, the RDG/MorePPDU subfield and the AC Constraint subfield are present in the QoS Control field


page 272
9.25.1 Reverse Direction (RD) exchange sequenceChange item a) of the first paragraph of 9.25.1 as follows:a)The transmission of a PPDU by a TXOP holder or SP source containing an RD grant (the RDGPPDU), which is indicated by the PPDU containing one or more +HTC/DMG MPDUs in which theRDG/More PPDU subfield is equal to 1. The STA that transmits this PPDU is known as the RDinitiator. The rules for an RD initiator apply only during a single RD exchange sequence, i.e., afterthe transmission of an RDG PPDU and up to the end of the last PPDU in the RD exchange sequence.Change the note after the first paragraph in 9.25.1 as follows:NOTE  An RD initiator might include multiple RD exchange sequences within a single TXOP or SP. Each RDexchange sequence within a single TXOP or SP might be addressed to a different recipient, and any single recipientmight be given more than one RDG within a single TXOP or SP.9.25.2 Support for RDChange 9.25.2 as follows:Support of the RD feature is an option for an HT STA and a DMG STA. It is optional in the sense that aTXOP holder or SP source is never required to generate an RDG, and a STA receiving an RDG is neverrequired to use the grant.An HT STA indicates sSupport of the RD feature as an RD responder is indicated using the RD Respondersubfield of the HT Extended Capabilities field of the HT Capabilities element. A STA shall set the RDResponder subfield to 1 in frames that it transmits containing the HT Capabilities element ifdot11RDResponderOptionImplemented is true. Otherwise, the STA shall set the RD Responder subfieldto0.A DMG STA indicates support of the RD feature using the Reverse Direction subfield of the DMG STACapability Information field of the DMG Capabilities element. A STA shall set the Reverse Directionsubfield to 1 in frames that it transmits containing the DMG Capabilities element ifdot11RDResponderOptionImplemented is true. Otherwise, the STA shall set the Reverse Direction subfieldto 0.9.25.3 Rules for RD initiatorChange the third to sixth paragraphs in 9.25.3 as follows:Transmission of a +HTC/DMG frame by an RD initiator with the RDG/More PPDU subfield equal to 1(either transmitted as a non-A-MPDU frame or within an A-MPDU) indicates that the duration indicated bythe Duration/ID field is available for the RD response burst and RD initiator final PPDU (if present).An RD initiator that sets the RDG/More PPDU field to 1 in a +HTC/DMG frame shall set the AC Constraintsubfield to 1 in that frame if the allocation is a TXOP and the TXOP was gained through the EDCA channelaccess mechanism and shall otherwise set it to 0.An RD initiator shall not transmit a +HTC/DMG frame with the RDG/More PPDU subfield set to 1 thatrequires a response MPDU that is not one of the following:  Ack  Compressed BlockAc


page 273
245Subject to TXOP or SP constraints, after transmitting an RDG PPDU, an RD initiator may transmit its nextPPDU as follows:a)Normal continuation: The RD initiator may transmit its next PPDU a minimum of a SIFS afterreceiving a response PPDU that meets one of the following conditions:1)Contains one or more correctly received +HTC/DMG frames with the RDG/More PPDUsubfield equal to 0, or2)For an HT STA, cContains one or more correctly received frames that are capable of carryingthe HT Control field but did not contain an HT Control field, or3)Contains a correctly received frame that requires an immediate response, or4)For a DMG STA, none of the correctly received frames in the PPDU carry the QoS Controlfield.b)Error recovery: The RD initiator may transmit its next PPDU when the CS mechanism (see 9.3.2.2)indicates that the medium is idle at the TxPIFS slot boundary (defined in 9.3.7) (this transmission isa continuation of the current TXOP or SP).Change and number the following note, and insert a new note at the end of 9.25.3:NOTE 1  In a non-DMG network tThe RD initiator can transmit a CF-End frame according to the rules for TXOPtruncation in 9.19.2.7 following a RD transmit sequence. An RD responder never transmits a CF-End.NOTE 2  In a DMG network, the RD initiator can transmit a CF-End frame according to the rules for TXOP truncationin 9.19.2.7 or SP truncation in 9.33.8, as appropriate, following a RD transmit sequence. An RD responder nevertransmits a CF-End.9.25.4 Rules for RD responderChange 9.25.4 as follows:An RD responder shall transmit the initial PPDU of the RD response burst a SIFS after the reception of theRDG PPDU. PPDUs in a response burst are separated by SIFS or RIFS. The RIFS rules in the RD are thesame as in the forward direction; the use of RIFS is constrained as defined in 9.3.2.3.2 and 9.23.3.3.NOTE  The transmission of a response by the RD responder does not constitute a new channel access but acontinuation of the RD initiator   s TXOP or SP. An RD responder ignores the NAV when responding to an RDG.The recipient of an RDG may decline the RDG by  Not transmitting any frames following the RDG PPDU when no response is otherwise required, or  Transmitting a control response frame with the RDG/More PPDU subfield set to 0, or  Transmitting a control response frame that contains no HT Control fieldAn RD responder that is a non-DMG STA may transmit a +CF-ACK non-A-MPDU frame in response to anon-A-MPDU QoS Data +HTC MPDU that has the Ack Policy field set to Normal Ack and the RDG/MorePPDU subfield equal to 1.The RD responder shall ensure verify that its PPDU transmission(s) and any expected responses fit entirelywithin the remaining TXOP or SP duration, as indicated in the Duration/ID field of MPDUs within the RDGPPDU.An RD responder shall not transmit an MPDU (either individually or aggregated within an A-MPDU) that isnot one of the following:  ACK  Compressed BlockAc


page 274
  Compressed BlockAckReq  QoS data  ManagementIf the AC Constraint subfield is equal to 1, the RD responder shall transmit data frames of only the same ACas the last frame received from the RD initiator. For a BlockAckReq or BlockAck frame, the AC isdetermined by examining the TID field. For a management frame, the AC is AC_VO. The RD initiator shallnot transmit a +HTC/DMG MPDU with the RDG/More PPDU subfield set to 1 from which the AC cannotbe determined. If the AC Constraint subfield is equal to 0, the RD responder may transmit data frames of anyTID.During an RDG, the RD responder shall not transmit any frames with an Address 1 field that does not matchthe MAC address of the RD initiator.If an RDG PPDU also requires an immediate BlockAck response, the BlockAck response frame shall beincluded in the first PPDU of the response.When a PPDU is not the final PPDU of a response burst, an HT Control field carrying the RDG/More PPDUsubfield set to 1 shall be present in every MPDU within the PPDU capable of carrying the HT Control field,or if the PPDU is transmitted in a DMG BSS, the RDG/More PPDU subfield within the QoS Control fieldshall be set to 1 in every MPDU within the PPDU. The last PPDU of a response burst shall have the RDG/More PPDU subfield set to 0 in all +HTC/DMG MPDUs contained in that PPDU.The RD responder shall not set the RDG/More PPDU subfield to 1 in any MPDU in a PPDU that contains anMPDU that requires an immediate response.NOTE  If the RD responder transmits a PPDU that expects a transmission by the RD initiator after SIFS and no suchtransmission is detected, the RD responder has to wait for either another RDG or its own TXOP or SP before it can retrythe exchange.After transmitting a PPDU containing one or more +HTC/DMG MPDUs in which the RDG/More PPDUsubfield is equal to 0, the RD responder shall not transmit any more PPDUs within the current responseburst.NOTE 1  If an RD-capable STA that is not the TXOP holder or SP source receives a PPDU that does not indicate anRDG, there is no difference in its response compared to a STA that is not RD-capable.NOTE 2  The RD responder can set the RDG/More PPDU subfield to 1 in response to a frame sent by the RD initiatorthat has the RDG/More PPDU subfield equal to 0.9.26 PSMP operationInsert the following subclause, 9.26.0a, before 9.26.1:9.26.0a GeneralA DMG STA shall not use PSMP


page 275
2479.32 Mesh forwarding frameworkInsert the following subclauses, 9.33 through 9.39.4 (including Figure 9-43 through Figure 9-80 andTable 9-16), after 9.32.9:9.33 DMG channel access9.33.1 GeneralChannel access by a DMG STA occurs during beacon intervals and is coordinated using a schedule. A DMGSTA operating as a PCP or AP generates the schedule and communicates it to STAs using DMG Beacon andAnnounce frames. A non-PCP STA that is a non-AP STA and that receives scheduling information accessesthe medium during the scheduled periods using the access rules specific to that period. Medium access rulesto establish a BSS are defined in 9.34 and 10.1.4.In the ATI, a non-PCP/non-AP STA shall be ready to receive a transmission from the PCP/AP at leastRxAdvanceTime before the expected transmission of a request frame. The destination STA of an SP shall beready to receive a transmission from the source STA of the SP at least RxAdvanceTime before the start ofthe SP. A STA that participates in a CBAP shall be ready to receive a transmission within the CBAP at leastRxAdvanceTime before the start of the CBAP plus DIFS. In the A-BFT, the PCP/AP should be ready toreceive a transmission from a non-PCP/non-AP STA at least RxAdvanceTime before the start of an SSWslot. In all the preceding rules, RxAdvanceTime is defined as follows:RxAdvanceTime  = ceiling ([ClockAccuracy (ppm)    10-6]    DriftInterval + aAirPropagationTime, aTSFResolution)whereDriftInterval is the time elapsed since a synchronizing reference event. The synchronizingevent is the reception of the Timestamp field from the PCP/AP.9.33.2 Access periods within a beacon intervalMedium time within a DMG BSS is divided into beacon intervals. Subdivisions within the beacon intervalare called access periods. Different access periods within a beacon interval have different access rules. Theaccess periods are described in a schedule that is communicated by the PCP or AP to the non-PCP and non-AP STAs within the BSS. The schedule communicated by the PCP or AP can include the following accessperiods:   BTI: An access period during which one or more DMG Beacon frames is transmitted. Not all DMGBeacon frames are detectable by all non-PCP and non-AP STAs. Not all beacon intervals contain aBTI. A non-PCP STA that is a non-AP STA shall not transmit during the BTI of the BSS of which itis a member.   A-BFT: An access period during which beamforming training is performed with the STA thattransmitted a DMG Beacon frame during the preceding BTI. The presence of the A-BFT is optionaland signaled in DMG Beacon frames.  ATI: A request-response based management access period between PCP/AP and non-PCP/non-APSTAs. The presence of the ATI is optional and signaled in DMG Beacon frames.   DTI: An access period during which frame exchanges are performed between STAs. There is asingle DTI per beacon interval. The DTI, in turn, comprises contention-based access periods (CBAPs) and scheduled service periods (SPs)


page 276
Figure9-43 illustrates an example of access periods within a beacon interval comprising a BTI, an A-BFT,an ATI, and two CBAPs and SPs within the DTI. Any combination in the number and order of SPs andCBAPs can be present in the DTI. The details of the access protocol within each of the access periods are described in the remainingsubclauses of 9.33 and within 9.35.9.33.3 ATI transmission rulesThe presence of an ATI in the current beacon interval is signaled by the ATI Present field set to 1 in thecurrent DMG Beacon (8.3.4.1). The Next DMG ATI element (8.4.2.137) transmitted in the Announce frameor in the DMG Beacon frame indicates the earliest start time for the next ATI in a subsequent beaconinterval and ATI duration. An example of an ATI is shown in Figure9-44. During an ATI, request and response frames are exchanged between the PCP/AP and any subset of STAs.The PCP/AP initiates all frame exchanges that occur during the ATI. The ATI shall not start sooner thanMax(guard time, MBIFS) following the end of the previous A-BFT when an A-BFT is present in the beaconinterval or following the end of the previous BTI when an A-BFT is not present but a BTI is present in theBeacon IntervalTimeBTIATIA-BFTDTICBAP 1SP 1SP 2CBAP 2BHIFigure 9-43  Example of access periods within a beacon intervalRequest1ATIPCP/AP:STA:STA 1STA 2STA NRequest2Response 2Request NResponse NACK. . .ACKFigure 9-44  Example of frame exchanges during the AT


page 277
249beacon interval. The ATI shall not start before TBTT if the ATI is the first period in the beacon interval (theATI is never the first period in the beacon interval in an infrastructure BSS; see 10.1.2.1). Once the ATIstarts, the PCP/AP may start transmission of a request frame immediately or it may delay the transmission ofthe request frame if the medium is determined by the CCA mechanism to be busy. During each ATI the PCP/AP shall schedule transmissions to a non-PCP/non-AP STA if the non-PCP/non-AP STA Heartbeat field in the STA   s DMG Capabilities element within the Association Request frame ofthe last successful association attempt is 1 and the non-PCP/non-AP STA is in the Awake state. If the non-PCP/non-AP STA does not respond to the frame transmitted by the PCP/AP, the PCP/AP shall use the DMGControl modulation class (9.7.5a.1) at its next transmission attempt to the non-PCP/non-AP STA. The PCP/AP shall use the DMG Control modulation class for all subsequent transmissions to the non-PCP/non-APSTA until it receives a valid frame from the non-PCP/non-AP STA.A non-PCP/non-AP STA shall not transmit during the ATI except in response to a received individuallyaddressed frame whose TA field contains the PCP/AP   s MAC address and whose RA field contains theSTA   s MAC address. During the ATI STAs shall not transmit frames that are not request or response frames. Request andresponse frames transmitted during the ATI shall be one of the following:  A frame of type Management  An ACK frame  A Grant, Poll, RTS or DMG CTS frame when transmitted as a request frame  An SPR or DMG CTS frame when transmitted as a response frame  A frame of type Data only as part of an authentication exchange to reach a RSNA securityassociation NOTE  The Announce frame is designed to be used primarily during the ATI and can perform functions of a DMGBeacon frame.The transmission of Poll frames during the ATI follows the rules described in 9.33.7. The Response Offsetfield within a Poll frame transmitted during the ATI shall be set to 0.Individually addressed request frames transmitted during the ATI shall not be sent using managementframes of subtype action no ACK. During the ATI, after a PCP/AP transmits an individually addressed request frame (such as an Announceframe) to a non-PCP/non-AP STA, and the STA receives that frame, the STA shall transmit a responseframe addressed to the PCP/AP. The transmission of the response frame shall commence one SIFS periodafter the successful reception of the request frame. The PCP/AP shall interpret the receipt of the responseframe as an acknowledgment of the request frame. Response frames transmitted by non-PCP/non-AP STAsduring the ATI shall be individually addressed to the PCP/AP. NOTE  STAs do not transmit a response frame to the PCP/AP when they receive a request frame from the PCP/APwith the RA equal to a group address (see 9.3.2.9 and 9.3.6).The Duration field of a request frame transmitted during the ATI shall be set to cover the remaining durationof the ATI at the end of the request frame transmission. The Duration field of a response frame transmittedduring the ATI shall be set to the value of the Duration field within the previously received request frameminus SIFS and minus the duration of the response frame transmission. When a transmission by a STA is expected by a PCP/AP and a SIFS period elapses without its receipt, thePCP/AP may either repeat its individually addressed transmission to that STA or, as early as one PIFS afterthe end of its previous transmission, transmit a frame to any other STA


page 278
NOTE  If acknowledgment is required, the PCP/AP transmits an ACK frame to acknowledge the reception of aresponse frame during the ATI (see Figure9-44).Multiple request and response frame exchanges between the PCP/AP and a STA might occur during a singleATI. During the ATI the PCP/AP should schedule transmissions to non-PCP/non-AP STAs in power save modebefore transmissions to non-PCP/non-AP STAs that are not in power save mode.9.33.4 DTI transmission rulesDuring the DTI, a STA may transmit frames (following the DMG channel access rules) if any of thefollowing conditions are met: a)During a CBAP for which the STA is identified or included as source or destination(9.33.6.3,9.33.7, and 9.33.8) b)During an SP for which the STA is identified as source or destination (9.33.6.2 and 9.33.7)and shall not transmit if none of these conditions are met. A STA initiating data transfer shall check that thetransaction, including acknowledgments, completes before the end of the CBAP or SP in which it wasinitiated. When the entire DTI is allocated to CBAP (that is, the CBAP Only field is 1 in the DMG Parameters field),the ATI Present field within the DMG Beacon containing the DMG Parameters field shall be set to 0. Non-PCP/non-AP DMG STAs shall be capable of processing the Poll and Grant frames and the ExtendedSchedule element. A PCP/AP shall be capable of processing the SPR frame transmitted by a non-PCP/non-AP STA and responding to a SPR frame with a Grant frame. The DMG low-power SC PHY (21.7) may be used only within SPs that have the LP SC Used subfieldwithin the Extended Schedule element equal to 1 and shall not be used otherwise. A STA supports the DMGlow-power SC PHY if the Low-Power SC PHY Supported subfield within its DMG Capabilities element is1. A STA that supports the DMG low-power SC PHY shall not transmit a PPDU using the DMG low-powerSC PHY unless the STAs identified in the RA field of all MPDUs contained within the PPDU support theDMG low-power SC PHY. A STA can use the procedure described in 10.29.1 to discover the capabilities ofanother STA. 9.33.5 Contention-based access period (CBAP) transmission rulesThe definition of contention-based transmission rules used within a CBAP is provided in 9.3 and in 9.19.This subclause specifies additional rules applicable to the CBAP. A STA shall not transmit within a CBAP unless at least one of the following conditions is met:  The value of the CBAP Only field is equal to 1 and the value of the CBAP Source field is equal to 0within the DMG Parameters field of the DMG Beacon that allocates the CBAP  The STA is a PCP/AP and the value of the CBAP Only field is equal to 1 and the value of the CBAPSource field is equal to 1 within the DMG Parameters field of the DMG Beacon that allocates theCBAP  The value of the Source AID field of the CBAP is equal to the broadcast AID  The STA   s AID is equal to the value of the Source AID field of the CBAP  The STA   s AID is equal to the value of the Destination AID field of the CBA


page 279
251If a STA   s AID is equal to the value of the Source AID field of a CBAP allocation or if a STA performs inthe role of PCP/AP and both the CBAP Only and CBAP Source fields are equal to 1 in the DMG Beaconthat allocates a CBAP, the STA may initiate a frame transmission within the CBAP immediately after themedium is determined to be idle for one PIFS period. A BF initiator (9.35) should not initiate an SLS phase within a CBAP if there is not enough time within theCBAP to complete the SLS phase. A STA shall not extend a transmission frame exchange sequence that started during a CBAP beyond the endof that CBAP. A STA that initiates a sequence shall check that the frame exchange sequence, including anycontrol frame responses, completes before the end of the CBAP. At the beginning of a TXOP with a TXOP responder that has the Heartbeat field in the TXOP responder   sDMG Capabilities element equal to 1, the following rules apply:  The TXOP holder shall transmit a frame to the TXOP responder using the DMG Control modulationclass before it uses any other modulation class for transmission if the time elapsed since the lastframe received from the TXOP responder is larger than or equal to the Heartbeat Elapsed Timevalue computed using the Heartbeat Elapsed Indication field within the TXOP responder   s DMGCapabilities element.  The TXOP holder may transmit a frame using a modulation class other than the DMG Controlmodulation class at the start of the TXOP if the time elapsed since the last frame received from theTXOP responder is shorter than the Heartbeat Elapsed Time value computed using the HeartbeatElapsed Indication field within the TXOP responder   s DMG Capabilities element.The frame sent by the STA at the beginning of the TXOP may be an RTS or a DMG CTS-To-Self. Within a CBAP a STA with multiple DMG antennas should use only one DMG antenna in its frametransmission, CCA and frame reception, except if it is the initiator or responder in an SLS (9.35). Thealgorithm to select a DMG antenna and switch the active DMG antenna is implementation dependent.Within CBAPs a STA that changed to a different DMG antenna in order to transmit should perform CCA onthat DMG antenna until a frame sequence is detected by which it can correctly set its NAV, or until a periodof time equal to the dot11DMGProbeDelay has transpired, whichever is earlier. 9.33.6 Channel access in scheduled DTI9.33.6.1 GeneralThe PCP/AP schedules each allocation with a specified start time from the TSF and with a fixed duration.An allocation can be an SP, where ownership of channel time is granted to a single STA, or a CBAP, whereSTAs can compete for channel access. The PCP/AP shall reference the start time of each allocation from theTSF. The PCP/AP may schedule SPs or CBAPs only during the DTI of a beacon interval, following the end of anallocated BTI, A-BFT, and ATI when any of these periods are present in the beacon interval. The schedule of the DTI of a beacon interval is communicated through the Extended Schedule element. ThePCP/AP shall transmit the Extended Schedule element in either or both an Announce frame or a DMGBeacon frame. The Extended Schedule element shall contain the scheduling information of all allocations inthe DTI. The same Allocation field shall not appear more than once in the Extended Schedule elementtransmitted in a beacon interval. The content of the Extended Schedule element communicated in a beaconinterval shall not change if transmitted more than once in the beacon interval, except that if the STAtransmitting the Extended Schedule element is a PCP with multiple DMG antennas then the value of thePCP Active field of CBAP allocations within the Extended Schedule element might change when thi


page 280
element is transmitted through different DMG antennas. The PCP/AP should schedule SPs for a STA suchthat the scheduled SPs do not overlap in time with the traffic scheduling constraints indicated by this STA inthe TSCONST field of the associated DMG TSPEC element. When scheduling a nonpseudo-static SP or changing the start time of an existing pseudo-static SP that has anon-PCP/non-AP STA as a source DMG STA or as a destination DMG STA of the SP, a PCP/AP shall setthe start time of the SP to no less than aMinAllocationDeliveryTime after the last Extended Scheduleelement containing this SP is transmitted by the PCP/AP. NOTE  This rule does not apply to the case when a PCP/AP schedules a new pseudo-static SP.An SP or CBAP allocation within an Extended Schedule element may comprise one or more individualallocations. The start time of each individual allocation of an SP or CBAP is given by (A_start + (i    1)    A_period)whereA_start is the value of the Allocation Start field for the SP or CBAPA_period is the value of the Allocation Block Period field for the SP or CBAPi is an integer greater than 0 and less than or equal to the value of the Number of Blocks field forthe SP or CBAPThe end of the ith individual SP or CBAP allocation is computed by adding the start time of the ith individualallocation to the value of the Allocation Block Duration field for the corresponding SP or CBAP allocation. If the PCP Active subfield in the Allocation field for an allocation within an Extended Schedule element is1, the PCP shall be in the receive state for the duration of that allocation, except when transmitting duringthat allocation. The AP shall set the PCP Active field to one for every allocation within an ExtendedSchedule element transmitted by the AP. 9.33.6.2 Service period (SP) allocationThe PCP/AP shall set the AllocationType subfield to 0 in an Allocation field within an Extended Scheduleelement to indicate an SP allocation. An SP is assigned to the source DMG STA identified in the Source AID subfield in an Allocation fieldwithin the Extended Schedule element. The source DMG STA shall initiate the frame exchange sequencethat takes place during the SP at the start of the SP, except when the source DMG STA intends to establish aDMG Protected Period in which case the rules described in 9.33.6.6 shall be followed before the sourceDMG STA initiates the frame exchange in the SP. The SP allocation identifies the TC or TS for which theallocation is made; however, the type of traffic transmitted is not restricted to the specified TC or TS(10.4.1). Except when transmitting a frame as part of the SP recovery procedure (9.33.6.7) or transmitting a responseto the source DMG STA or transmitting a PPDU as part of a RD response burst (9.25), the STA identified bythe Destination AID field in the Extended Schedule element should be in the receive state for the duration ofthe SP in order to receive transmissions from the source DMG STA. If the Destination AID field of thescheduled SP is equal to the broadcast AID and if the Source AID field of the scheduled SP is not equal tothe broadcast AID, then all STAs on the PBSS/infrastructure BSS should be in the receive state in order toreceive transmissions from the source DMG STA for the duration of the SP. Subclause 9.33.7 describes therules for when the scheduled SP has both the Source and Destination AID fields equal to the broadcast AID. Only a STA identified as the source DMG STA or destination DMG STA of an SP shall transmit during theSP, except when the rules in 9.33.7, 9.33.8, or 9.33.9 are used


page 281
253At the beginning of an SP, except when the source DMG STA intends to establish a DMG Protected Periodin which case the rules described in 9.33.6.6 shall be followed before the source DMG STA initiates theframe exchange in the SP, a source DMG STA shall transmit a frame to the destination DMG STA using theDMG Control modulation class before it uses any other modulation class for transmission if the Heartbeatfield in the destination DMG STA   s DMG Capabilities element is 1. The frame sent by the STA may be anRTS or a DMG CTS-To-Self. The frame sent by the STA may be a SSW frame or a BRP packet if the STAis performing beamforming (9.7.5a.5). At the beginning of an SP, a destination DMG STA shall transmit a frame to the source DMG STA using theDMG Control modulation class before it uses any other modulation for transmission if the Heartbeat field inthe source DMG STA   s DMG Capabilities element is 1 and the frame sent by the destination DMG STA isthe unsolicited DMG DTS as first frame in the SP of the STA performing DMG Protected Period (9.33.6.6).Any MAC entity coordinated by an MM-SME that belongs to an MMSL cluster identified by the SourceAID and Destination AID that are equal to, respectively, the Source AID and Destination AID of theAllocation field in the Extended Schedule element that allocates the SP may transmit during the SP, if theSTA sent an MMS element to the peer STA and the BeamLink Cluster field within the MMS element is 1. The PCP/AP may create SPs in its beacon interval with the source and destination AID subfields within anAllocation field set to 255 to prevent transmissions during specific periods in the beacon interval. The PCP/AP shall set the Beamforming Training subfield to one in the Allocation field for an SP within anExtended Schedule element to indicate that the source DMG STA of this SP initiates beamforming trainingwith the destination DMG STA at the start of that SP. The source DMG STA and destination DMG STA ofthe SP shall perform beamforming training as described in 9.35. If the PCP Active subfield is 0 in the Allocation field for an SP within an Extended Schedule element,neither the destination DMG STA of the SP nor the source DMG STA of the SP shall transmit to the PCPduring the SP if none of the STAs are the PCP.In no case shall the source or destination DMG STA extend a transmission frame exchange sequence thatstarted during an SP beyond the end of that SP. A STA that initiates a sequence shall check that the frameexchange sequence, including any control frame responses, completes before the end of the SP.When scheduling two adjacent SPs, the PCP/AP should allocate the SPs separated by at leastaDMGPPMinListeningTime if one or more of the source or destination DMG STAs participate in both SPs. Except for frames used for beamforming as described in 9.35, the source of an SP may retransmit a framePIFS after the end of the frame transmission in case a response frame is expected from the destination DMGSTA and a SIFS period elapses without receipt of the expected transmission. The source DMG STA can relinquish the remainder of an SP to the destination DMG STA by sending aGrant frame to the destination DMG STA (9.33.7.3). 9.33.6.3 Contention-based access period (CBAP) allocationThe PCP/AP shall set the AllocationType subfield to 1, the Source AID subfield to the broadcast AID or tothe AID of the source of the CBAP, and the Destination AID subfield to the broadcast AID or to the AID ofthe destination of the CBAP in an Allocation field within an Extended Schedule element to indicate a CBAPallocation.All CBAPs are allocated by the PCP/AP, except when allocated by a non-PCP/non-AP STA with thetransmission of a Grant frame following an SP truncation (9.33.8). Multiple CBAPs may be present in abeacon interval, with the location and duration of each determined by the PCP/AP and announced in th


page 282
Extended Schedule element. When only one CBAP is present and no other allocations exist for the DTI, thenthe PCP/AP shall announce the presence of the CBAP by setting the CBAP Only field to 1 in the DMGParameters field of the DMG Beacon. If at least one non-CBAP allocation is present, or more than oneCBAP are present, or no allocations are present within a DTI, then the PCP/AP shall set the CBAP Onlyfield to 0 in the DMG Parameters field in the DMG Beacon transmitted during the BTI. The PCP/AP shallset the CBAP Only field to 0 in the DMG Parameters field within a transmitted DMG Beacon if the DMGBeacon contains at least one Extended Schedule element. When the entire DTI is allocated to CBAP through the CBAP Only field in the DMG Parameters field, thenthat CBAP is pseudo-static and exists for dot11MaxLostBeacons beacon intervals following the mostrecently transmitted DMG Beacon that contained the indication, except if the CBAP is canceled by thetransmission by the PCP/AP of a DMG Beacon with the CBAP Only field of the DMG Parameters fieldequal to 0 or an Announce frame with an Extended Schedule element. A guard time (9.33.6.5) precedes aCBAP that is allocated through the CBAP Only field equal to 1. Channel access during a CBAP shall follow the rules described in 9.33.5.9.33.6.4 Pseudo-static allocationsAn SP or CBAP allocation is pseudo-static if the Pseudo-static field in the Allocation control field for the SPor CBAP is 1, or when the Extended Schedule element is not used and the CBAP Only field within the DMGParameters field of the DMG Beacon frame is 1 (9.33.6.3). A pseudo-static SP or CBAP recurs at the samerelative offset to TBTT and with the same duration in up to dot11MaxLostBeacons beacon intervalsfollowing the last received Extended Schedule element containing the pseudo-static allocation or DMGBeacon with the CBAP Only field equal to 1. A STA might fail to receive up to dot11MaxLostBeacons minus 1 Extended Schedule elements or DMGBeacon with the CBAP Only field equal to 1 in consecutive beacon intervals and still may access thechannel during the pseudo-static SP or CBAP. The STA shall cease transmission during a pseudo-staticallocation if it fails to receive an Extended Schedule element or DMG Beacon with the CBAP Only fieldequal to 1 for dot11MaxLostBeacons consecutive beacon intervals. The PCP/AP may change the offset relative to TBTT or the duration of a pseudo-static allocation bytransmitting a modified Allocation field in an Extended Schedule element before dot11MaxLostBeaconsbeacon intervals from the last transmitted Extended Schedule element. The PCP/AP may delete a pseudo-static allocation by transmitting an Extended Schedule element that does not include an allocation fieldcontaining that allocation   s TID, source AID, and destination AID before the completion ofdot11MaxLostBeacons beacon intervals from the last transmitted Extended Schedule element. In eithercase, the PCP/AP should not schedule a new allocation that overlaps with the previous pseudo-staticallocation for a minimum of dot11MaxLostBeacons beacon intervals unless both the new and previousallocation are for a CBAP or the new allocation identifies the same source DMG STA as the originalpseudo-static allocation.To maintain the same position of the allocation with respect to the start of a beacon interval, the value of theAllocation Block Period subfield within an Allocation field of the Extended Schedule element shall be set tobe an integer multiple or submultiple of the beacon interval duration. If the destination DMG STA of a pseudo-static allocation receives an Extended Schedule element with anAllocation field that indicates a change in the schedule of the pseudo-static allocation, the STA should enterreceive state during the new pseudo-static allocation and may enter receive state during the previousallocation to account for the time it can take the source DMG STA of the allocation to receive the updatedschedule


page 283
2559.33.6.5 Guard timeGuard time is the time between the end of one allocation and the start of the following allocation, providedthese allocations are not under spatial sharing (10.31). For the purpose of guard time insertion, an allocationis defined as an SP, a CBAP, and a BTI or A-BFT or ATI that is immediately followed by a CBAP allocatedthrough the CBAP Only field (9.33.6.3). Guard times are used to keep transmissions in adjacent allocationsfrom colliding. Figure9-45 shows an example of the insertion of the guard time such that the allocations areseparated by at least the guard time, in case the STAs participating in the adjacent allocations drift towardseach other   s allocation. The PCP/AP inserts a sufficient guard time between adjacent allocations to insure that transmissions inadjacent allocations do not overlap in time. For each of the adjacent allocations, guard times are calculatedbased on the worst case drift and the maximum allowed number of lost DMG Beacons. The PCP/AP shallinsert a guard time between adjacent allocations that is not shorter thanGuardTime = ceiling((MLBAllocation_i + 1)    ([ClockAccuracy (ppm)    10-6]    DriftIntervalAllocation_i) + (MLBAllocation_i+1 + 1)    ([ClockAccuracy (ppm)    10-6]    DriftIntervalAllocation_i+1) + SIFS + aAirPropagationTime, aTSFResolution)whereThe value of MLBAllocation_i (and MLBAllocation_i+1) for each allocation depends on whether the allocationis pseudo-static. MLBAllocation_i (and MLBAllocation_i+1) is 0 for a nonpseudo-static allocation and is equal to dot11MaxLostBeacons if the allocation ispseudo-static.ClockAccuracy is equal to aClockAccuracy.DriftIntervalAllocation_i (and DriftIntervalAllocation_i+1) is the time elapsed since a synchronizing referenceevent and is not greater than the beacon interval. The synchronizing event is thereception of the Timestamp field from the PCP/AP. For a pseudo-staticallocation, DriftIntervalAllocation_i (and DriftIntervalAllocation_i+1) is equal to thebeacon interval.aAirPropagationTime accounts for the propagation delay between the STAs participating in theadjacent allocations.aTSFResolution is the resolution of the TSF timer (10.38).Desirable allocation N positionDesirable allocation N+1 positionLate estimate of allocation N positionEarly estimate of allocation N+1 positionGuard timeFigure 9-45  The guard tim


page 284
The function ceiling(x, y) shall return the value of x rounded towards positive infinity, with rounding to thenearest multiple of y. 9.33.6.6 DMG Protected Period9.33.6.6.1 IntroductionCommunicating STA pairs of neighboring PBSS/infrastructure BSS might be granted SPs that potentiallycreate interference for neighbor PBSS/infrastructure BSS STA pairs. SPs within a PBSS/infrastructure BSScan also experience such interference when spatial diversity conditions change. The intent of DMGProtected Period is to minimize such interference by allowing any pair of STAs to protect their SP andthereby limit the transmission of frames during the DMG Protected period to not more than one pair of a setof potentially interfering pairs of communicating stations.A DMG Protected Period can be created by the source DMG STA during an SP, and shall be created by thesource DMG STA if at least one of the following conditions is met:   The source DMG STA is the PCP/AP of the BSS, the ECPAC Policy Enforced subfield within theDMG Parameters field of the last DMG Beacon frame transmitted by the source DMG STA is equalto 1, and the Protected Period Enforced field within the ECPAC Policy Detail field of the lastECPAC Policy element transmitted by the source DMG STA is equal to 1.  The source DMG STA is not the PCP/AP of the BSS, the ECPAC Policy Enforced subfield withinthe DMG Parameters field of the last DMG Beacon frame received by the source DMG STA fromthe PCP/AP of the BSS is equal to 1, and the Protected Period Enforced field within the ECPACPolicy Detail field of the last ECPAC Policy element received by the source DMG STA from thePCP/AP of the BSS is equal to 1.Both the source DMG STA and destination DMG STA of an SP are owners of the DMG Protected Period.During any DMG Protected Period, both stations can receive frames from the other participant. A DMG STA that creates a DMG Protected Period during an SP in which it is a source DMG STA or adestination DMG STA moves to and stays in Listening Mode during time interval that starts before the startof the SP and remains in the Listening mode until it is allowed to use the SP. The actual duration of the timethe STA stays in the Listening Mode is limited by the aDMGPPMinListeningTime parameter. The intent ofthe Listening Mode is that the DMG STA listens to other DMG STAs that may have an SP that overlapswith the SP where the DMG STA is a source DMG STA or a destination DMG STA. The NAV mechanismis used to indicate the time occupancy and the DMG STA in the Listening Mode updates NAV timers. If theNAV timers are not equal to 0, the DMG STA does not use the time of the SP in which it is a source DMGSTA or a destination DMG STA. If none of the NAV timers has a nonzero value at the start of the SP, theDMG STA is allowed to leave the Listening Mode and use the SP. If at least one of the NAV timers has anonzero value at the start of the SP, the DMG STA is allowed to leave the Listening Mode and to use thetime remaining in the SP after all NAV timers become or already have value zero. Listening Mode is a mode of operation during which a DMG STA is in receiving state and meets at least oneof the following conditions:a)Its receiving antenna are in the quasi-omni mode.b)Its receiving antenna are directed to the peer DMG STA for which this DMG STA is either thedestination or source DMG STA.A DMG Protected Period is established through an RTS/DMG CTS handshake. To create a DMG ProtectedPeriod, the source DMG STA of an SP sends an RTS, and the recipient STA responds with a DMG CTS. Ifthe recipient STA responds with a DMG CTS, then a DMG Protected Period is established; otherwise, noDMG Protected Period has been established. In all cases of DMG Protected Period establishment, the sam


page 285
257antenna configurations that are used by the STAs that establish the DMG Protected Period are used for theexchange of frames during the DMG Protected Period.9.33.6.6.2 DMG Protected Period establishment and maintenanceA DMG STA that attempts to create a DMG Protected Period during an SP shall transition to ListeningMode not less than aDMGPPMinListeningTime before the attempt and shall remain in Listening Mode forat least aDMGPPMinListeningTime before making the attempt.  A STA shall not issue an RTS to establish a DMG Protected Period if any of its NAV timers is not equal tozero.A DMG STA that transmits an RTS to establish a DMG Protected Period during an SP in which it is a sourceDMG STA shall not transmit the RTS outside of the SP and the value of the Duration field of the RTS shallnot exceed the duration of the portion of the SP that remains following the RTS transmission. In order to maintain STAs that are not aware of the establishment of the DMG Protected Period because theyhave begun listening to the medium after the establishment of a DMG Protected Period, a STA thatestablished a DMG Protected period should transmit additional RTSs. An additional RTS should be sent atthe end of every (aDMGPPMinListeningTime    aRTSTimeoutTime) interval during the DMG ProtectedPeriod if the duration of the RTS/DMG CTS exchange is less than the time remaining in the SP. A DMG STA that transmitted an RTS that established a DMG Protected Period shall transmit data framesduring the DMG Protected Period using the same antenna configuration as was used for the transmission ofthe RTS.A DMG STA should transition to Listening Mode not less than aDMGPPMinListeningTime before the startof an SP in which it is the destination DMG STA. During an SP in which it is the destination DMG STA, a DMG STA that receives a valid RTS with the RAequal to the recipient DMG STA MAC address and the TA corresponding to the source DMG STA of the SPshall respond with a DMG CTS if the recipient DMG STA has been in Listening Mode foraDMGPPMinListeningTime at the start of the reception of the RTS and none of its NAV timers has anonzero value. During an SP in which it is the destination DMG STA, a DMG STA that receives a valid RTS with the RAequal to the recipient DMG STA MAC address and the TA corresponding to the source DMG STA of the SPshall not respond with a DMG CTS if at the start of the reception of the RTS the recipient DMG STA has anonzero value in at least one of its NAV timers or the recipient DMG STA has not been in Listening Modefor at least aDMGPPMinListeningTime. During an SP in which it is the destination DMG STA, a DMG STA that receives a valid RTS with the RAequal to the recipient DMG STA MAC address and the TA corresponding to the source DMG STA of the SPmay respond with a DMG DTS if at the start of the reception of the RTS the recipient DMG STA has anonzero value in at least one of its NAV timers. A DMG STA may transmit a DMG DTS after expiration of the aRTSTimeoutTime time following the startof an SP in which it is the destination DMG STA, if any of its NAV timers has a nonzero value at that timeand no RTS has been received from the source DMG STA of the SP and the DMG STA has been inListening Mode for aDMGPPMinListeningTime immediately preceding the start of transmission of theDMG DTS. The destination DMG STA shall not transmit a DMG DTS if any portion of the DMG DTSwould be transmitted outside of the SP


page 286
The value in the Duration field of a DMG DTS shall be calculated by subtracting the DMG DTStransmission time from the NAV timer in the destination DMG STA that has the largest value at the time ofthe start of the transmission of the DMG DTS. The NAV-DA and NAV-SA fields shall be set to the MACaddresses that identify the NAV timer in the destination DMG STA that was used to determine the Durationfield value of the DMG DTS.During an SP in which it is the destination DMG STA, a DMG STA that receives a valid RTS with the RAequal to the recipient DMG STA MAC address and the TA corresponding to the source DMG STA of the SPmay respond with a DMG DTS if at the start of the reception of the RTS the recipient DMG STA has notbeen in Listening Mode for at least aDMGPPMinListeningTime. The value of the Duration field of theDMG DTS sent by the recipient DMG STA shall include the difference of aDMGPPMinListeningTime andthe elapsed time since the recipient DMG STA has been in Listening Mode, and the NAV-SA and the NAV-DA fields of the DMG DTS shall contain the recipient DMG STA MAC address. A destination DMG STA that responds to an RTS with a DMG CTS or DMG DTS shall transmit theresponse frame a SIFS interval after the end of the received RTS. A destination DMG STA that transmitseither a DMG CTS or a DMG DTS shall use the same antenna configuration for the subsequent transmissionof ACK frames and data frames within the SP as is used for the transmission of the DMG CTS or DMGDTS.The source DMG STA of an SP can send a CF-End to the destination DMG STA of the SP to truncate aDMG Protected Period. Regardless of whether this CF-End is sent, a CF-End is also sent to the PCP/AP (see9.33.8).9.33.6.6.3 NAV Update in DMG Protected PeriodSTAs in the Listening Mode shall update their NAV timers according to the procedures described in9.33.10. NOTE  Support of multiple NAV timers as defined in 9.33.10 is not limited to be used in the Listening Mode only andis also used in any case a NAV update is performed. When an SP terminates, either through time allocation expiration or truncation, then the source DMG STAof that SP may reset any NAV timer to 0 that has an associated variable NAV_DTSCANCELABLE with avalue of true.9.33.6.6.4 Interference report A STA that receives an RTS and/or DMG CTS frame that updates the NAV and that overlaps in time withan SP where the STA is destination or source, may report the overlap to the PCP/AP by sending a DMGADDTS Request frame variant (8.5.3.3.2) and including in the DMG TSPEC element (8.4.2.136) theindication of interference in the TSCONST field (Figure8-401ag). Transmission of the DMG ADDTSRequest frame variant shall follow the rules defined in 10.4, with the following exceptions.The Allocation ID field of the DMG TSPEC element shall identify the allocation during which theinterference was detected. One ADDTS Request frame is generated and transmitted for each allocationduring which interference is detected. The TSCONST field of the DMG TSPEC element may contain one or more Traffic Scheduling Constraintfields. Each Traffic Scheduling Constraint field provides information separately for each overlapping NAVevent. The following NAV events should be reported: a)Nonzero NAV at start of SPb)Extension of NAV during the SP, including extension of an initial nonzero NAV and transitioning ofthe NAV from zero to nonzero value during the S


page 287
259c)Truncation of the NAV during the SPThe TSCONST Start Time field is set to the TSF value at which the NAV event is detected. For event a)above, the TSCONST Start Time field shall be set to the start of the SP. For event b) above, the TSCONSTStart Time field shall be set to the time the NAV timer was updated or initialized to the value reported in theTSCONST Duration field. For event c) above, the TSCONST Start Time field shall be set to the time theNAV timer was reset. The TSCONST Duration field shall be set to the NAV timer value at the TSCONST Start Time, which is thevalue zero for event c).The TSCONST Period shall be set to 0 indicating that the field is not applicable.The Interferer MAC Address shall be set to the NAVDST of the NAV timer from which the TSCONST StartTime was derived (9.33.10).All values conveyed in the TSCONST field shall refer to the allocation identified by the value of theAllocation ID field of the TSPEC. The value of other fields within the DMG TSPEC element shall conform to the rules specified in 10.4.Use of the information conveyed in the TSCONST field is outside the scope of this standard. 9.33.6.7 Service period recoveryWhen a non-PCP/non-AP STA fails to receive the Extended Schedule element for a beacon interval, thenon-PCP/non-AP STA has no knowledge of the nonpseudo-static SPs allocated during the beacon intervalthat indicate it is the source DMG STA; therefore, it fails to initiate transmission during those SPs. If thedestination of the nonpseudo-static SP is a PCP/AP and it does not receive any frames from the source non-PCP/non-AP STA for the dot11SPIdleTimeout interval from the start of the SP, the PCP/AP may truncatethe SP and use the mechanism described in 9.33.7 to reallocate the remaining duration of the SP to thesource DMG STA of the SP or other STAs provided that it was a truncatable SP. If the SP is not atruncatable SP, the PCP may stay awake or may switch to Doze state. If the non-PCP/non-AP STA failed toreceive the Extended Schedule element from the PCP/AP for that beacon interval, it may switch to Dozestate or may direct its receive antenna towards the PCP/AP to receive a Grant during nonpseudo-static SPsor CBAPs in the current beacon interval. A PCP/AP may reclaim the entire time allocated in an SP between two non-PCP/non-AP STAs if thefollowing two conditions are met:   The SP is announced within an Extended Schedule element transmitted during the ATI.  The PCP/AP does not receive a response frame from at least one of the source and destination non-PCP/non-AP STAs of that SP as part of the ATI exchange (9.33.3). In either case described in this subclause, the PCP/AP may reallocate the reclaimed SP time as a CBAP, SP,or take no further action. Otherwise, if none of these conditions apply, no time may be reclaimed. 9.33.7 Dynamic allocation of service period9.33.7.1 GeneralDynamic allocation of service period is employed to allocate channel time during scheduled SPs andCBAPs. The procedure includes an optional Polling Period (PP) phase and a Grant Period (GP) phase.Service periods allocated using this mechanism do not persist beyond a beacon interval. Persisten


page 288
allocations are created using the allocation mechanisms described in 10.4.The PP Available field in the STA Availability element (8.4.2.135) indicates whether a STA participates inthe PP phase of the Dynamic Allocation of Service Period mechanism. A STA that participates in PP phaseof the Dynamic Allocation of Service Periods responds to Poll frames during the PP. A STA that participatesin Dynamic Allocation of Service Periods uses the time allocated through Grant frames during the GP totransmit frames. A STA may set the PP Available field in a transmitted STA Availability element to zero toindicate that the STA does not respond to Poll frames during the PP and the GP. NOTE  A STA can receive a Grant frame in periods of the beacon interval other than the GP, in which case the STAuses the time allocated through the Grant frame. An example is described in 9.35.5.The PCP/AP shall not transmit Poll frames to a STA whose PP Available field in the STA Availabilityelement is 0. The PCP/AP shall not dynamically allocate a service period to a STA that is in a Doze BI(10.2.5). A PCP/AP may transmit Poll frames to a STA from which the PCP/AP has not received a STAAvailability element with the PP Available field from the STA equal to 0. If a PCP/AP wants to dynamically allocate Service Periods during a scheduled SP for which both the sourceand destination AID fields are set to the broadcast AID, the PCP/AP shall set the truncatable subfield to onewithin the Allocation field corresponding to the scheduled SP. If a non-PCP/non-AP STA is neither source nor an individually addressed destination during a truncatableSP and the non-PCP/non-AP STA participates in Dynamic Allocation of Service Periods and the non-PCP/non-AP STA is in an Awake BI, then the non-PCP/non-AP STA should be in the Awake state for theduration of the truncatable SP. A non-PCP/non-AP STA that participates in Dynamic Allocation of Service Periods shall be in the Awakestate for dot11MinPPDuration from the start of each truncatable SP for which both the source and thedestination AID fields are set to the broadcast AID and that occurs within each Awake BI of that STA.Following the expiration of dot11MinPPDuration, the non-PCP/non-AP STA should remain in the Awakestate until the end of the truncatable SP.A STA shall be in the Awake state for dot11MinPPDuration from the start of each scheduled CBAP thatoccurs within each Awake BI of that STA. A STA that enters the Doze state at any time during a CBAP andthen returns to the Awake state later during that same CBAP shall not transmit except in response to areception or when an explicit Grant frame is received that gives the STA permission to transmit during theCBAP.As described in 9.33.8, a STA that participates in Dynamic Allocation of Service Periods and that is neithersource nor destination during a truncatable SP can be in the receive state with its receive antennasconfigured in a quasi-omni antenna pattern for the duration of the truncatable SP. A STA that receives a Grant frame with an SP allocation for which it is either source or destination shall nottransmit longer than the time granted to it. Any STA coordinated by an MM-SME that belongs to an MMSL cluster identified by the Source AID andDestination AID that are equal to, respectively, the Source AID and Destination AID of the DynamicAllocation Info field in the Grant frame may transmit during the allocation, if the STA sent an MMS elementto the peer STA and the BeamLink Cluster field within the MMS element is 1. An example of dynamic allocation of service period is shown in Figure9-46


page 289
2619.33.7.2 Polling period (PP)A PCP/AP that uses a PP to dynamically allocate an SP within the DTI shall commence the PP at a timeinstant indicated by at least one of the following:   Anytime during a scheduled SP for which the source AID and destination AID are equal to thebroadcast AID, excluding any time that has been allocated dynamically  Anytime during a TXOP within a scheduled CBAP for which the destination AID is equal to thebroadcast AID, excluding any time that has been allocated dynamically  Anytime during the relinquished channel time following an SP truncation, excluding any time thathas been allocated dynamicallyThe PCP/AP shall not transmit a frame during a PP if any portion of that frame would extend beyond the endof the originally scheduled SP or CBAP. During the PP, the PCP/AP may transmit individually addressed Poll frames to STAs to solicit SPR framesfrom those STAs. The Duration field within each Poll frame i out of a total of n (0 < i <= n) transmitted Pollframes in the PP shall be calculated as follows: Durationi = Duration_of_Poll_transmissioni,n + Offset_of_SPR_transmissionm + ceiling(TXTIME(SPRm), aTSFResolution)The PCP/AP expects an SPR frame in response to each transmitted Poll frame (i.e., m=n). The position ofeach SPR frame in the sequence of SPR frames is indicated as j. Thus, j=1 refers to the first SPR frametransmission in the sequence of SPR frames, and j=m refers to the last SPR frame transmission in thesequence of SPR frames. Based on this, the Response Offset field within each Poll frame i transmitted in thePP shall be calculated as follows:Response Offseti = Duration_of_Poll_transmissioni,n + Offset_of_SPR_transmissionjwherePolling Period (PP)Data Transfer in SPPoll1SPR1PCP/AP:STA:SPR1Poll1Grant Period (GP)PollN. . .PollN. . .. . .. . .SPRNSPRNGrant1Grant2Grant1Grant2TimeSBIFSSBIFSSBIFSSIFSSIFSSIFSFigure 9-46  Example of dynamic allocation of service period mechanis


page 290
Offset_of_SPR_transmissionj is defined as  For j=1, Offset_of_SPR_transmission1= Poll_SPR_space  For 2 < j <=m, Offset_of_SPR_transmissionj = Offset_of_SPR_transmissionj-1+floor(TXTIME(SPRj) + SIFS, aTSFResolution)+1AntennaSwitchingTimei is equal to 0 if the PCP/AP uses the same antenna to transmit frame i and framei+1 and is equal to dot11AntennaSwitchingTime otherwise.Poll_SPR_space is the time interval between the end of the last Poll frame transmitted by the PCP/AP andthe expected start time of the first SPR frame by the non-PCP/non-AP STA, andis defined as Poll_SPR_space = SIFS.NOTE  This Offset_of_SPR_transmission calculation guarantees that no less than SIFS orSIFS+dot11AntennaSwitchingTime is provided for the PCP/AP to switch antennas when receiving an SPR fromdifferent STAs.A STA that receives an individually addressed Poll frame shall respond to the PCP/AP with a singledirectional and individually addressed SPR frame at the time offset from the end of the Poll frame indicatedin the Response Offset field within the received Poll frame. The Duration field within the SPR frame shallbe set to the value of the Duration field contained in the received Poll frame, minus the value of theResponse Offset field contained in the received Poll frame, minus the time taken to transmit the SPR frame. The PP ends at a time equal to the end of the last Poll frame transmission plus the value of the ResponseOffset field in that Poll frame plus the expected duration of the SPR transmission that is expected inresponse to that Poll frame plus SIFS.9.33.7.3 Grant period (GP)A PCP/AP that intends to dynamically allocate an SP within the DTI shall commence a GP at a time instantindicated by at least one of the following:   SIFS interval following the end of a PP if the PP is present  Anytime during a scheduled SP for which the source AID and destination AID are equal to thebroadcast AID if a PP does not precede the GP, excluding any time that has been allocateddynamically  Anytime during a TXOP within a scheduled CBAP for which the destination AID is equal to thebroadcast AID, excluding any time that has been allocated dynamically  Anytime during the relinquished channel time following an SP truncation if a PP does not precedethe GP, excluding any time that has been allocated dynamicallyThe PCP/AP shall not transmit a frame during a GP if any portion of that frame would extend beyond theend of the originally scheduled SP or CBAP, or beyond the end of an immediately following SP if that SPhas the broadcast AID as both source and destination AID, whichever is later.A non-PCP/non-AP STA may switch to Doze state if it does not receive a Grant frame from the PCP/APwithin dot11MinPPDuration from the start of the scheduled SP for which the source AID and destinationAID are set to the broadcast AID


page 291
263To commence the GP, the PCP/AP shall transmit Grant frames to notify the source DMG STA anddestination DMG STA about a dynamically allocated service period. The PCP/AP should transmit the lastGrant frame within a GP to the source of the dynamically allocated SP if the source of the dynamicallyallocated SP is not the PCP/AP. In each transmitted Grant frame, the PCP/AP shall set the Duration fieldwithin the Grant frame to a time that does not overlap in time with another SP that has either the source AIDor destination AID different from the broadcast AID. In addition, the source AID and destination AID fieldsshall be set to the source and destination, respectively, of the dynamically allocated SP, the AllocationTypefield set to indicate the channel access mechanism during the allocation, and the Allocation Duration fieldset to a value that is not greater than the result of the subtraction of the duration of all remaining Grant frametransmissions, if any, plus all appropriate IFSs (9.3.2.3), plus 2  SIFS from the value of the Duration field.An allocation that is indicated in this manner begins at the time that is equal to the PHY-TXEND.indicationof the Grant frame plus the value from the Duration field of the Grant frame minus the value of theAllocation Duration field of the Grant frame, and continues for the time indicated in the Allocation Durationfield of the Grant frame. The Dynamic Allocation Info field within Grant frames transmitted as part of the same GP shall be the same.NOTE  This means the PCP/AP can create only one allocation per GP. During an SP between a source DMG STA and a destination DMG STA, the source DMG STA maytransmit a Grant frame to the destination DMG STA to relinquish the remainder of the SP to the destinationDMG STA. In the Allocation Info field of the transmitted Grant frame, the source DMG STA shall setsource AID field to the AID of the destination DMG STA, the destination AID field to the AID of the sourceDMG STA, the AllocationType field set to indicate SP, and the Allocation Duration field set to the timeremaining in the SP minus the time taken to transmit the Grant frame. The Duration field in the Grant frameshall be set to the value of the Allocation Duration field. Upon transmission of the Grant frame, for theremainder the SP the roles of source DMG STA and destination DMG STA are swapped between the STAs. During a TXOP between a TXOP holder and a TXOP responder, the TXOP holder may transmit a Grantframe to the TXOP responder to relinquish the remainder of the TXOP to the TXOP responder. In thetransmitted Grant frame, the TXOP holder shall set source AID field to the AID of the TXOP responder, thedestination AID field to the AID of the TXOP holder, the AllocationType field set to indicate CBAP, and theAllocation Duration field set to the time remaining in the TXOP minus the time taken to transmit the Grantframe. The Duration field in the Grant frame shall be set to the value of the Allocation Duration field. Upontransmission of the Grant frame, for the remainder the TXOP the roles of TXOP holder and TXOPresponder are swapped between the STAs. A STA that receives a Grant frame shall not update its NAV if the value of either the source AID ordestination AID fields in the Grant frame are equal to the STA   s AID.The PCP/AP may grant a dynamic allocation of service period to a STA that does not transmit a SPR frameduring the PP.9.33.8 Dynamic truncation of service periodA STA truncates an SP to release the remaining time in the SP. The STA can use the CF-End frame totruncate the SP at the peer STA, to reset NAV in third party STAs and to return to the PCP/AP the time leftin the SP, thus allowing the PCP/AP to grant any portion of the released time as part of an SP to any otherSTA or to allocate any portion of it as a CBAP. The STA can use the Grant frame to release any part of thetime left in the SP as a CBAP.If a STA is neither source nor destination during a truncatable SP and the STA desires to participate inDynamic allocation of service period, the STA should be in the receive state with its receive antennaconfigured in a quasi-omni antenna pattern for the duration of the truncatable SP. If both the source an


page 292
destination AID fields of a truncatable SP are set to the broadcast AID, a non-PCP/non-AP STA may directits receive antenna to its PCP/AP for the duration of the truncatable SP if the non-PCP/non-AP STA does notparticipate in a frame exchange and the truncatable SP is not dynamically allocated to the non-PCP/non-APSTA. Only the source DMG STA of an SP may truncate the SP, except that the destination DMG STA maytruncate the SP if it does not receive an expected transmission from the source DMG STA at the start of theSP as defined in 9.33.6.7.In order to advertise the availability of truncatable SP time for reuse through PCP/AP dynamic allocation, anon-PCP/non-AP STA shall transmit an CF-End frame to the PCP/AP. A STA is not required to truncate anSP if a portion of the SP is unused.In order to enable CBAP access during the time released through SP truncation, the STA shall broadcast aGrant frame with the Source AID and Destination AID set to broadcast AID, the AllocationType field set toindicate CBAP and the Duration field set to the time needed to transmit the Grant frame(s) (the Durationfield in a Grant frame does not include duration of that frame) plus SIFS and plus the time needed to transmitthe following CF-End frame and the response CF-End frame, if required and appropriate IFS (9.3.2.3)values. The Allocation Duration field shall be set to a value that is not greater than the result of thesubtraction of the value in the Duration field from the time remaining in the SP. The CBAP that is indicatedin this manner begins at the time that is equal to the PHY-TXEND.indication of the Grant frame plus thevalue from the Duration field of the Grant frame and continues for the time indicated in the AllocationDuration field of the Grant frame. The STA shall not transmit the Grant frame and shall not transmit the CF-End frame to the PCP/AP if the SPis not indicated as truncatable.After transmission of the CF-End frame to the PCP/AP or after broadcasting a Grant frame, the STA shalltransmit a CF-End frame to the peer STA of the SP. The CF-End frame releases any time remaining in theSP at the recipient and resets the NAV in third party STAs. The NAV is reset only if the RA and TA of theCF-End frame match the addresses of the frame that established the NAV (see 9.33.10). The recipient STAmay transmit a CF-End frame SIFS after the reception if the Duration field of the received frame is not equalto 0 and the transmission does not extend beyond the end of the originally scheduled SP.A STA shall not initiate SP truncation if there is not enough time left in the SP to complete the frameexchange required for truncation of the SP. After the truncation is completed, the PCP/AP may dynamically allocate any portion of the relinquishedchannel time that has not been allocated to a CBAP through a transmitted Grant frame (9.33.7).9.33.9 Dynamic extension of service periodA non-PCP/non-AP STA uses dynamic extension of SP to extend the allocated time in the current SP. Theadditional time can be used to support variable bit rate traffic, for retransmissions or for other purposes. TheSPR frame is sent by a non-PCP/non-AP STA to the PCP/AP to request additional SP time in the currentbeacon interval. Except in response to a Poll frame from the PCP/AP, a non-PCP/non-AP STA shall not transmit an SPRframe within an SP if the current SP is not extendable (see 8.4.2.134).Only the source DMG STA and destination DMG STA of an SP can transmit an SPR during that SP. If the PCP/AP is not the source of an extendable SP, it should be in the receive state and with its receiveantennas configured in a quasi-omni antenna pattern for the duration of the extendable SP


page 293
265To request extension of the current SP, a non-PCP/non-AP STA shall transmit an SPR frame to the PCP/AP.The non-PCP/non-AP STA shall not request extension of the current SP if there is not enough time left in theSP to complete the frame exchange required for the SP extension. In the transmitted SPR frame, the STAshall set the RA field to the address of the PCP/AP, the Duration field to the time left in the SP (notincluding the SPR transmission time), and the Allocation Duration field to the additional amount of timerequested by the STA following the end of the current SP. The PCP/AP may grant the request for an extension of an SP only if the following SP has the broadcast AIDas both source and destination AID, and the duration of the following SP is larger than the value of theAllocation Duration field in the received SPR frame. To grant an extension request, the PCP/AP shalltransmit a Grant frame with the RA field set to the value of the TA in the received SPR frame, the Durationfield set to the value of the Duration field received in the SPR frame minus SIFS and minus the duration ofthis Grant frame transmission, and the Allocation Duration field set to the amount of additional time grantedby the PCP/AP. To decline a request for an extension of an SP, the PCP/AP shall transmit a Grant frame with the RA fieldset to the value of the TA in the received SPR frame, the Duration field set to the value of the Duration fieldreceived in the SPR frame minus SIFS and minus the duration of this Grant frame transmission, and theAllocation Duration field set to 0. The extension request is successful if the non-PCP/non-AP STA receives from the PCP/AP a Grant framewith a nonzero value for the Allocation Duration field SIFS after the SPR. SIFS after the reception of aGrant frame from the PCP/AP with a nonzero value for the Allocation Duration field, the non-PCP/non-APSTA shall transmit a Grant frame to the partner STA of the SP with the Duration field set to the value of theDuration field of the Grant frame received from the PCP/AP minus the duration of this Grant frametransmission minus SIFS, and the Allocation Duration field set to the value of the Allocation Duration fieldof the Grant frame received from the PCP/AP. The PCP/AP shall not transmit an SPR frame if it wants to extend an SP in which it is the source. A PCP/APthat extends an SP for which it is the source DMG STA shall transmit a Grant frame to the destination DMGSTA of the SP to indicate the extension of the SP. The Duration field in the transmitted Grant frame shall beset to the remaining time in the SP plus any additional channel time allocated by the PCP/AP following theend of the SP. The Allocation Duration field of the Grant frame shall be set to the additional channel timeallocated by the PCP/AP following the end of the SP.9.33.10 Updating multiple NAV timersIf a DMG STA supports multiple NAV timers, the number of available NAV timers within the DMG STAshall be not less than aMinNAVTimersNumber. Each NAV timer is identified by a pair of MAC addresses,NAVSRC and NAVDST, and has associated variables NAV_RTSCANCELABLE andNAV_DTSCANCELABLE. Each STA also maintains a variable UPDATE_OPTIONAL. When a STA isenabled for operation, all NAV timers shall have NULL values for their NAVSRC and NAVDST identifiers,the value of NAV_RTSCANCELABLE shall be false, the value of NAV_DTSCANCELABLE shall befalse, and each NAV timer shall have the value 0. NAV timer address pairs correspond to the NAV-SA andNAV-DA fields in DMG DTS frames and correspond to the RA and TA fields of all other received framesthat are used to update the NAV timers. Receipt of any frame can cause an update to the NAV timer whoseidentifying address pair corresponds to the specified address fields of the received frame according to therules in this subclause. STAs receiving any valid frame shall perform the following NAV Timer update operation expressed usingthe following pseudocode:NAV_TIMER_UPDATE(received_frame)


page 294
UPDATE_OPTIONAL falseIf (received_frame = DMG DTS) { UPDATE_OPTIONAL true}If (received_frame(RA)  This STA MAC address || UPDATE_OPTIONAL = true) {If (received_frame = DMG DTS) {R_DST  received_frame(NAV-DA)R_SRC  received_frame(NAV-SA)} else if (received_frame = ACK) {R_DST  received_frame(RA)R_SRC  0} else {R_DST  received_frame(RA)R_SRC  received_frame(TA)}R_DUR  received_frame(DUR)N_TIMER  -1// Searching for a matching NAV timerFor (x  0; x < aMinNAVTimersNumber; x++) {If (received_frame = ACK || NAVSRC(x)=R_DST) {If(NAVDST(x) = R_DST) {N_TIMER  xBreak}} else if (NAVSRC(x) = R_SRC && (NAVDST(x) = R_DST                                                               || NAVDST(x) = 0) || (NAVSRC(x)=0 && NAVDST(x) = R_DST) ||(NAVDST(x)=R_SRC && NAVSRC(x)=R_DST)) {N_TIMER  xBreak}}// No NAV timer has been found that matches the addressesIf (N_TIMER < 0) {For (x  0; x < aMinNAVTimersNumber; x++) {If (NAVSRC(x) = NULL && NAVDST(x) = NULL|| NAV(x) = 0) {NAVSRC(x)  R_SRCNAVDST(x)  R_DSTN_TIMER  xBreak} 


page 295
267}// Existing NAV timer found If (N_TIMER  0) {If (UPDATE_OPTIONAL = false&& R_DUR > NAV(N_TIMER) ) {NAV(N_TIMER)  R_DURIf (received_frame = RTS) {NAV_RTSCANCELABLE(N_TIMER)  true} else {NAV_RTSCANCELABLE(N_TIMER)  false}} else if (UPDATE_OPTIONAL = true && R_DUR > NAV(N_TIMER)) {If ((implementation decision to update = true) || (received_frame(RA) = This STA MAC address && This STA MAC address = source DMG STA MAC address for current SP))) {NAV_DTSCANCELABLE(N_TIMER)  trueNAV(N_TIMER)  R_DUR}}}} else {No change to NAV timers}END OF NAV_TIMER_UPDATE During a time period beginning with the completion of each NAV Timer update operation as a result of anRTS reception and lasting for TXTIME(DMG CTS) +2SIFS, each STA that desires to reset its NAV shallmonitor the channel to determine if a preamble or carrier detect event has occurred. If such an event has notoccurred during this time period, then the STA may reset to 0 any NAV Timer that has a value of true for itsassociated NAV_RTSCANCELABLE variable. Subsequent to the NAV Timer update operation, each NAV timer counts down until it reaches the value zeroor until it reaches zero through a reset operation.If a STA receives a valid CF-End response with RA and TA values that match the NAVSRC and NAVDSTvalues, in any order, for any NAV Timer, then the STA shall set the associated NAV Timer to the value ofthe Duration field in the received CF-End frame. If one of NAVSRC or NAVDST of a NAV timer is 0 andthe corresponding NAVDST or NAVSRC, respectively, of the NAV timer match the RA or the TA value ofthe received valid CF-End frame, then the STA shall set the associated NAV Timer to the value of theDuration field in the received CF-End frame.If one of NAVSRC or NAVDST of a NAV timer is 0 and the nonzero NAVDST or NAVSRC of the NAVtimer match either the RA or the TA value of a received valid frame, the NAVSRC or NAVDST that is 0shall be set to the RA or TA that does not match the nonzero NAVSRC or NAVDST


page 296
9.34 DMG PCP/AP clustering9.34.1 GeneralA PCP/AP may use the PCP/AP clustering mechanism to improve spatial sharing and interferencemitigation with other co-channel DMG BSSs. There are two types of clustering:   Decentralized PCP/AP clustering that involves a single S-PCP/S-AP in the BSA of the S-PCP/S-AP  Centralized PCP/AP clustering where there can be multiple S-APs in the BSA of any one S-AP, andall S-APs are coordinated via a single centralized coordination service set PCP/AP clustering allows a PCP/AP that is a member of a cluster to schedule transmissions innonoverlapping time periods with respect to other members of the same cluster since the PCP/AP canreceive DMG Beacon and Announce frames containing the Extended Schedule element of other PCPs/APsthat are members of the cluster and can also receive the Extended Schedule element from another BSSthrough associated non-PCP/non-AP STAs (9.34.4). A STA is decentralized PCP/AP clustering capable if it sets the Decentralized PCP/AP Clustering field to 1within the DMG PCP/AP Capability Information field in the DMG Capabilities element. A STA iscentralized PCP/AP clustering capable if it sets the Centralized PCP/AP Clustering field to 1 within theDMG PCP/AP Capability Information field in the DMG Capabilities element. The PCP/AP employs theClustering Control field and ECPAC Policy Enforced field defined in 8.3.4.1 to configure the use of PCP/AP Clustering. A decentralized PCP/AP clustering capable or centralized PCP/AP clustering capable PCP/AP that transmits the Clustering Control field is decentralized clustering enabled or centralized clusteringenabled, respectively. A PCP/AP that does not transmit the Clustering Control field is clustering disabled.Decentralized clustering enabled PCPs/APs operating on the same channel may form a decentralized PCP/AP cluster. A PCP/AP cluster includes one S-PCP/S-AP and zero or more member PCPs/APs. The MACaddress of the S-PCP/S-AP shall be the Cluster ID of the decentralized PCP/AP cluster. Centralizedclustering enabled PCPs/APs operating on the same channel as a S-AP form a centralized PCP/AP cluster asdescribed in 9.34.2.2. The Cluster ID of the centralized PCP/AP cluster shall be set to the MAC address ofthe S-AP. A clustering enabled PCP/AP that is not a member of any cluster shall set the Cluster Member Role subfieldto zero in transmitted frames that contain the Clustering Control field.Each PCP/AP that is a member of a PCP/AP cluster shall include the Clustering Control field in each DMGBeacon it transmits.For each cluster, there exists a set of ClusterMaxMem Beacon SPs. The nth Beacon SP, Beacon SPn, beginsat ClusterTimeOffsetn-1   s following the TBTT of the S-PCP/S-AP, whereClusterTimeOffsetn-1 = 1024    (dot11BeaconPeriod/ClusterMaxMem)    (n  1)and n=2, 3,   , ClusterMaxMemThe ClusterTimeOffsetn-1 and Beacon SPn where n equals one is reserved for the S-PCP/S-AP.A PCP/AP that is a member of a PCP/AP cluster shall transmit its DMG Beacon frame during one of theBeacon SPs as specified in 9.34.2. The maximum size of the Beacon SP Duration field transmitted by a S-PCP/S-AP shall be the beaconinterval of the S-PCP/S-AP divided by ClusterMaxMem


page 297
2699.34.2 Cluster formation9.34.2.1 Decentralized PCP/AP cluster formationA clustering enabled PCP/AP starts a decentralized PCP/AP cluster by becoming an S-PCP/S-AP, subject tothe absence of existing clusters as described below and in 9.34.2.2. A decentralized clustering enabled PCP/AP becomes an S-PCP/S-AP of a decentralized PCP/AP cluster by transmitting a DMG Beacon at least onceevery aMinBTIPeriod beacon intervals that has the ECPAC Policy Enforced subfield in the DMGParameters field set to 0 and that includes a Clustering Control field with the Beacon SP duration subfieldset to the value of dot11BeaconSPDuration, the Cluster ID subfield set to the S-PCP/S-AP MAC address,and the Cluster Member Role subfield set to the value for an S-PCP/S-AP. The value of ClusterMaxMemsubfield shall be chosen to keep the result of (beacon interval length/ClusterMaxMem) as an integer numberof microseconds. A decentralized clustering enabled PCP/AP that receives a DMG Beacon frame with the ECPAC PolicyEnforced subfield in the DMG Parameters field set to 0 from an S-PCP/S-AP on the channel the PCP/APselects to establish a BSS shall monitor the channel for DMG Beacon transmissions during each Beacon SPfor an interval of length at least aMinChannelTime. Beacon SPn is empty if no DMG Beacon frame isreceived during Beacon SPn over an interval of length aMinChannelTime. The PCP/AP shall not become amember of the cluster if no Beacon SP is determined to be empty during aMinChannelTime, in which case,subject to the requirements described in 9.34.2.2, then the PCP/AP may become the S-PCP/S-AP of a newcluster, or may cease its activity on this channel and, if desired, attempt operation on a different channel.A decentralized clustering enabled PCP/AP that operates its BSS on a channel on which it discovered an S-PCP/S-AP within a decentralized PCP/AP cluster and at least one empty Beacon SP shall transmit its DMGBeacon during an empty Beacon SP. By transmitting its DMG Beacon during an empty Beacon SP and bysetting the clustering control field appropriately as described in 8.3.4.1, the PCP/AP becomes a memberPCP/AP. The member PCP/AP shall select a beacon interval length that is equal to the beacon interval length of its S-PCP/S-AP. The member PCP/AP shall transmit its DMG Beacon with the ECPAC Policy Enforced field set to 0, theBeacon SP duration subfield set to the value of the Beacon SP duration subfield contained in the S-PCP/S-AP DMG Beacon, the Cluster ID subfield set to the MAC address of the S-PCP/S-AP, the Cluster MemberRole subfield set to the member PCP/AP value, and the ClusterMaxMem subfield set to the value of theClusterMaxMem field contained in the S-PCP/S-AP DMG Beacon. A PCP/AP with a value of Cluster Member Role that is not zero shall schedule a Beacon SP that is allocatedfor DMG Beacon transmission of other cluster member PCPs/APs within the decentralized PCP/AP clusterat each of ClusterTimeOffsetn, at any time the PCP/AP transmits its own DMG Beacon. The minimum sizeof the Beacon SP should be equal to the value of the Beacon SP duration subfield within the S-PCP/S-APDMG Beacon. An S-PCP/S-AP and a member PCP/AP of a decentralized PCP/AP cluster should not transmit or scheduletransmissions during a Beacon SP that is not its own Beacon SP. Figure9-47 illustrates, for three PCPs/APs, the Beacon SPs of the S-PCP/S-AP and member PCPs/APs of adecentralized PCP/AP cluster


page 298
9.34.2.2 Centralized PCP/AP cluster formationIn order to become an S-AP, a centralized clustering enabled STA that is stationary with respect to its localenvironment shall successfully perform both the following steps in order:  Configuration step  Verification stepOnce these steps have been performed successfully, the STA has become an S-AP.  Configuration step: The configuration step is defined to be successful if the following occur:  The STA obtains the MAC address of the CCSR; and  The STA obtains an ECPAC Policy Detail field, beacon interval, ClusterMaxMem, Beacon SPduration, TXSS CBAP Offset, TXSS CBAP Duration, TXSS CBAP MaxMem, TSFsynchronization parameters, Cluster Time Offset availability information, and a nonempty listof excluded channels for the intended operating class of the STA from the CCSR; and  Either the Channel Starting Frequency of the intended operating class of the STA is defined inAnnex E to be 56.16 GHz and channel 2 is an allowed channel in the current regulatory domainand the list of excluded channels includes channel 2, or the Channel Starting Frequency of theintended operating class of the STA is defined in Annex E to be 56.16 GHz and channel 2 is notan allowed channel in the current regulatory domain; and  The beacon interval/ClusterMaxMem is an integer number of microseconds; and   At least one of beacon interval/TXSS CBAP MaxMem or TXSS CBAP MaxMem/beaconinterval is an integer.Otherwise, the configuration step is defined to be unsuccessful. If the configuration step isunsuccessful, then the STA can attempt to resolve the problem or quit attempting to start acentralized PCP/AP cluster. The method by which the STA obtains the configuration informationfrom the CCSR is not defined in this standard.  Verification step: The verification step is defined to be the following procedure:  The centralized clustering enabled STA monitors the channel for DMG Beacon frames over aninterval of at least aMinChannelTime.  During this monitoring period, for each distinct Cluster ID received in a DMG Beacon framethat has the ECPAC Policy Enforced field set to 1 in the DMG Parameters field and ClusterMember Role set to 1 (S-PCP/S-AP of the cluster) or 2 (a member PCP/AP of the cluster), thecentralized clustering enabled STA determines if an S-AP with a MAC address equal to theCluster ID belongs to the same CCSS as the centralized clustering enabled STA, via i)attempting to receive an Announce frame from the S-AP that transmitted the DMG Beaconaccording to the channel access rules described in 9.33 in order to solicit an ECPAC Policy...PCP/AP 1(S-PCP/S-AP)PCP/AP 2PCP/AP 3ClusterTimeOffset (n=3)ClusterTimeOffset (n=2)ClusterTimeOffset (n=1)BTIRxRxRxRxRxRx......RxRxClusterTimeInterv.........Beacon IntervalBTIBTIBTIFigure 9-47  Decentralized PCP/AP clustering for 3 PCPs/AP


page 299
271element or ii) any other means. Any such DMG Beacon frame whose transmitter cannot bedetermined in this way to belong to the same CCSS as the centralized clustering enabled STAis defined to be from another ECPAC.The verification step is defined to be unsuccessful if, at the end of the monitoring period, there areone or more received DMG Beacon frames that are from another ECPAC. Otherwise, theverification step is defined to be successful.If at least one DMG Beacon frame that has the ECPAC Policy Enforced field set to 1 and was sent by an S-AP/member PCP/member AP from another ECPAC is received during the monitoring period, thecentralized clustering enabled STA   Shall cease its activity on this channel and, if desired, attempt operation on a different channel, or  If one of the received DMG Beacon frames was sent by an S-AP, may elect to unenroll from itscurrent CCSS and join the cluster of the S-AP as a member PCP/AP. If at least one DMG Beacon frame that has the ECPAC Policy Enforced field set to 1 and was sent by an S-AP from the same CCSS is received during the monitoring period, the centralized clustering enabled STAmay elect either to unenroll from its current CCSS and join the cluster of the S-AP as a member PCP/AP orto continue and become an S-AP in the CCSS. In order to become an S-AP in a centralized PCP/AP cluster, a centralized clustering enabled STA shall takethe following actions:  Set dot11MgmtOptionChannelUsageImplemented to true  Start a BSS as an AP   On a channel that is not listed as excluded by the CCSR, and  At the start time and with the beacon interval configured by the CCSR  Include in transmitted DMG Beacon frames   The ECPAC Policy Enforced field set to 1 in the DMG Parameters field, and  A Clustering Control field with the ClusterMaxMem subfield set to the values configured bythe CCSR, the Beacon SP Duration subfield set to the value most recently configured by theCCSR, the Cluster ID subfield set to the S-AP MAC address, and the Cluster Member Rolesubfield set to 1 (S-PCP/S-AP of the cluster).An S-AP in a centralized PCP/AP cluster shall set the ECPAC Policy Enforced subfield in the DMGParameters field to 1 for the lifetime of the BSS.An S-AP within a centralized PCP/AP cluster shall include the ECPAC Policy element in (Re)AssociationResponse, Announce, and Information Response frames with the ECPAC Policy Detail, TXSS CBAPOffset, and TXSS CBAP Duration fields set to the respective values most recently configured by the CCSRfor the S-AP, the TXSS CBAP MaxMem subfield set to the policy configured by the CCSR, the CCSR IDsubfield set to the MAC address of the CCSR, and bits in the Available Cluster Time Offset Bitmap subfieldset to 0 to indicate the Cluster Time Offsets that are determined to be already in use, excluding the recipientif sent within an individually addressed frame. The means by which a Cluster Time Offset is determined tobe in use are unspecified. Bits in the Available Cluster Time Offset Bitmap subfield for other Cluster TimeOffsets shall be set to 1.A PCP/AP that receives a DMG Beacon frame that has the ECPAC Policy Enforced subfield in the DMGParameters field set to 1 sent by an S-AP on a channel and that does not receive at least one DMG Beaconframe that has the ECPAC Policy Enforced subfield in the DMG Parameters field set to 1 sent by an S-APon every channel supported by the PCP/AP in the Operating Class within the next aMinChannelTime shalleither join the cluster of the S-AP as a member PCP/AP if centralized clustering enabled or cease its activit


page 300
on this channel and, if desired, attempt operation on a different channel. S-APs within a CCSS report thechannels unused by the ECPAC via the Channel Usage procedures (see 10.23.14).A PCP/AP within a decentralized PCP/AP cluster that receives a DMG Beacon frame that has the ECPACPolicy Enforced subfield in the DMG Parameters field set to 1 sent by an S-AP and that does not receive atleast one DMG Beacon frame that has the ECPAC Policy Enforced subfield in the DMG Parameters field setto 1 sent by an S-AP on every channel supported by the PCP/AP in the Operating Class within the nextaMinChannelTime shall quit the decentralized PCP/AP cluster before the next TBTT + beacon intervallength, then the PCP/AP shall either join the cluster of the S-AP as a member PCP/AP if centralized PCP/APclustering enabled or cease its activity on this channel and, if desired, attempt operation on a differentchannel.A PCP/AP that receives at least one DMG Beacon frame that has the ECPAC Policy Enforced subfield inthe DMG Parameters field set to 1 sent by an S-AP on every channel supported by the PCP/AP in theOperating Class within the most recent aMinChannelTime may ignore DMG Beacon frames that have theECPAC Policy Enforced subfield in the DMG Parameters field set to 1 sent by an S-AP for300aMinChannelTime.NOTE  A PCP/AP within a decentralized PCP/AP cluster does not cease DMG Beacon transmission when quitting adecentralized PCP/AP cluster. Hence, data communication is unaffected while performing these procedures.A centralized clustering enabled PCP/AP that attempts to join the centralized PCP/AP cluster of an S-AP asa member PCP/AP shall be a STA coordinated by an MM-SME that also coordinates a second non-PCP/non-AP STA, and shall successfully perform the following steps in order:   The PCP/AP shall monitor the channel for DMG Beacon frames during each Beacon SP over aninterval of length at least aMinChannelTime. A Beacon SPn is empty if no DMG Beacon frame isreceived during the Beacon SPn over an interval of length aMinChannelTime.  The second non-PCP/non-AP STA shall attempt to associate with the S-AP and thereby receive anAnnounce frame from the S-AP. The contents of the Announce frame are passed to the PCP/AP.  Upon receiving an Announce frame that includes the ECPAC Policy element, the PCP/AP shallselect a Cluster Time Offset index from the intersection of a) the Cluster Time Offset indices of theempty Beacon SPs with b) the indices indicated by the Available Cluster Offset Bitmap field in theECPAC Policy element. If the intersection is empty, the PCP/AP shall select a Cluster Time Offsetindex of an empty Beacon SP. The selected Cluster Time Offset index is passed to the second non-PCP/non-AP STA.  The second non-PCP/non-AP STA shall respond to the Announce frame with an InformationResponse frame that includes the Cluster Time Offset element containing the Cluster Time OffsetIndex set to the selected index.  The PCP/AP shall operate its BSS at the selected Cluster Time Offset on the channel of the S-APand include the PCP/AP clustering control field in transmitted DMG Beacon frames.The PCP/AP shall not become a member of the centralized PCP/AP cluster if no Beacon SP is determined tobe empty during aMinChannelTime or if the second non-PCP/non-AP STA did not associate to the S-AP, inwhich case the PCP/AP may attempt to join the cluster of another S-AP or cease its activity on this channeland, if desired, attempt operation on a different channel.A member PCP/AP within a centralized PCP/AP cluster shall select a beacon interval that is equal to thebeacon interval of the S-AP of the cluster.The member PCP/AP within a centralized PCP/AP cluster shall transmit its DMG Beacon frames with theECPAC Policy Enforced subfield in the DMG Parameters field set to 1, the Beacon SP duration subfield inthe Clustering Control field set to the value of the Beacon SP duration subfield contained in the mostrecently received S-AP DMG Beacon, the Cluster ID subfield set to the MAC address of the S-AP, th


page 301
At any time a PCP/AP within a centralized PCP/AP cluster transmits a DMG Beacon frame, the PCP/APshall schedule a Beacon SP that reserves time for BHI transmission by other PCPs/APs within thecentralized PCP/AP cluster at each in use ClusterTimeOffsetn-1 as indicated by the most recently transmitted(if S-AP) or received (if member PCP/AP) Available Cluster Time Offset Bitmap. The minimum size of theBeacon SP shall be equal to the value of the Beacon SP duration subfield within the DMG Beacon frame ofthe S-AP of the centralized PCP/AP cluster. An S-AP/member PCP/member AP of a centralized PCP/APcluster shall not transmit or schedule transmissions during a Beacon SP of another S-AP/member PCP/member AP.9.34.3 Cluster maintenance9.34.3.1 General cluster maintenanceThe TBTT of the S-PCP/S-AP provides a timing reference for the Beacon SPs of the member PCPs/APs.Timing synchronization among the member PCPs/APs facilitates equitable sharing of the common mediumamong the member PCPs/APs. As long as a member PCP/AP periodically receives DMG Beacons from theS-PCP/S-AP, the member PCP/AP is able to maintain synchronization with the S-PCP/S-AP and hence theother member PCPs/APs. 9.34.3.2 Decentralized PCP/AP cluster maintenanceIn the case when the S-PCP/S-AP of a decentralized PCP/AP cluster is lost, or appears to a member PCP/APto have been lost, another PCP/AP needs to become the S-PCP/S-AP of the decentralized PCP/AP cluster inorder to allow the remaining member PCPs/APs to maintain synchronization with the cluster. The creationof a new S-PCP/S-AP is called S-PCP/S-AP handover. After an S-PCP/S-AP handover, the cluster mightcontinue to function as before, except with altered membership, or the cluster might no longer exist, or theremight be one or more new clusters. A member PCP/AP of the decentralized PCP/AP cluster shall start an S-PCP/S-AP handover if, within atime period of 4  aMinBTIPeriod beacon intervals, it does not receive a DMG Beacon with the ECPACPolicy Enforced field set to 0, with the value of the Cluster ID field equal to the Cluster ID of the cluster ofwhich the PCP/AP is a member and with the Cluster Member Role field set to the S-PCP/S-AP value. This isthe first Cluster Monitoring Period. During the next step in the S-PCP/S-AP handover, the member PCP/APperforms another Cluster Monitoring Period. A Cluster Monitoring Period is a time period of4  aMinBTIPeriod beacon intervals during which the PCP/AP listens for DMG Beacons while continuing totransmit DMG Beacons using its current Beacon SPn. NOTE  A decentralized clustering enabled PCP/AP does not cease DMG Beacon transmission during ClusterMonitoring and S-PCP/S-AP handover. Hence, data communication is unaffected while performing these procedures.If, during a Cluster Monitoring Period, the member PCP/AP receives a DMG Beacon with the value ofCluster Member Role set to the S-PCP/S-AP value, the member PCP/AP shall follow the rules in 9.34.2 tobecome a member PCP/AP of the cluster corresponding to the detected S-PCP/S-AP or cease operation onthe channel; in either case, the Cluster Monitoring Period is terminated


page 302
If, during a Cluster Monitoring Period, the PCP/AP receives no DMG Beacons with the value of ClusterMember Role set to the S-PCP/S-AP value and one or more DMG Beacons with the ECPAC PolicyEnforced field set to 0 and with Cluster ID equal to the Cluster ID of its last S-PCP/S-AP, then at the end ofthe Cluster Monitoring Period the PCP/AP compares the MAC addresses of all such received DMG Beaconswith its own MAC address. If its MAC address is the lowest, the PCP/AP shall become an S-PCP/S-APaccording to the rules in 9.34.2. If its MAC address is not the lowest, the PCP/AP shall perform a newCluster Monitoring Period. If the number of Cluster Monitoring Periods performed by the PCP/AP exceedsdot11MaxNumberOfClusteringMonitoringPeriods, the PCP/AP may cease cluster maintenance and initiatecluster formation as described in 9.34.2.If, during a Cluster Monitoring Period, the PCP/AP does not receive a DMG Beacon that contains thevalueof S-PCP/S-AP in the Cluster Member Role field and does not receive a DMG Beacon withtheECPAC Policy Enforced field set to 0 and with Cluster ID equal to the Cluster ID of the cluster ofwhichit is currently a member, then at the end of the Cluster Monitoring Period the PCP/AP may become anS-PCP/S-AP according to the rules of 9.34.2, or it may cease its activity on this channel and, if desired,attempt operation on a different channel.NOTE  An assumption to allow the establishment of an S-PCP/S-AP in this case is that the PCPs/APs cannot hear eachother   s DMG Beacons. The rule how to decide to switch the channel or to establish an S-PCP/S-AP is implementationdependent.If, during a Cluster Monitoring Period, the member PCP/AP of a decentralized PCP/AP cluster receives noDMG Beacons from clustering enabled STAs, then the PCP/AP shall establish itself as an S-PCP/S-APaccording to the rules in 9.34.2. If an S-PCP/S-AP of a decentralized PCP/AP cluster detects the presence of a S-PCP/S-AP of anotherdecentralized PCP/AP cluster on the same channel, it should schedule a Beacon SP for the DMG Beacontransmission of the other S-PCP/S-AP if the MAC address of the other S-PCP/S-AP is lower than the MACaddress of this S-PCP/S-AP. The S-PCP/S-AP with higher MAC address should become a member PCP/APof the cluster corresponding to the S-PCP/S-AP with the lower MAC address according to the rules in9.34.2.9.34.3.3 Centralized PCP/AP cluster maintenanceA STA, while operating as an S-AP, remains stationary with respect to its local environment. An S-AP within a centralized PCP/AP cluster, upon a change of the Beacon SP Duration field or the ECPACPolicy element configured by the CCSR, shall update the Clustering Control field sent in subsequent framesand shall send individually addressed Announce or Information Response frames to other STAs within theBSS in order notify them of the changes. When a member PCP/AP is coordinated by an MM-SME and the member PCP/AP elects to change its S-APwithin a centralized PCP/AP cluster, then a second non-PCP/non-AP STA coordinated by the MM-SME ofthe member PCP/AP should disassociate from the previous S-AP, and the member PCP/AP shall performthe steps described in 9.34.2.2 that allow a clustering enabled PCP/AP to join the centralized PCP/AP clusterof an S-AP as a member PCP/AP. When a member PCP/AP is coordinated by an MM-SME and the member PCP/AP elects to change itsCluster Time Offset within a centralized PCP/AP cluster, then the member PCP/AP shall pass the updatedCluster Time Offset to a second non-PCP/non-AP STA coordinated by the MM-SME of the member PCP/AP, and the second non-PCP/non-AP STA shall send an Information Response frame that includes a ClusterTime Offset element containing the Cluster Time Offset Index set to the updated index to the S-AP of thecentralized PCP/AP cluster


page 303
275A member PCP/AP within a centralized PCP/AP cluster, upon a change of the Clustering Control fieldreceived from its S-AP, shall update the Clustering Control field sent in subsequent frames. Upon a changeof the ECPAC Policy Detail field received from its S-AP, a member PCP/AP within a centralized PCP/APcluster shall update the ECPAC Policy element sent in subsequent frames and send individually addressedAnnounce or Information Response frames to other STAs within the BSS in order notify them of thechanges. The member PCP/AP within the centralized PCP/AP cluster shall attempt to receive a DMGBeacon frame from its S-AP at least once every dot11DMGEcssPolicyDetailUpdateDurationMax TUs.In the case when a member PCP/AP of a cluster has not received DMG Beacon frames from its S-AP for aduration exceeding 4  aMinBTIPeriod beacon intervals, and the member PCP/AP intends to continue tooperate a BSS on the channel, the PCP/AP shall either  Stop the current BSS then become an S-AP within the CCSS as described in 9.34.2.2; or  Monitor the channel for DMG Beacon frames for an interval of length at least aMinChannelTime.During this period, if one or more DMG Beacon frames are received with the ECPAC PolicyEnforced field set to 1 in the DMG Parameters field and the Cluster Member Role set to 1 (S-PCP/S-AP of cluster) from one or more S-APs, then the PCP/AP shall join a selected S-AP as a clustermember as described in 9.34.2.2. If, after the period elapses, no DMG Beacon frames are receivedwith the ECPAC Policy Enforced field in the DMG Parameters field set to 1 and the ClusterMember Role set to 1 (S-PCP/S-AP of cluster) and if the PCP/AP is decentralized PCP/APclustering capable, then the PCP/AP shall attempt to join a decentralized PCP/AP cluster if presentas described in 9.34.2.1. If the PCP/AP is not decentralized PCP/AP clustering capable or adecentralized PCP/AP cluster is not present, then the PCP/AP shall set its Cluster Member Role to 0(not currently participating in a cluster). In either case, the PCP/AP   Shall set the ECPAC Policy Enforced bit to 0 and shall not include the ECPAC Policy elementin (Re)Association Response, Announce, or Information Response frames and  Should send individually addressed Announce or Information Response frames to other STAswithin the BSS to notify them of the changes.9.34.3.4 Centralized PCP/AP cluster MAC requirementsIf the most recent ECPAC Policy element transmitted by an S-AP/member PCP/member AP includes theBHI Enforced field set to 1, the S-AP/member PCP/member AP shall complete the BTI, A-BFT, and ATIfor each subsequent beacon interval before TBTT + 8/1024  Beacon SP duration. The most recentlytransmitted (if an S-AP) or received (if a member PCP/member AP or non-PCP/non-AP STA) value ofBeacon SP duration is used.If the most recent ECPAC Policy element transmitted by an S-AP/member PCP/member AP has the TXSSCBAP Enforced field set to 1, the S-AP/member PCP/member AP shall complete each of its TXSSs in theDTI within one or more TXSS CBAPs.If the most recent ECPAC Policy element, received by a non-PCP/non-AP STA in a BSS from the S-AP/member PCP/member AP of the BSS, has the TXSS CBAP Enforced field set to 1, then the non-PCP/non-AP STA shall perform each of its TXSSs in the DTI within one or more TXSS CBAPs. If the non-PCP/non-AP STA is the source DMG STA of an SP and if the non-PCP/non-AP determines that it needs to perform aTXSS before continuing to transmit to the destination DMG STA of the SP, then the non-PCP/non-AP STAshould truncate the SP (see 9.33.8). A TXSS CBAP shall last from TBTT + 8  TXSS CBAP Offset + (n-1)  1024  beacon interval/TXSS CBAPMaxMem until TBTT + 8  TXSS CBAP Offset + (n-1)  1024  beacon interval/TXSS CBAP MaxMem +8  TXSS CBAP Duration for n = 1 to TXSS CBAP MaxMem, excluding any time that overlaps a BHI or anSP that has source and destination DMG AIDs set to 255 (such as for a Beacon SP). The most recentlytransmitted (if an S-AP) or received (if a member PCP/member AP or non-PCP/non-AP STA) value ofTXSS CBAP Offset and TXSS CBAP Duration fields are used


page 304
The TXSS CBAP is available to all STAs in an ECPAC. STAs may also use the TXSS CBAP for sendingframes not related to transmit sector sweeping. Transmission rules during a TXSS CBAP are defined in9.33.5.NOTE  Frames, such as data frames, sent in a TXSS CBAP when the TXSS CBAP Enforced field is set to 1 mightexperience erratically higher interference than frames sent at other times due to the TXSSs of other nearby STAs. Additional centralized PCP/AP cluster requirements are defined in 9.33.6.6 and 10.1.3.2a.9.34.4 Cluster report and re-schedulingA clustering enabled PCP/AP that receives an Extended Schedule element from another clustering enabledPCP/AP may re-schedule SPs and CBAPs in its beacon interval, or move the BTI (10.1.3.2a), in an attemptto mitigate any interference with the transmissions indicated in the received Extended Schedule element.The PCP/AP can create SPs in its beacon interval with the source and destination AID set to 255 to preventtransmissions during specific periods in the beacon interval (9.33.6.2). A non-PCP/non-AP STA that is a member of a BSS and that receives a DMG Beacon should send a ClusterReport element to its PCP/AP if the received DMG Beacon frame meets all of the following conditions:  The DMG Beacon is not from the STA   s PCP/AP.  The DMG Beacon contains the Clustering Control field.   Either  The value of the Cluster ID field within the Clustering Control field is different from the MACaddress of the STA   s PCP/AP; or  The value of the Cluster ID field within the Clustering Control field is the same as the MACaddress of the STA   s PCP/AP, the TBTTs of the two BSSs are less than dot11BeaconPeriod/(2  ClusterMemMax) apart in time, and the ECPAC Policy Enforced field in the DMG Beaconframe received most recently from the STA   s PCP/AP is equal to 1.The non-PCP/non-AP STA shall not send a Cluster Report element to its PCP/AP if the received DMGBeacon frame does not meet the preceding conditions.A Cluster Report element meeting the conditions above shall be transmitted in an Announce or InformationResponse frame sent to the STA   s PCP/AP. Within the transmitted Cluster Report element, the STA shall setthe Cluster report subfield to one. The STA shall set the Clustering Control field within a transmitted ClusterReport element to the corresponding field values within the Clustering Control of the received DMGBeacon, shall set the Reported BSSID field to the BSSID of the received DMG Beacon, and shall set theReference timestamp field to indicate the DMG Beacon reception time. The STA shall set the Schedulepresent subfield to one if the Extended Schedule field is present in the transmitted Cluster Report element;otherwise, it shall set Schedule present subfield to zero. The STA shall set the TSCONST present subfield toone if the TSCONST field is present in the transmitted Cluster Report element; otherwise, it shall setTSCONST present subfield to zero. The STA shall set the ECPAC Policy Enforced field in the Cluster Report Control field to the value of theECPAC Policy Enforced field in the received DMG Beacon. The STA should attempt to receive anAnnounce frame from the PCP/AP that transmitted the DMG Beacon according to the channel access rulesdescribed in 9.33 in order to solicit an ECPAC Policy element. If the STA obtains an ECPAC Policy elementfrom the PCP/AP that transmitted the DMG Beacon, the STA shall set the ECPAC Policy Present subfield to1 and include the ECPAC Policy element in the transmitted Cluster Report element; otherwise, the STAshall set ECPAC Policy Present subfield to 0 and not include the ECPAC Policy element in the transmittedCluster Report element. If present, the Extended Schedule Element field within the Cluster Report elementshall be set to the corresponding field values within the Extended Schedule element of the received DMGBeacon. If present, the TSCONST field shall be set to indicate periods of time with respect to the TBTT o


page 305
277the beacon interval of the BSS the STA participates where the transmitting STA experiences poor channelconditions, such as due to interference.If the received DMG Beacon contains more than one Extended Schedule element entry, the STA shall repeatthe aforementioned procedure and transmit a Cluster Report element corresponding to each ExtendedSchedule element entry. Upon receiving a Cluster Report element from a non-PCP/non-AP STA with the Cluster report field set to 1,a clustering enabled PCP/AP may re-schedule SPs and CBAPs in its beacon interval, move the BTI if theclustering enabled PCP/AP is an S-PCP/S-AP in a decentralized PCP/AP cluster, or change the Cluster TimeOffset if the clustering enabled PCP/AP is a member PCP/AP, or perform other actions, in an attempt tomitigate any interference with the transmissions indicated in the received Cluster Report element. Theclustering enabled PCP/AP may also create SPs in its beacon interval with the source and destination AIDset to 255 to prevent transmissions during specific periods in the beacon interval.A member PCP/AP within a centralized PCP/AP cluster should report new interference information andmay report all interference information to the S-AP of the cluster   When the member PCP/AP receives one or more of the following:  A DMG Beacon frame from another PCP/AP in another centralized PCP/AP cluster within thesame CCSS or another CCSS  A Cluster Report element with the Cluster Report field set to 1 from a non-PCP/non-AP STAwithin the same BSS characterizing a PCP/AP in another centralized PCP/AP cluster within thesame CCSS or another CCSS; and  If at least dot11DMGEcssClusterReportDurationMin TUs have elapsed since the last report. The report should aggregate the information received from all sources and minimize duplication. Themember PCP/AP passes the report to a second non-PCP/non-AP STA coordinated by the MM-SME of themember PCP/AP, and the second non-PCP/non-AP STA sends the report in an Information Response framethat includes one or more Cluster Report elements to the S-AP of its centralized PCP/AP cluster. If themember PCP/AP does not elect to change its Cluster Time Offset at this time, the second non-PCP/non-APSTA includes a Cluster Time Offset element with an unchanged Cluster Time Offset Index field. Via an unspecified means, the S-AP might aggregate received DMG Beacon frames and Cluster Reportelements and send the aggregate to the CCSR. Upon receiving this information, the CCSR might reconfigurethe TSF offsets of an S-AP, reconfigure the ECPAC Policy Detail of an S-AP, update the Cluster TimeOffset availability information provided in an individually addressed frame by an S-AP to a member PCP/AP, or perform other actions. 9.34.5 Decentralized PCP/AP cluster requestA non-PCP/non-AP STA that is a member of a BSS may transmit a Cluster Report element to its PCP/AP torequest that decentralized PCP/AP clustering be enabled in the BSS. The non-PCP/non-AP STA can makethis request if, for example, the device containing the non-PCP/non-AP STA intends to initialize another co-channel BSS (10.1) in which it performs the role of PCP/AP and, when performing this role, it wishes tobecome a member PCP/AP of the decentralized PCP/AP clustering enabled by its current PCP/AP. To request PCP/AP clustering to be enabled in the BSS, the STA shall transmit a Cluster Report elementwith the Cluster request subfield set to 1 to its PCP/AP. Upon receiving a Cluster Report element with theCluster request subfield set to 1, the PCP/AP should form and maintain decentralized PCP/AP clustering inthe BSS according to the procedures described in 9.34.2 and 9.34.3. In doing that, the PCP/AP should set theminimum duration of the Beacon SP to be equal to the Beacon SP duration


page 306
If the non-PCP/non-AP STA does not receive a DMG Beacon frame from its PCP/AP with decentralizedPCP/AP clustering enabled after dot11ClusterEnableTime following the transmission to its PCP/AP of aCluster Report element with the Cluster request subfield set to 1, the non-PCP/non-AP STA may transmit anAnnounce frame including the last Extended Schedule element transmitted by the PCP/AP. If the Announceframe is transmitted, it shall use MCS 0, and the TA field shall be set to the broadcast address. If a DMGSTA receives an Announce frame with the TA field set to the broadcast address and with the BSSID fielddifferent from the BSSID of its BSS, the DMG STA may send a Cluster Report element containing theExtended Schedule element within the received Announce frame to its PCP/AP, which might be used by thePCP/AP to reschedule SPs in portions of the beacon interval that are nonoverlapping in time with the SPscontained in the Extended Schedule element reported by the DMG STA. If a non-PCP/non-AP STA becomes a member PCP/AP of the clustering enabled by its current PCP/AP, thenon-PCP/non-AP STA can synchronize scheduled CBAP allocations, if any, between the BSS in which itperforms the role of PCP/AP and the BSS of its current PCP/AP. The non-PCP/non-AP STA can disallowSTAs in the BSS in which it plays the role of PCP/AP from transmitting during the Beacon SPs of the clusterit is a part of, and this can be done by allocating an SP time-overlapping with each Beacon SP such that eachallocated SP has both the source AID and destination AID fields within the Extended Schedule element setto the AID of the non-PCP/non-AP STA.9.35 DMG beamforming9.35.1 GeneralBeamforming (BF) is a mechanism that is used by a pair of STAs to achieve the necessary DMG link budgetfor subsequent communication. BF training is a bidirectional sequence of BF training frame transmissionsthat uses sector sweep and provides the necessary signaling to allow each STA to determine appropriateantenna system settings for both transmission and reception. After the successful completion of BF training,BF is said to be established. A BF training frame is an SSW frame, a DMG Beacon frame or a BRP frame.Figure9-48 gives an example of the beamforming training procedure. In this subclause, the STA that initiates BF training through the transmission of a BF frame is referred to asthe initiator, and the recipient STA of the BF frame that participates in BF training with the initiator isreferred to as the responder. For BF training that occurs within the A-BFT allocation, the PCP/AP is theTransmit Sector SweepTransmit Sector SweepSector Sweep FeedbackBRP with final feedbackBRPSTA1STA2Initiator Sector SweepBeam refinementBRP-RXBRP-TXBRP-RXBRP-TXResponder Sector SweepSector Level SweepSector Sweep ACKFigure 9-48  An example of beamforming trainin


page 307
279initiator and a non-PCP/non-AP STA becomes the responder. For BF training that occurs during an SPallocation, the source DMG STA of the SP is the initiator and the destination DMG STA of the SP becomesthe responder. For BF training during a TXOP allocation, the TXOP holder is the initiator and the TXOPresponder is the responder.The link from the initiator to the responder is referred to as the initiator link and the link from the responderto the initiator is referred to as the responder link.BF training starts with a SLS from the initiator. A beam refinement protocol (BRP) may follow, if requestedby either the initiator or the responder. The purpose of the SLS phase is to enable communications betweenthe two participating STAs at the control PHY rate or higher MCS. Normally, the SLS phase provides onlytransmit BF training. The purpose of the BRP phase is to enable receiver training and enable iterativerefinement of the AWV of both transmitter and receiver at both participating STAs. If one of theparticipating STAs chooses to use only one transmit antenna pattern, receive training may be performed aspart of the SLS.Any BF information obtained by an initiator or a responder during a BF training attempt shall be consideredinvalid if either or both of the following conditions are satisfied:a)The SLS phase was not completed within dot11MaxBFTime beacon intervals from the start of theSLS phase.b)The BRP phase, if initiated, was not completed within dot11MaxBFTime beacon intervals from thestart of the BRP phase.A STA shall abort an SLS if the SLS is not completed within dot11MaxBFTime beacon intervals from thestart of the SLS, and shall abort a BRP if the BRP is not completed within dot11MaxBFTime beaconintervals from the start of the BRP.The number of sectors per DMG antenna shall not be greater than 64. The total number of sectors across allDMG antennas in a STA shall not be greater than 128. Table9-16 shows the mandatory and optional procedures in the beamforming mechanism described in thissubclause. Table 9-16  Mandatory and optional procedures in the Beamforming mechanismBeamforming itemSupport mandatoryNotesSLS phase (9.35.2, 9.35.6.2)YesA DMG STA is capable to participate in an SLS with any other DMG STA as described in 9.35.2 and 9.35.6.2Beamforming in BTI (9.35.4)YesWhen operating as a PCP/AP, a DMG STA is capable to perform beamforming in the BTI as described in 9.35.4Beamforming in A-BFT (9.35.5)YesWhen operating as a PCP/AP, a DMG STA is capable to perform beamforming in the A-BFT as described in 9.35.5BRP setup subphase (9.35.3.2)YesA DMG STA is capable to negotiate BRP settings with any other DMG STA as described in 9.35.3.


page 308
An SLS between an initiator and a responder is successful for the initiator if, after the completion of theSLS, the initiator receives a response to a frame transmitted to the responder using the sector and antennaselected during the SLS. The SLS is successful for the responder if, after the completion of the SLS, theresponder receives a response to a frame transmitted to the initiator using the sector and antenna selectedduring the SLS.In this subclause, the last negotiated Total Number of Sectors field, Number of RX DMG Antennas field,and RXSS Length field held by the initiator with respect to the responder refer to the last value for thecorresponding field received by the initiator from the responder and that the SLS between the initiator andresponder using this value was successful for the initiator. Similarly, the last negotiated Total Number ofSectors field, Number of RX DMG Antennas field, and RXSS Length field held by the responder withrespect to the initiator refer to the last value for the corresponding field received by the responder from theinitiator and that the SLS between the responder and initiator using this value was successful for theresponder.Until an SLS is successful between an initiator and a responder, the last negotiated Total Number of Sectorsfield, Number of RX DMG Antennas field, and RXSS Length field used by the initiator with respect to theresponder refer to the value of these fields in the responder   s DMG Capabilities element, and the lastnegotiated Total Number of Sectors field, Number of RX DMG Antennas field, and RXSS Length field usedby the responder with respect to the initiator refer to the value of these fields in the initiator   s DMGCapabilities element.If an MMSL cluster capable STA has successfully transmitted to a peer STA an MMS element with theBeamLink Cluster field set to 1, then all MAC entities coordinated by the same MM-SME as the MMSLcluster capable STA shall use a single beamformed link for the MMSL cluster. Also, the MAC address usedMIDC subphase (9.35.6.3)MID subphaseNoA DMG STA does not have to be capable to perform MID as described in 9.35.6.3BC subphaseNoA DMG STA does not have to be capable to perform BC as described in 9.35.6.3BRP phase (9.35.3, 9.35.6.4)Feedback = BS-FBCKYesA DMG STA is capable to perform the BRP with any other DMG STA as described in 9.35.3 and 9.35.6.4, and is capable to return the BS-FBCKFeedback = Channel measurementNoA DMG STA is capable to perform the BRP with any other DMG STA as described in 9.35.3 and 9.35.6.4, but does not have to be capable to return channel measurementsBeam tracking (9.35.7)Feedback = BS-FBCKYesA DMG STA is capable of responding to a receive beam tracking request. A DMG STA is capable of responding to a transmit beam tracking request with the BS-FBCK.Feedback = Channel measurementNoA DMG STA is capable of responding to a receive beam tracking request. A DMG STA does not have to be capable of responding to a transmit beam tracking request with channel measurements.Table 9-16  Mandatory and optional procedures in the Beamforming mechanism  (continued)Beamforming itemSupport mandatoryNote


page 309
281by the MMSL cluster capable STA to initiate the beamforming procedure shall remain the same until thecompletion of the beamforming procedure. 9.35.2 Sector-level sweep (SLS) phase9.35.2.1 GeneralThe SLS phase can include as many as four components: an initiator sector sweep (ISS) to train the initiatorlink as described in 9.35.2.2, a responder sector sweep (RSS) to train the responder link as described in9.35.2.3, an SSW Feedback as described in 9.35.2.4, and an SSW ACK as described in 9.35.2.5.An initiator shall begin the SLS phase by transmitting the frames of the ISS. A responder shall not begin transmitting the frames of an RSS before the ISS is successfully completed,except when the ISS occurs in the BTI (9.35.5). An initiator shall not begin an SSW Feedback before the RSS phase is successfully completed, except whenthe RSS occurs in the A-BFT. A responder shall not begin an SSW ACK with an initiator in the A-BFT. A responder shall begin an SSWACK with an initiator immediately following the successful completion of the SSW Feedback with theinitiator. During the SLS phase the only BF frames an initiator may transmit are the DMG Beacon frame, the SSWframe, and the SSW-Feedback frame. During the SLS phase the only BF frames a responder may transmitare the SSW frame and the SSW-ACK frame. If during the SLS the initiator and responder each execute a TXSS, then at the end of the SLS phase both theinitiator and the responder possess their own transmit sector. If either the ISS or the RSS employs a receivesector sweep, then the responder or the initiator, respectively, possesses its own receive sector. The following rule applies to all channel access in DMG BSSs. A STA shall not transmit a frame as part of asector sweep comprising at least two sectors if a response is expected within SIFS interval from the STAidentified in the RA field of the transmitted frame. A STA shall not change its transmit power during a sector sweep. Two examples of the SLS phases are shown in Figure9-49 and Figure9-50. In Figure9-49 the initiator has many sectors, the responder has only one transmit sector and receive sectorsweep is used at the responder sector sweep (the responder is transmitting all responder SSW frames throughthe same transmit sector, the initiator is switching receive antennas at the same time). In Figure9-50 the initiator has many transmit sectors, the responder has one transmit sector. In this case,receive training for the initiator is performed in the BRP phase


page 310
9.35.2.2 Initiator Sector Sweep9.35.2.2.1 GeneralAn ISS comprises either an initiator TXSS or an initiator RXSS.An initiator RXSS may be performed in an ISS when the initiator chooses to use only one transmit antennapattern across each of its DMG antennas. CDOWN=31Sector Id=14CDOWN=30Sector Id=10CDOWN=29Sector Id=25CDOWN=0Sector Id=3CDOWN=31Sector Id=1Best Sector=25Transmit Sector SweepReceive Sector SweepSector Sweep FeedbackInitiator Sector SweepInitiatorResponderSector Sweep ACKCDOWN=30Sector Id=1Best Sector=25CDOWN=29Sector Id=1Best Sector=25CDOWN=0Sector Id=1Best Sector=25Responder Sector SweepFigure 9-49  An example of SLSCDOWN=31Sector Id=14CDOWN=30Sector Id=10CDOWN=29Sector Id=25CDOWN=0Sector Id=3CDOWN=0Sector Id=1Best Sector=25Best Sector=1Transmit Sector SweepTransmitSectorSweepSector Sweep FeedbackInitiator Sector SweepInitiatorResponderSector Sweep ACKResponder Sector SweepFigure 9-50  An example of SL


page 311
283An initiator may employ either DMG Beacon frames or SSW frames in the ISS. If the initiator begins an ISSwith the transmission of a DMG Beacon frame, it shall use the DMG Beacon frame for all subsequenttransmissions during the ISS. Conversely, if the initiator begins an ISS with the transmission of an SSWframe, it shall use the SSW frame for all subsequent transmissions during the ISS. A responder never beginsan ISS.The Duration field within each transmitted DMG Beacon frame is set to the time remaining until the end ofthe current BTI (see 9.35.4). The Duration field of each transmitted SSW frame shall be set to the timeremaining until the end of the ISS or the end of the current allocation, whichever is earlier. The initiator shall set the Direction subfield in the Sector Sweep field to 0 within each DMG Beacon andSSW frame transmitted during an ISS.The initiator shall set the Total Sectors in ISS subfield within the SSW Feedback field to the total number ofsectors that it is using in the ISS. The total is computed as the sum of all sectors employed on all antennas inthe ISS multiplied by the number of the responder   s receive DMG antennas. For example, if 4 sectors areused on antenna 0, 3 sectors on antenna 1, 5 sectors on antenna 2, and the responder has two receive DMGantennas, then the Total Sectors in ISS subfield is set to 24.9.35.2.2.2 Initiator TXSSWhen the IsInitiatorTXSS field for a specific SP is 1 in a received Extended Schedule element (see8.4.2.134) or Grant frame (see 8.3.1.13) and the Beamforming Training field of the BF Control field for thatSP in the same Extended Schedule element or Grant frame is 1, then the SP contains an initiator TXSS, andthe initiator shall start an initiator TXSS at the start of the next SP as indicated by the received ExtendedSchedule element or Grant frame.During the BTI, the initiator shall start an initiator TXSS (see also 9.35.4). During a CBAP, an initiator may obtain a TXOP with an initiator TXSS or may transmit a Grant frame tothe responder with the Beamforming Training and IsInitiatorTXSS fields of the BF Control field set to 1. Aresponder that receives such a Grant frame in a CBAP and that has the Grant ACK Supported field equal to1 in the responder   s DMG Capabilities element shall respond with a Grant ACK frame SIFS interval afterthe reception of the Grant frame. In the Grant ACK frame, the responder shall set the Beamforming Trainingfield to 1. The initiator starts the initiator TXSS SIFS interval after the reception of the Grant ACK frame ifthe Grant ACK Supported field in the responder   s DMG Capabilities element is 1 or PIFS interval after thetransmission the Grant frame otherwise. To transmit a Grant frame during a TXOP, the TXOP holder shallfirst terminate the TXOP by transmitting a CF-End frame followed by the transmission of the Grant framePIFS interval after the end of the last CF-End frame transmission.During an initiator TXSS, the Sector ID field in each BF frame shall be set to a value that uniquely identifiesthe transmit antenna sector employed when the BF frame is transmitted. The CDOWN field in eachtransmitted frame shall contain the total number of transmissions remaining until the end of the initiatorTXSS, such that the last BF frame transmission of the initiator TXSS has the CDOWN field set to 0. Eachtransmitted BF frame shall be separated by a time interval equal to SBIFS, unless the allocation ends asdescribed in 9.35.6. This is indicated in Figure9-51.If the initiator has more than one DMG antenna, the initiator transmits the BF frame through a number ofsectors equal to the value of the last negotiated Total Number of Sectors field that was transmitted by theinitiator to the responder. In each transmitted BF frame, the initiator shall set the Sector ID and DMGAntenna ID fields to uniquely identify the sector and the DMG Antenna ID, respectively, the initiator isusing for the frame transmission and shall set the CDOWN field to the total number of transmissionsremaining from all of the initiator   s DMG antennas. The initiator shall transmit from its DMG antennas inincreasing order of Antenna ID


page 312
For an ISS outside the BTI and if the responder has more than one DMG antenna, the initiator repeats itsinitiator sector sweep for the number of DMG antennas indicated by the responder in the last negotiatedNumber of RX DMG Antennas field that was transmitted by the responder. Repetitions of the initiator sectorsweep are separated by an interval equal to LBIFS time. In this case CDOWN indicates the number ofsectors until the end of transmission from all initiator   s DMG antennas to all responder   s DMG antennas. Atthe start of an initiator TXSS, the responder should have its first receive DMG antenna configured to aquasi-omni pattern and should not change its receive antenna configuration for a time corresponding to thevalue of the last negotiated Total Number of Sectors field transmitted by the initiator multiplied by the timeto transmit a single SSW frame, plus appropriate IFSs (9.3.2.3). After this time, the responder may switch toa quasi-omni pattern in another DMG antenna. The initiator TXSS ends at the end time of the BF frame from the initiator with the CDOWN field set to 0. Ifthe responder is unable to receive this frame, the responder shall assume that the initiator TXSS hascompleted at the expected end time of this frame. 9.35.2.2.3 Initiator RXSSAn initiator RXSS may be requested only when an initiator is aware of the capabilities of a responder, whichincludes the RXSS Length field. An initiator can obtain the capabilities of a responder using the InformationRequest and Response procedure as described in 10.29.1. When the IsInitiatorTXSS field for a specific SP in a received Extended Schedule element or Grant frame is0 and the Beamforming Training field of the BF Control field for that SP in the same Extended Scheduleelement or Grant frame is 1, then the SP shall contain an initiator RXSS, and the initiator shall start aninitiator RXSS at the start of the next SP described by the received Extended Schedule element or Grantframe.The initiator never performs an initiator RXSS during the BTI.During a CBAP, an initiator shall not obtain a TXOP with an initiator RXSS. Within a CBAP, an initiatormay transmit a Grant frame to the responder with the Beamforming Training field set to 1 and theIsInitiatorTXSS field set to 0. A responder that receives such a Grant frame in a CBAP and that has theGrant ACK Supported field equal to 1 in the responder   s DMG Capabilities element shall respond with aGrant ACK frame SIFS interval after the reception of the Grant frame. In the Grant ACK frame, theresponder shall set the Beamforming Training field to 1. The initiator starts the initiator RXSS SIFS intervalafter the reception of the Grant ACK frame if the Grant ACK Supported field in the responder   s DMGCapabilities element is 1 or PIFS interval after the transmission the Grant frame otherwise.During the initiator RXSS, the initiator shall transmit from each of the initiator   s DMG antennas the numberof BF frames indicated by the responder in the last negotiated RXSS Length field transmitted by theBF frameBF frameBF frameSBIFS (if same DMG antenna) or LBIFS (if switching DMG antenna)BF frame...CDOWN=N-2CDOWN=N-3CDOWN=N-1CDOWN=0Figure 9-51  Initiator TXSS or Initiator RXS


page 313
285responder. Each transmitted BF frame shall be transmitted with the same fixed antenna sector or pattern. Theinitiator shall set the Sector ID and DMG Antenna ID fields in each transmitted BF frame to a value thatuniquely identifies the single sector through which the BF frame is transmitted. The initiator shall set theCDOWN field in each transmitted BF frame to contain the total number of transmissions remaining to theend of the initiator RXSS, such that the last BF frame transmission of the initiator RXSS has the CDOWNfield set to 0. Each transmitted BF frame shall be separated by a time interval equal to SBIFS, except if theallocation ends as described in 9.35.6. This is indicated in Figure9-51.During an initiator RXSS, the responder should have its receive antenna array configured to sweep RXSSLength sectors for each of the initiator   s DMG antennas while attempting to receive SSW frames from theinitiator. The initiator RXSS ends at the end time of the SSW frame from the initiator with the CDOWN field set to 0.If the responder is unable to receive this frame, the responder shall assume that the initiator RXSS hascompleted at the expected end time of this frame.9.35.2.3 Responder Sector Sweep9.35.2.3.1 GeneralAn RSS comprises either a responder TXSS or a responder RXSS.A responder RXSS may be performed in an RSS when the responder chooses to use only one transmitantenna pattern across each of its DMG antennas. The responder initiates an RSS with the transmission of an SSW frame, which is the only frame allowedduring an RSS.The responder shall set the Direction subfield in the Sector Sweep field to 1 within each SSW frametransmitted during an RSS.The Duration field within each transmitted SSW frame shall be set to the time remaining until the end of theRSS or the end of the current allocation (i.e., SP, TXOP or SSW slot in the case of the A-BFT), whichevercomes first. 9.35.2.3.2 Responder TXSSIf the DMG Beacon immediately preceding an A-BFT contained a value of one in the IsResponderTXSSsubfield of the Beacon Interval Control field, then the A-BFT is a responder TXSS A-BFT.When the IsResponderTXSS field for a specific SP in a received Extended Schedule element or Grant frameis 1 and the Beamforming Training field of the BF Control field for that SP in the same Extended Scheduleelement or Grant frame is 1, then the SP contains a responder TXSS, and the responder shall initiate a TXSSfollowing the completion of the ISS in the SP described by the received Extended Schedule element or Grantframe.When the RXSS Length field within an SSW frame used to obtain a TXOP during a CBAP is 0, theresponder shall initiate a TXSS following the completion of the ISS in the TXOP described by the receivedSSW frame.During a responder TXSS, the responder shall set the Sector ID and the DMG Antenna ID fields in eachtransmitted SSW frame to a value that uniquely identifies the sector through which the SSW frame istransmitted. The initial value of CDOWN is set to the total number of sectors in the responder (covering allDMG antennas) multiplied by the number of DMG antennas at the initiator minus one. The responder shal


page 314
set the CDOWN field in each transmitted SSW frame to contain the total number of transmissions remainingto the end of the responder TXSS, such that the last SSW frame transmission of the responder TXSS has theCDOWN field set to 0. The responder shall transmit from its DMG antennas in increasing order of AntennaID. Each transmitted SSW frame shall be separated by an interval of time equal to SBIFS. Transmissions arenot separated by SBIFS if the allocation ends as described in 9.35.4 and 9.35.6 or if the end of an SSW slotis reached as described in 9.35.5 or when the responder completed a full sweep of all its transmit sectors andis ready to transmit to another DMG antenna of the initiator. In the latter case, the next transmission isseparated from the previous transmission by LBIFS interval. This is indicated in Figure9-52. A responder that has more than one DMG antenna and has set the value of the DMG Antenna Reciprocityfield in its DMG Capabilities element to 0 transmits sequentially through all the sectors of all of its DMGantennas. A responder that has more than one DMG antenna and has set the value of the DMG AntennaReciprocity field in the responder   s DMG Capabilities element to 1 transmits through the DMG antennafrom which it had the best reception in the initiator sector sweep. The length of the sector sweep to each ofthe initiator   s DMG antennas is not dependent on the value of the DMG Antenna Reciprocity field.A responder that has only one DMG antenna should transmits through all its sectors, regardless of the settingof the DMG Antenna Reciprocity field.The responder shall set the Sector Select field and the DMG Antenna Select field in each transmitted SSWframe to the value of the Sector ID field and DMG Antenna ID field, respectively, of the frame received withthe best quality during the ISS. The determination of which frame is received with best quality isimplementation dependent and beyond the scope of this standard. The responder shall set the SNR Reportfield to the SNR measured for the frame indicated by the Sector Select field and DMG Antenna Select field.If the initiator has more than one DMG antenna, the responder repeats its responder sector sweep for thenumber of DMG antennas indicated by the initiator in the last negotiated Number of RX DMG Antennasfield transmitted by the initiator. At the start of a responder TXSS, the initiator should have its receiveantenna array configured to a quasi-omni antenna pattern in one of its DMG antennas for a timecorresponding to the value of the last negotiated Total Number of Sectors field transmitted by the respondermultiplied by the time to transmit a single SSW frame, plus any appropriate IFSs (9.3.2.3). After this time,the initiator may switch to a quasi-omni pattern in another DMG antenna.The responder TXSS ends at the end time of the SSW frame from the responder with the CDOWN field setto 0. If the initiator is unable to receive this frame, the initiator shall assume that the responder TXSS hascompleted at the expected end time of this frame.SSW frameSSW frameSSW frameSSW frame...CDOWN=N-2CDOWN=N-3CDOWN=N-1CDOWN=0SBIFS (if same DMG antenna) or LBIFS (if switching DMG antenna)Figure 9-52  Responder TXSS or Responder RXS


page 315
2879.35.2.3.3 Responder RXSSIf the DMG Beacon immediately preceding an A-BFT contained a value of zero in the IsResponderTXSSsubfield of the Beacon Interval Control field within the DMG Beacon, then the A-BFT is a responder RXSSA-BFT. When the IsResponderTXSS field for a specific SP in a received Extended Schedule element or Grant frameis 0 and the Beamforming Training field of the BF Control field for that SP in the same Extended Scheduleelement or Grant frame is 1, then the SP contains a responder RXSS, and the responder shall initiate anRXSS following the completion of the ISS in the SP described by the received Extended Schedule elementor Grant frame. When the RXSS Length field within an SSW frame used to obtain a TXOP during a CBAP is equal to anonzero value, the responder shall initiate an RXSS following the completion of the ISS in the TXOPdescribed by the received SSW frame.During the responder RXSS, the responder shall transmit the number of SSW frames indicated by theinitiator in the initiator   s most recently transmitted RXSS Length field (non-A-BFT) or FSS field (A-BFT)from each of the responder   s DMG antennas, each time with the same antenna sector or pattern fixed for allSSW frames transmission originating from the same DMG antenna. The responder shall set the Sector IDand DMG Antenna ID fields in each transmitted frame to a value that uniquely identifies the sector andDMG antenna, respectively, through which the BF frame is transmitted. The responder shall set theCDOWN field in each transmitted SSW frame to contain the total number of transmissions remaining untilthe end of the responder RXSS, such that the last SSW frame transmission of the responder RXSS has theCDOWN field equal to zero. Each transmitted SSW frame shall be separated by an interval of time equal toSBIFS, except if the allocation ends as described in 9.35.6 or if the end of an SSW slot is reached asdescribed in 9.35.5. This is indicated in Figure9-52.The responder shall set the Sector Select field and the DMG Antenna Select field in each transmitted SSWframe to the value of the Sector ID field and the DMG Antenna ID field, respectively, of the frame receivedwith the best quality during the ISS. The determination of which frame is received with best quality isimplementation dependent and beyond the scope of this standard. At the start of a responder RXSS, the initiator should have its receive antenna array configured to sweepover RXSS Length sectors for each of the responder DMG antennas when it attempts to receive frames fromthe responder until the completion of the responder RXSS.The responder RXSS ends at the end time of the SSW frame from the responder with the CDOWN field setto 0. If the initiator is unable to receive this frame, the initiator shall assume that the responder RXSS hascompleted at the expected end time of this frame.9.35.2.4 Sector Sweep FeedbackSector Sweep Feedback (SSW Feedback) occurs following each RSS.During SSW Feedback, the initiator shall transmit an SSW-Feedback frame to the responder.During SSW Feedback, the responder should have its receive antenna array configured to a quasi-omniantenna pattern in the DMG antenna through which it received with the highest quality during the ISS, or tothe best antenna configuration it has found during RXSS if RXSS has been performed during the ISS, andshould not change its receive antenna configuration when it communicates with the initiator until theexpected end of the SSW Feedback


page 316
The initiator shall set the SNRReport field to the SNR measured on the frame on the receive sector designated by the RSS. The SSW-Feedback frame shall be transmitted through the sector identified by the value of the Sector Select fieldreceived from the responder during its most recently completed RSS with the initiator. In the transmitted SSW-Feedback frame, the initiator shall set the TX-TRN-REQ field to one if it desires tohave transmitter training as part of the beam refinement phase and shall set the L-RX field to indicate thelength of the training sequence it requests the responder to use in the beam refinement phase. If the initiatordesires to carry out the MIDC subphase as part of the beam refinement, it shall set the BC-REQ field to 1 torequest a BC subphase and shall set the MID-REQ field to 1 to request an MID subphase; in this case, the L-RX field shall be set to indicate the number of receive AWVs the initiator uses during the MID subphase. If the responder receives an SSW-Feedback frame from the initiator before it completes the RSS with theinitiator such as described in 9.35.5, the responder may cease the RSS.9.35.2.5 Sector Sweep ACKWhen present, the Sector Sweep ACK (SSW ACK) occurs following an SSW Feedback.When a responder TXSS is performed during an RSS, the responder shall transmit an SSW-ACK frame tothe initiator to perform an SSW ACK. The SSW-ACK frame shall be transmitted through the sectoridentified by the value of the Sector Select field and the DMG Antenna Select field received from theinitiator in the last SSW Feedback.  When an RXSS was performed during an RSS, an SSW-ACK frame shall be sent by the responder to theinitiator. The SSW-ACK should be sent by the DMG antenna indicated in the DMG Antenna Select field inthe last SSW-Feedback frame. In the transmitted SSW-ACK frame, the responder shall set the TX-TRN-REQ field to one if it requirestransmitter training as part of the beam refinement phase and shall set the L-RX field to indicate the lengthof the training sequence it requests the initiator to use in the beam refinement phase as described in 8.4a.4. Ifthe responder desires to carry out a MID subphase, it sets the MID-REQ bit to 1 in the BRP Request field ofthe SSW frame. In this case, it shall also set the L-RX field to indicate the number of receive AWVs it usesduring the MID subphase. If the responder desires to carry out a BC subphase, it sets the BC-REQ bit to 1. Ifthe initiator has set either the MID-REQ or the BC-REQ fields to 1 in the SSW-Feedback frame, theresponder may set the MID-Grant or the BC-Grant fields to 1, or both, to grant the requests. At the start of an SSW ACK, the initiator should have its receive antenna array configured to a quasi-omniantenna pattern using the DMG antenna through which it received with the highest quality during the RSS,or the best receive sector if an RXSS has been performed during the RSS, and should not change its receiveantenna configuration while it attempts to receive from the responder until the expected end of the SSWACK


page 317
2899.35.3 Beam Refinement Protocol (BRP) phase9.35.3.1 GeneralBRP is a process in which a STA trains its RX and TX antenna array(s) and improves its TX antennaconfiguration and RX antenna configuration using an iterative procedure. BRP may be used regardless ofthe antenna configuration a STA supports. The BRP phase is composed of a BRP setup subphase, a Multiple sector ID Detection (MID) subphase, aBeam Combining (BC) subphase, a subset of the previous subphases, and one or more beam refinementtransactions. BRP setup allows STAs to exchange beam refinement capability information and to request theexecution of the other BRP subphases. MID and BC (collectively, the MIDC subphase) are optionally usedto find better initial AWVs for iterative beam refinement than might have been found by SLS due toimperfect quasi-omni receive antenna patterns. In MID, a quasi-omni transmit pattern is tested against anumber of receive AWVs; this reverses the scanning roles from the transmit sector sweep. In BC, a small setof transmit and receive AWVs are tested in pairwise combinations, thus avoiding the use of quasi-omnipatterns. Finally, given the starting point from SLS or MIDC, STAs can explore a broader set of transmitand receive AWVs using a request/response exchange referred to as a beam refinement transaction. The BRP setup subphase may be skipped if the BRP follows an SSW-ACK frame and no MID or BCsubphases were requested during the SLS. MID and BC subphases can be skipped if either STA indicatesthat the subphase is not needed by setting the MID-REQ and BC-REQ fields to 0 or by setting the MID-Grant and BC-Grant fields to 0. The beam refinement transaction can be skipped if both sides indicate thatthe transaction is not needed by setting the L-RX and TX-TRN-REQ fields to 0. The BRP setup phase is defined in 9.35.3.2. The MID subphase is composed of either an R-MID subphase or an I-MID subphase or both, which arecomposed of one or more transmissions of BRP-RX packets (21.10.2.2), followed by feedback contained inthe next BRP frames from the initiator and responder. The BC subphase is composed of either an R-BC subphase or an I-BC subphase or both, which arecomposed of transmission of BRP-RX packets to select a beam, followed by feedback. A beam refinement transaction is a set of BRP frames consisting of beam refinement requests and responses.A beam refinement request can be either a transmit beam refinement request or a receive beam refinementrequest or both. A transmit beam refinement request (TX-TRN-REQ field within the BRP Request field set to 1) indicatesthe need for transmit antenna array training by the transmitting STA. The BRP packet that has the TX-TRN-REQ set to 1 (or the next BRP packet from this STA) shall include transmit training (TRN-T) subfieldsappended to it. The STA responding to the BRP packet shall include feedback based on measurements itperformed during the reception of the BRP packet. The feedback type is dictated by the FBCK-TYPE fieldwithin the DMG Beam Refinement element contained in the BRP packet. A receive beam refinement request (L-RX field within the BRP Request field greater than zero) indicates theneed of the receive antenna array training for the transmitting STA. The responding STA shall respond witha BRP packet with receive training (TRN-R) subfields appended to it.Requests and responses can be combined in the same frame. As an example, the same frame can be both atransmit beam refinement request and a receive beam refinement request. The same frame can also beusedas receive beam refinement response and a receive beam refinement request. See the example inFigure9-53


page 318
Beam refinement responses are separated from beam refinement requests by at least a SIFS interval and atmost a BRPIFS interval provided sufficient time is available for the complete transmission of those frameswithin the allocation. Similarly, a beam refinement request, if any, is separated from a preceding beamrefinement response by at least a SIFS interval and at most a BRPIFS interval provided sufficient time isavailable for the complete transmission of the beam refinement request within the allocation.When performing BRP, if a responding STA requires longer than SIFS to transmit a BRP frame as aresponse for beam refinement training request from a requesting STA, the responding STA should keep theIFS not longer than SIFS by transmitting one or more PPDUs to the requesting STA.When the beam refinement occurs within the same allocation as the SLS, the SLS initiator is the beamrefinement initiator. If the beam refinement occurs in a separate allocation, the STA that transmits the firstbeam refinement request is the beam refinement initiator. The other STA is the beam refinement responder.A beam refinement transaction is complete when the initiator determines that it does not need furthertraining and it has received a BRP frame with no training requests from the beam refinement responder. In Figure9-53, the first packet (from the initiator) has TX-TRN-REQ=1, the L-RX field has a value greaterthan zero and TRN-T subfields are appended to the packet. The second packet (from the responder) has avalue greater than zero in the L-RX field, the TX-train-response field set to 1, the RX-train-response field setto 1, and TRN-R subfields are appended to the packet. The last packet (from the initiator) has RX-train-response set to 1 and TRN-R subfields are appended to the packet. 9.35.3.2 BRP setup subphaseThe BRP setup subphase is used to exchange the intent and capabilities to conduct some or all of thesubphases and beam refinement transactions in a subsequent BRP phase. The BRP setup subphase is used toset up the MIDC subphase, but can also be used to set up beam refinement transactions. The BRP setup subphase shall be used in the following two cases:  When the RSS part of the SLS phase occurred in an A-BFT, in which case the SSW-ACK frame wasnot part of the SLS.Transmit BRP request, TX-TRN-REQ=1,Receive BRP request,L_RX>0Transmit BRP Feedback, TX-train-response=1Receive BRP training, RX-train-response=1Receive BRP request, L_RX>0TX-TRN-OK=1 BRP train response,RX-Train-response=1TRN-T subfieldsTRN-R subfiledsTRN-R subfieldsSIFSBRPIFSSIFSBRPIFSFigure 9-53  An example of a beam refinement transactionTRN-R subfield


page 319
291  When the initiator set the MID-REQ or BC-REQ fields in the SSW-Feedback frame to 1 or theresponder set the MID-REQ or BC-REQ fields in the SSW-ACK frame to 1.The BRP setup subphase starts with the initiator sending a BRP packet with the Capability Request subfieldset to 1 and with the remaining subfields within the BRP Request field set according to the initiator   s needfor an MID subphase, a BC subphase, and a beam refinement subphase. The BRP setup subphase can alsostart when the responder grants a MID-REQ or BC-REQ through the SSW-ACK frame or when theresponder requests MID or BC in the SSW-ACK frame. Upon receiving a BRP packet with the CapabilityRequest subfield set to 1, the responder shall respond with a BRP packet with the subfields within the BRPRequest field set according to the responder   s desire for an MID subphase, a BC subphase and a beamrefinement subphase. This process is repeated until the responder transmits to the initiator a BRP packetwith the Capability Request subfield set to 0 and the initiator sends as a response a BRP packet with theCapability Request subfield also set to 0. The BRP packet from the initiator that initiates the termination ofthe BRP setup subphase can be the first BRP packet of the BRP phase, either as part of beam refinement oras part of a MID or BC subphase. A DMG STA (either initiator or responder) requests a MID subphase with MID and BC subphases (see9.35.6.3.2) by setting both the MID-REQ and BC-REQ subfields to 1 in the BRP Request field of an SSW-Feedback, SSW-ACK or BRP frame. It shall also set the L-RX subfield in the BRP Request field to thenumber of RX AWV settings it needs in each BRP-RX packet during the MID subphase. The peer DMGSTA grants the request by setting the MID-Grant and BC-Grant subfields to 1 in the BRP Request fieldwithin the next SSW-ACK or BRP frame transmitted to the requesting DMG STA. If either the MID or BCwere not granted by the peer STA, the MID and BC subphases shall not occur. A DMG STA (either initiator or responder) requests an MID only subphase (see 9.35.6.3.3) by setting theMID-REQ subfield to 1 in the BRP Request field of an SSW-Feedback, SSW-ACK or BRP frame. The STAshall also set the L-RX subfield in the BRP Request field to the number of RX AWV settings it needs in eachBRP-RX packet  during the MID-subphase. The peer DMG STA grants the request by setting the MID-Grant subfield to 1 in the BRP Request field within the next SSW-ACK or BRP frame transmitted to therequesting DMG STA. The Capability Request subfield and request subfields (TX-TRN-REQ, L-RX, MID-REQ, BC-REQ) within the granting frame shall be set to 0.If the MID-REQ was granted, the requesting STA shall transmit a BRP frame with the SNR Present andSector ID Order Present subfields set to 1 and with the Nmeas field in the FBCK-TYPE field indicating thenumber of SNR measurements from the last SLS phase. In the Channel Measurement Feedback element, therequesting STA sets the SNR subfields to the SNRs corresponding to the TX sectors received during theSLS phase. In the Sector ID Order subfield, the requesting STA lists the sector IDs of the received sectors.The Capability Request field within the BRP frame shall be set to 0. The MID subphase starts with thetransmission of a BRP packet from the peer STA after the reception of the list of sectors. A STA that hasgranted a MID only request shall not request MID or BC in the response packet. The STA may request MIDor BC in the last packet it transmits to the requesting STA as part of the MID. The MID only subphase shallnot occur if it was not granted by the peer STA.A DMG STA (either initiator or responder) requests a BC only subphase (see 9.35.6.3.4) by setting the BC-REQ subfield to 1 in the BRP Request field of an SSW-Feedback, SSW-ACK, or BRP frame. The peerDMG STA (either a responder or initiator) grants the request by setting the BC-Grant subfield to 1 in theBRP Request field within the next SSW-ACK or BRP frame transmitted to the requesting STA. The BCsubphase shall not occur if the peer STA does not grant the request.A DMG STA indicates that beam refinement transactions (9.35.6.4.2) occur by setting the L-RX field to avalue greater than 0 to indicate the need for receive beam refinement or by setting the value of the TX-TRN-REQ field to 1 to indicate the need for transmit beam refinement or by setting both. The beam refinementtransactions shall occur if at least one of these conditions is met


page 320
If the initiator has requested an MID subphase by setting the MID-REQ subfield or the BC-REQ subfield to1 and the responder rejected by setting in the response the MID-Grant subfield or the BC-Grant subfield to0, respectively, the initiator should send a BRP frame with the MID-REQ field set to 0 and the L-RX fieldset to indicate the number of TRN-R fields the initiator requests for use in the BRP transaction.If the responder has requested an MID subphase by setting the MID-REQ subfield or the BC-REQ subfieldto 1 and the initiator rejected by setting in the response the MID-Grant or the BC-Grant subfields to 0, theinitiator should send a BRP frame with the Capability Request subfield set to 1. The responder shall respondwith a BRP frame with the MID-REQ field set to 0 and the L-RX field set to indicate the number of TRN-Rfields the responder requests for use in the BRP transaction. Beam refinement transactions shall occur following a MIDC subphase when one or both of the followingconditions are met at the last BRP frame transmitted by either the initiator or responder as part of the MID orBC subphases: a)Either the initiator or the responder set the L-RX field to a value greater than 0. b)Either the initiator or responder has set the value of the TX-TRN-REQ field to 1.If within the appropriate IFS the initiator does not receive a response from the responder to a packettransmitted to the responder, the initiator may retransmit the packet.After the BRP setup subphase, beamforming training shall immediately continue to the next phase (i.e.,either MIDC subphase or the beam refinement transactions). Examples of BRP setup subphase proceduresare illustrated in Figure9-54, Figure9-55, Figure9-59, Figure9-60, and Figure9-66. Figure 9-54  Example of BRP setup subphase procedure (SLS in BTI and A-BFT


page 321
2939.35.4 Beamforming in BTIIn the BTI, the PCP/AP performs an initiator TXSS as the first part of the SLS with the transmission of atleast one DMG Beacon frame. The PCP/AP does not transmit SSW frames in the BTI (9.35.2.2.1). The PCP/AP may fragment the initiator TXSS over multiple consecutive BTIs by not transmitting a DMGBeacon frame through all sectors available to the PCP/AP in a single BTI. In a BTI with a fragmentedinitiator TXSS, the PCP/AP shall transmit DMG Beacon frames with the Fragmented TXSS field set to 1.Otherwise, the PCP/AP shall set the Fragmented TXSS field to zero. The PCP/AP shall not change theduration of the next BTI if at least one of the DMG Beacon frames transmitted in the current BTI have theFragmented TXSS field set to 1. The CDOWN field shall be set to the total number of transmissionsremaining to the end of the initiator TXSS, such that the last DMG Beacon frame transmission of theinitiator TXSS has the CDOWN field set to 0 (i.e., in a fragmented TXSS, the value of the CDOWN fieldcovers the total number of transmissions remaining in the fragmented TXSS). The TXSS Span field shall beset to the total number of beacon intervals it takes the PCP/AP to complete the entire TXSS phase. TheDuration field within each transmitted DMG Beacon shall be set to the time remaining until the end of thecurrent BTI. When a PCP/AP has more than one DMG antenna, the TXSS shall cover all the sectors in all DMGantennas. The TXSS Span field indicates the total number of beacon intervals it takes the PCP/AP to coverall sectors in all DMG antennas. The value of the TXSS Span field shall be lower thandot11MaximalSectorScan. The PCP/AP shall not change DMG antennas within a BTI. The PCP/AP has aregular schedule of transmitting through each DMG antenna (see 9.35.5.4). NOTE  If an unassociated responder receives a DMG Beacon frame in the BTI with a fragmented initiator TXSS, theresponder may start a responder TXSS in the following A-BFT, or it may scan for the number of beacon intervalsindicated in a received TXSS Span field in order to cover a complete initiator TXSS and find a suitable TX sector fromthe PCP/AP.From start until the completion of a TXSS phase, all DMG Beacon frames transmitted by the PCP/AP shallhave the same value for all the subfields within the Beacon Interval Control field and DMG Parametersfield. Figure 9-55  Example of BRP setup subphase procedure (SLS in DTI


page 322
9.35.5 Beamforming in A-BFT9.35.5.1 Allocation of A-BFT The PCP/AP shall allocate an A-BFT period MBIFS time following the end of a BTI that included a DMGBeacon frame transmission with Next A-BFT equal to 0. Following the end of a BTI, the PCP/AP shall decrement the value of the Next A-BFT field by one providedit is not equal to zero and shall announce this value in the next BTI. When the Next A-BFT field in atransmitted DMG Beacon is equal to 0, the value of the A-BFT Length field is no less thanaMinSSSlotsPerABFT as described in 9.35.5.2. The PCP/AP may increase the Next A-BFT field valuefollowing a BTI in which the Next A-BFT field was equal to zero. A STA shall consider that a BTI iscompleted at the expiration of the value within the Duration field of the last DMG Beacon frame received inthat BTI.All DMG Beacon frames transmitted within the number of beacon intervals specified within the mostrecently updated TXSS Span field have the same value for all the subfields within the Beacon IntervalControl field (10.1.3.2a).9.35.5.2 Operation during the A-BFTBeamforming training in the A-BFT consists of the RSS and SSW Feedback of the SLS between the PCP/AP and a STA.In the A-BFT, the PCP/AP is the initiator and the STA is the responder in the RSS part of the SLS (9.35.2.3).The BRP phase shall not be performed within the A-BFT. A STA shall not transmit in the A-BFT of abeacon interval if it does not receive at least one DMG Beacon frame during the BTI of that beacon interval.A DMG STA that receives a DMG Beacon frame with the Discovery Mode field equal to 1 and the CCPresent field equal to 1 may transmit in the A-BFT following the BTI where the DMG Beacon frame isreceived if at least one of the following conditions is met:  The STA   s MAC address is equal to the value of the A-BFT Responder Address subfield within theDMG Beacon.  The value of the A-BFT Responder Address subfield within the DMG Beacon is a group address ofa group to which the STA belongs.If none of these conditions is met following the reception of the DMG Beacon frame with the DiscoveryMode field equal to 1 and the CC Present field equal to 1, the DMG STA shall not transmit in the A-BFT.The A-BFT is slotted and the length of the A-BFT is an integral multiple of the sector sweep slot time. Thestructure of the A-BFT is shown in Figure9-56. The PCP/AP shall announce the size of the A-BFT in the A-BFT Length subfield of the Beacon Interval Control field (8.3.4.1), which shall be no less thanaMinSSSlotsPerABFT sector sweep (SSW) slots. The first SSW slot begins at the start of the A-BFT, andthe following SSW slots are adjacent and nonoverlapping. An SSW slot (Figure9-57) is a period of timewithin the A-BFT that can be used by a responder to transmit at least one SSW frame. An SSW slot has aduration of aSSSlotTime. aSSSlotTime is defined to be aSSSlotTime = aAirPropagationTime + aSSDuration + MBIFS + aSSFBDuration + MBIFSThe parameter aAirPropagationTime accounts for the propagation delay between the initiator and theresponder. The parameter aSSDuration (10.38) provides time for a responder to transmit up to the number ofSSW frames announced in the FSS subfield of the Beacon Interval Control field in the DMG Beacon. Theinitiator shall set the FSS subfield of the Beacon Interval Control field in the DMG Beacon to a value that i


page 323
295no less than aSSFramesPerSlot. Finally, the parameter aSSFBDuration provides time for the initiator toperform SSW Feedback.If the IsResponderTXSS subfield of the Beacon Interval Control field is equal to 1, the A-BFT shall be usedto perform a responder TXSS. Otherwise, the A-BFT shall be used to perform a responder RXSS. In the caseof a responder RXSS, the same slotted structure described above is used and the responder shall transmit thenumber of SSW frames announced in the FSS field in the DMG Beacon. If the PCP/AP allocates the A-BFTas a responder RXSS, it should set the value of the FSS field within the Beacon Interval Control to thenumber of receive sectors supported by the PCP/AP. The PCP/AP shall allocate the A-BFT as a responderTXSS at least once every dot11ABFTRTXSSSwitch beacon intervals in which an A-BFT is present. At the start of each A-BFT, the responder(s) shall invoke a random backoff procedure to initiate or resumean RSS as follows. The random backoff procedure begins at the start of the A-BFT with the responderSSW-FeedbackBTIA-BFTATIDTIBTIBeacon IntervalA-BFT LENGTH = 8Example of A-BFT with length 8 and with each SSW slot accommodating 8 SSW frames. A possible contention between 3 STAs is shown in the figure below: STAs A, B and C are competing for access. All STAs choose a random value between [0,7]. STA A chooses value = 2, while STAs B and C choose value = 5, which might result in a collision.STA ASTA B & CaSSSlotTimeSSWSBIFSNumber of SSW frames transmitted in aSSDuration = Value of the FSS subfield of the Beacon Interval Control field within the DMGBeacon. In the example shown above, the value of FSS is 8.SSW-Feedback...Figure 9-56  A-BFT structureResponder TXSS or             Responder RXSSSSW FeedbackMBIFSMBIFSaSSSlotTimeaSSDurationaSSFBDurationaAirPropagationTimeFigure 9-57  SSW slot (aSSSlotTime) definitio


page 324
selecting a backoff count as a random integer drawn from a uniform distribution [0, A-BFT Length), i.e., 0to A-BFT Length    1, where A-BFT Length is the value of the A-BFT Length field in the last received DMGBeacon. The responder shall decrement the backoff count by one at the end of each SSW slot, even if the CSfunction at the responder indicates the medium busy condition for that SSW slot. The responder may initiatethe RSS only at the start of the SSW slot for which the backoff count is 0 at the beginning of the SSW slot. The responder shall transmit no more SSW frames within an SSW slot than indicated in the value of the FSSsubfield in the DMG Beacon. If the responder has more SSW frames to transmit as part of the RSS, but isnot allowed to send any more SSW frames in the current SSW slot, then the responder may resume the RSSat the start of the following SSW slot provided that the A-BFT has not ended. If the responder cannotcomplete the RSS before the end of the A-BFT, it may use the same backoff procedure described above toresume the RSS at the next A-BFT for which the value of the IsResponderTXSS field is the same as thecurrent A-BFT. The initiator shall initiate an SSW Feedback to a responder (9.35.2.4) at a time such that the beginning of thefirst symbol of the SSW-Feedback frame on the air occurs at aSSFBDuration + MBIFS before the end of theSSW slot. A responder that transmitted at least one SSW frame within a SSW slot shall be in quasi-omnireceive mode for a period of aSSFBDuration ending MBIFS time before the end of the SSW slot. Theinitiator may initiate an SSW Feedback to the responder at an SSW slot even if the responder did notcomplete RSS within that SSW slot. If the initiator transmits an SSW-Feedback under this circumstance, itcan transmit an Announce frame to the responder in an ATI. Following the reception of the Announceframe, the responder can respond with an SPR frame requesting time for the responder to continue with theRSS. Alternatively, the responder can transmit an SPR frame to the PCP/AP in accordance with the channelaccess rules. The information contained in an SSW-Feedback frame is based on the SSW frames received during theSSW slot in which the SSW-Feedback frame was transmitted. To communicate with each other following anSLS, an initiator and responder should use the information contained within the SSW-Feedback frame thathad the highest value for the SNR Report field and was transmitted or received, respectively, as part of themost recent SLS between the initiator and responder.A responder that receives an SSW-Feedback frame from the initiator during an A-BFT that was allocatedwith a DMG Beacon frame with Discovery Mode equal to 1 should not attempt to access the followingaMaxABFTAccessPeriod A-BFT allocations to redo beamforming with the initiator, unless in the BTIpreceding the A-BFT the responder receives a DMG Beacon frame that has the Discovery Mode field equalto 1, the CC Present field equal to 1 and the value of the A-BFT Responder Address subfield equal to theresponder   s MAC address. This allows other STAs the opportunity to successfully contend for A-BFTaccess and perform beamforming with the initiator.The responder may attempt to restart the RSS within the same A-BFT if it does not receive a SSW-Feedbackframe from the initiator by the end of the SSW slot in which it completes the RSS. To do this, the respondershall invoke the random backoff procedure beginning at the start of the SSW slot following the completionof the RSS. The responder shall select a backoff count as a random integer drawn from a uniformdistribution [0, A-BFT Length), i.e., 0 to A-BFT Length    1, where A-BFT Length is the value of the A-BFTLength field in the last received DMG Beacon. The responder shall decrement the backoff count by one atthe end of each SSW slot, even if the CS function at the responder indicates the medium busy condition forthat SSW slot. The responder may restart the RSS at the start of the SSW slot for which the backoff count is0 at the beginning of the SSW slot provided the A-BFT still has SSW slots available.At the end of an A-BFT the responder shall cancel a backoff procedure that was started during the A-BFT,but has not been completed at the end of the A-BFT. As described above, the responder invokes a randombackoff procedure at the start of each A-BFT


page 325
297Each STA maintains a counter, FailedRSSAttempts, of the consecutive number of times the STA initiatesRSS during A-BFTs but does not successfully receive an SSW-Feedback frame as a response. IfFailedRSSAttempts exceeds dot11RSSRetryLimit, the STA shall select a backoff count as a random integerdrawn from a uniform distribution [0, dot11RSSBackoff), i.e., 0 inclusive through dot11RSSBackoffexclusive. The responder shall decrement the backoff count by one at the end of each A-BFT period in thefollowing beacon intervals. The responder may re-initiate RSS only during an A-BFT when the backoffcount becomes zero. The STA shall set FailedRSSAttempts to 0 upon successfully receiving an SSW-Feedback frame during the A-BFT. In an A-BFT, the responder shall not initiate SSW ACK (9.35.2.5) in response to the reception of a SSW-Feedback frame from the initiator. The SSW ACK only occurs within the DTI of a beacon interval(9.35.6.2).If the PCP/AP receives an SSW frame from the responder during the RSS with the Poll Required fieldwithin the SSW frame equal to 1 and the TDDTI field within the PCP/AP   s DMG Capabilities element is 1,the PCP/AP shall allocate time for the responder and the PCP/AP to communicate during the ATI or withinan SP of the DTI of at least one of the following aMinBTIPeriod beacon intervals beginning with the beaconinterval in which the SSW frame was received. This can be done through the Extended Schedule element orthe transmission of a Poll or Grant frame addressed to the responder, and the allocated time can be used forat least one of association, authentication, and service period request. After transmitting an SSW-Feedback frame to the responder, the initiator shall send a BRP frame with theCapability Request subfield within the BRP Request field set to 1 and addressed to the responder. The BRPframe shall be sent in one of the following aMinBTIPeriod beacon intervals beginning with the beaconinterval in which the RSS phase with the responder was last completed. The BRP frame shall be transmittedat MCS 0 using the sector identified by the Sector Select field received from the responder during the RSS.In an ATI after the completion of the SSW Feedback, a responder should have its receive antennaconfigured to a quasi-omni antenna pattern in the DMG antenna in which it received the best sector from theinitiator during the preceding ISS in order to receive an Announce, Grant, or BRP frame (with the CapabilityRequest subfield within the BRP Request field set to 1) from the initiator, while the initiator shouldconfigure its transmit DMG antenna to the value of the Sector Select and the DMG Antenna Select fieldsreceived from the responder during the preceding RSS. If the responder does not receive an Announce orGrant frame from the initiator with the RA address equal to the responder   s MAC address untilaMinBTIPeriod beacon intervals after the beacon interval in which the SLS phase with the initiator was lastattempted, it may retry BF with the initiator in the A-BFT.Due to the multiple access nature of RSS in the A-BFT, the PCP/AP might not receive the best sector forcommunication with the STA. The PCP/AP may schedule an SP to perform BF again with the STA to findthe best sector for communication with the STA. 9.35.5.3 STA Beamforming after A-BFTThe initiator shall either initiate BRP execution with the responder in the next CBAP or shall schedule timein the DTI for BRP execution with the responder if the initiator needs BRP training or the responderindicated a need for training (by setting any of the L-RX, TX-TRN-REQ, MID-REQ, or BC-REQ fields to anonzero value) as a response to an SSW-Feedback or BRP frame with Capability Request subfield withinthe BRP Request field set to 1. The responder may initiate BRP in a CBAP by sending a BRP frame with any of the training request fields(i.e., L-RX, TX-TRN-REQ, MID-REQ, BC-REQ) set to 1.To schedule time in the DTI for BRP execution with the responder, the initiator shall transmit a Grant frameto the responder in one of the following aMinBTIPeriod beacon intervals beginning with the beacon interva


page 326
in which the SLS phase with the responder was last completed. In the Grant frame, the initiator shall set theRA field to the MAC address of the responder and the TA field to the MAC address of the initiator. In theDynamic Allocation Info field of the Grant frame, the AllocationType field shall be set to indicate SP, thesource AID field shall be set to the AID of the initiator, the destination AID field shall be set to the broadcastAID and the Allocation Duration field shall be set to the expected duration of the BRP phase. If the initiator receives at least one SSW frame from a responder within an A-BFT but did not transmit anSSW-Feedback frame to the responder within that A-BFT, the initiator may schedule time in the DTI for theresponder to complete the RSS. To do that, the initiator shall transmit a Grant frame to the responder beforethe next A-BFT. In the Grant frame, the initiator shall set the RA field to the MAC address of the responderand the TA field to the MAC address of the initiator. In the Dynamic Allocation Info field of the Grantframe, the AllocationType field shall be set to indicate SP, the source AID field shall be set to the broadcastAID, the destination AID field shall be set to the AID of the initiator and the Allocation Duration field shallbe set to cover for at least the remaining duration of the RSS. The initiator may transmit an Announce frame to the responder during the ATI to announce a CBAPallocation in the beacon interval. If the responder receives the Announce frame with a CBAP allocation, theresponder may contend for a TXOP during a CBAP to perform the BRP execution with the initiator orcontinue the RSS with the initiator. Any Announce or Grant frames the initiator sends to a responder after initiating beamforming with theresponder in the A-BFT but before beamforming with the responder is completed shall be transmitted atMCS 0 using the sector identified by the Sector Select field received from the responder in the RSS.The execution of the beamforming procedure in an allocation in the DTI is described in 9.35.6. 9.35.5.4 Beamforming in A-BFT with multiple DMG antennasA PCP/AP shall receive through a quasi-omni antenna pattern from a single DMG antenna throughout an A-BFT unless RXSS is used in the A-BFT, in which case it switches through antenna patterns as described in9.35.5.2.A PCP/AP shall have an A-BFT every k beacon intervals, where k is the value indicated by the N BIs A-BFTsubfield in the Beacon Interval Control field. In an A-BFT, the PCP/AP shall receive in a quasi-omniantenna pattern using the DMG antenna indicated by the value of the DMG Antenna ID subfield within theSSW field transmitted in the DMG Beacon. A PCP/AP with multiple DMG antennas has a regular scheduleof receiving through each DMG antenna corresponding to the DMG antenna in which a DMG Beacon istransmitted through. The PCP/AP shall switch RX DMG antenna every l allocations, where l is the value ofthe N A-BFT in Ant subfield within the Beacon Interval Control field. In each DMG Beacon, the A-BFT Count subfield in the Beacon Interval Control field indicates the numberof A-BFTs that have passed since the PCP/AP last switched RX DMG antennas.9.35.6 Beamforming in DTI9.35.6.1 GeneralAn initiator and responder may perform BF training in the DTI within an SP allocation or within a TXOPallocation. An initiator shall determine the capabilities of the responder prior to initiating BF training with theresponder if the responder is associated. A STA may obtain the capabilities of other STAs through theInformation Request and Information Response frames (10.29.1) or following a STA   s association with th


page 327
299PBSS/infrastructure BSS. The initiator should use its own capabilities and the capabilities of the responderto compute the required allocation size to perform BF training and BF training related timeouts. An initiator may request the PCP/AP to schedule an SP to perform BF training with a responder by settingthe Beamforming Training subfield in the BF Control field of the DMG TSPEC element or SPR frame to 1.The PCP/AP shall set the Beamforming Training subfield to 1 in the Allocation field of the ExtendedSchedule element if the Beamforming Training subfield in the BF Control field of the DMG TSPEC elementor SPR frame that generated this Allocation field is equal to 1. The PCP/AP should set the BeamformingTraining subfield in an Allocation field of the Extended Schedule element to 0 if this subfield was equal to 1when the allocation was last transmitted by the PCP/AP in an Extended Schedule element and if, since thatlast transmission, the PCP/AP did not receive a DMG TSPEC element for this allocation with theBeamforming Training subfield equal to 1.9.35.6.2 SLS phase executionFor BF training in the DTI, both the initiator and responder shall use the SSW frame for the ISS and RSS. The initiator shall begin an ISS (9.35.2.2) at the start of the allocation with an initiator TXSS, except whenthe allocation is an SP and the IsInitiatorTXSS field for this SP is equal to 0 in which case the initiator shallbegin an ISS with an initiator RXSS. If the initiator begins the SLS within a CBAP and the responder has more than one DMG antenna, theinitiator shall repeat its ISS k+1 times, where k is the value indicated by the responder in the last negotiatedNumber of RX DMG Antennas field transmitted by the responder. Repetitions of the ISS are separated by aninterval equal to LBIFS. The value of the CDOWN field within SSW frames transmitted in the ISS indicatesthe number of sectors until the end of transmissions from all of the initiator   s DMG antennas to all of theresponder   s DMG antennas.The RSS is a TXSS unless the allocation is an SP and the IsResponderTXSS field for this SP is equal to 0 orthe allocation is a TXOP and the RXSS Length field within the SSW frame received by the responder duringthe ISS and used to obtain the TXOP is equal to a nonzero value. The responder shall begin an RSS(9.35.2.3) MBIFS time following the completion of an ISS, provided there is sufficient time in the allocationfor the responder to transmit an SSW frame and the responder received an SSW frame from the initiatorduring the ISS. The initiator may restart the ISS up to dot11BFRetryLimit times if it does not receive an SSW frame fromthe responder in dot11BFTXSSTime time following the end of the ISS. The initiator shall restart the ISSSIFS time following dot11BFTXSSTime time, provided there is sufficient time left in the allocation for theinitiator to transmit an SSW frame. If there is not sufficient time left in the allocation for the transmission ofan SSW frame, the initiator shall restart the ISS at the start of the following allocation between the initiatorand the responder.The initiator shall begin an SSW Feedback (9.35.2.4) MBIFS time following the completion of an RSS,provided the initiator received an SSW frame from the responder during the RSS and there is sufficient timeleft in the allocation to complete the SSW Feedback followed by an SSW ACK (9.35.2.5) from theresponder in SIFS time. If there is not sufficient time left in the allocation for the completion of the SSWFeedback and SSW ACK, the initiator shall begin the SSW Feedback at the start of the following allocationbetween the initiator and the responder. The responder shall begin an SSW ACK (9.35.2.5) to the initiator in MBIFS time following the reception ofa SSW-Feedback frame from the initiator. The initiator may restart the SSW Feedback up to dot11BFRetryLimit times if it does not receive an SSW-ACK frame from the responder in MBIFS time following the completion of the SSW Feedback. Th


page 328
initiator shall restart the SSW Feedback PIFS time following the expected end of the SSW ACK by theresponder, provided there is sufficient time left in the allocation for the initiator to begin the SSW Feedbackfollowed by an SSW ACK from the responder in SIFS time. If there is not sufficient time left in theallocation for the completion of the SSW Feedback and SSW ACK, the initiator shall restart the SSWFeedback at the start of the following allocation between the initiator and the responder. Once started, the initiator and responder shall complete the SLS phase before any additional frame exchangetakes place between these STAs.9.35.6.3 MIDC (multiple sector ID capture) subphase 9.35.6.3.1 GeneralIn practice, the quasi-omni RX antenna patterns used in the SLS phase might exhibit imperfections that leadto an incorrect choice of the best TX sector and consequently a sub-optimal starting point for beamrefinement in the BRP phase. To remedy this, a multiple sector ID capture (MIDC) phase may be used.Instead of selecting the starting point for the beam refinement transactions (i.e., the best TX sector) based oninformation obtained with quasi-omni RX antenna patterns from the SLS phase, the MIDC subphase enablesthe use of additional information based on the trial of multiple TX and RX sectors. The MIDC subphase can be implemented in two ways. The first option is to conduct a trial between a smallset of TX and RX AWV settings with wide (e.g., quasi-omni) antenna patterns. The second option is to carryout a trial between a small set of TX sectors and a set of RX AWV settings, chosen by the receiver in animplementation-dependent manner, that maximizes the probability of determining the RX AWVs that bestmatch the chosen set of TX sectors. Note that this may involve using a set of RX AWVs that correspond tothe    full set    of RX sectors (from the SLS phase). The set of TX sectors are chosen from a TX sector sweepwith a quasi-omni RX antenna pattern. With either option, the end result from the MIDC subphase can bethe better starting point TX and RX sector pair for further beam refinement. For the first option above, the MIDC subphase consists of a MID subphase and a BC subphase. This isfurther elaborated upon in 9.35.6.3.2, and a sample time allocation is illustrated in Figure9-58. For thesecond option, the MIDC subphase consists only of a MID subphase. This is further elaborated upon in9.35.6.3.3, and a sample time allocation is illustrated in Figure9-59. I-TXSS R-TXSS I-MIDSLS BTI A-BFT DTI R-BCI-BCATI             2nd BRP iteration NBRPth BRPiteration BRP SSW- FBCK BRP-FBCK1st BRP iteration BRP-FBCKR-MIDBRP-FBCKBRP-FBCKBRP Setup Sub-phase Figure 9-58  Example of time allocation for the MIDC subphase withMIDandBCsubphasesI-TXSS R-TXSS I-MIDSLS BTI A-BFT DTI ATI             2nd BRP iteration NBRPth BRPiteration BRP SWS- FBCK 1st BRP iteration R-MIDBRP Setup Sub-phase R-MIDBRP- FBCK I-MIDI-MIDI-MIDR-MIDBRP-FBCKFigure 9-59  Example of time allocation for the MIDC subphase withtheMIDsubphaseonl


page 329
301Prior to the beginning of the MIDC subphase, a BRP setup subphase is carried out as specified in 9.35.3.2.This subphase enables the two DMG STAs involved to negotiate whether and how the MIDC subphase iscarried out. Examples of how the MIDC subphase is set up, depending on whether beamforming is initiatedin the BTI and A-BFT or in the DTI, are illustrated in Figure9-60 and Figure9-61, respectively. Note thatthe MIDC subphase is applicable only when both the initiator and the responder have the ability to switchamong their sectors. Figure 9-60  Example of the use of the BRP setup subphase to set up the subsequent MIDC subphase in the A-BFT and DTIFigure 9-61  Example of the use of the BRP setup subphase to set up the subsequent MIDC subphase in the DT


page 330
9.35.6.3.2 MIDC subphase with MID and BC subphasesThe MIDC subphase can be implemented such that small subsets of TX Sector IDs and RX AWVs are firstchosen, followed by trials between these subsets to determine the optimal starting TX Sector ID and RXAWV pair. The set of TX sectors is chosen from an a priori TX sector sweep with a quasi-omni RX antennapattern (in the SLS phase). To enable the selection of the RX sectors, and the subsequent trial between theTX and RX sectors, the MIDC subphase consists of an MID subphase and a BC (or beam combining)subphase. In the MID subphase, a wide TX beam (e.g., quasi-omni) is used while the receiver sweepsthrough its choice of AWV settings to determine the set of RX AWVs with the highest link quality. This isfollowed by the BC subphase, which involves testing the multiple RX AWVs together with multiple TXAWVs. This is conceptually illustrated in Figure9-62. Note that the consecutive numbering of TX Sector IDs (e.g.,TX Sector ID1, TX Sector ID2,    ) or RX AWVs is just used for representation purposes. It is used toindicate the subset of TX Sector IDs without placing any restrictions on how these Sector IDs are selected(i.e., consecutive numbering of TX Sector IDs does not mean that the selected TX Sector IDs should bethose that are consecutively numbered).  STA1     (a) I-TXSS in SLS  STA1    STA1    STA2   STA2   STA2   (b) I-MID (c) I-BC (Beam Combining) TX Sector ID1 TX Sector ID2 TX Sector IDNbeam(I, TX) Best TX Sector IDs up to Nbeam(I, TX) RX Sector/AWV 1 RX Sector/AWV 2 RX Sector/AWV Nbeam(I, RX) Best RX Sector IDs up to Nbeam(I, RX) TX Sector ID1 TX Sector ID2 TX Sector IDNbeam(I, TX) RX Sector/AWV 2 Verification by 49(max) beam formed trials RX Sector/AWV 1 RX Sector/AWV Nbeam(I, RX) Figure 9-62  Conceptual flow of a sample MIDC subphase execution with MID and BC subphases for the initiator lin


page 331
303a)Setting up the MID and BC subphases: To request a MIDC subphase with the MID and the BCsubphases, the initiator shall transmit an SSW-Feedback or BRP frame with the MID-REQ and theBC-REQ fields set to 1 in the BRP Request field. The responder may grant this request by setting theMID-Grant and the BC-Grant fields to 1 in the BRP Request field within the next SSW-ACK orBRP frame transmitted to the initiator. The R-MID and R-BC subphases are performed if the requestis granted and are not performed otherwise. The responder shall transmit an SSW-ACK or BRP frame to request a MIDC subphase, with the I-MID and I-BC subphases. It shall do so by setting the MID-REQ and the BC-REQ fields to 1 in theBRP Request field within the transmitted frame. The initiator may grant this request by setting theMID-Grant and the BC-Grant fields to 1 in the BRP Request field within the next BRP frametransmitted to the responder. The I-MID and I-BC subphases are performed if the request is grantedand are not performed otherwise. If all of R-MID, R-BC, I-MID, and I-BC subphases are performed, the MID subphases areperformed before the BC subphases. Within the MID subphase, R-MID is performed before I-MID.Within the BC subphase, R-BC is performed before I-BC (see Figure9-58 and Figure9-59).In addition to the MID-REQ, BC-REQ, MID-Grant and BC-Grant fields, the responder (and/orinitiator) needs to obtain the number of RX AWV settings to be appended to BRP-RX packets in theR/I-MID subphase. To do this, the initiator (and/or responder) should use the L-RX field in the BRPRequest field to convey this information. Similarly, the responder (and/or initiator) needs to obtainthe IDs and SNRs of the TX sectors received during the SLS phase for use in the R-BC and I-BCsubphases. To do this, the responder (and/or initiator) shall send a BRP packet with the TXSS-FBCK-REQ subfield and SNR Requested subfield set to 1 in the FBCK-REQ field of the DMGBeam Refinement element. In response, the initiator (and/or responder) should send a BRP framewith both the SNR Present subfield and the Sector ID Order Present subfield set to 1. The Nmeassubfield in the FBCK-TYPE field is set to indicate the number of sectors received during the lastSLS for which an SNR measurement is included. In the Channel Measurement field, the initiator (orresponder) should set the SNR subfield to the SNRs corresponding to the TX sectors trialed duringthe SLS phase. In the Sector ID subfield, it should list the sector IDs of the received sectors. Theresponder (and/or initiator) should then use the SNR information, and any additional informationsuch as angular separation between sectors, to determine the TX sectors for use in the BC subphase.The responder (or initiator) shall inform the initiator (or responder) of the number of TX sectorsusing the Nbeam subfield in the FBCK-TYPE field during the BRP setup subphase. After the R/I-MID subphases, the same field is used to exchange information about the number of RX AWVs tobe trialed during the BC subphase.b)Executing the MID subphase: If R-MID was requested and granted during the SLS and/orsubsequent BRP setup subphase, then after the BRP setup subphase, the R-MID shall be initiated bythe responder sending a BRP frame with TRN-R fields (as requested in the BRP setup subphase).This packet may be transmitted using a wide pattern, approaching an omni transmit pattern, or usinga sector antenna pattern. The receiver may use the TRN-R fields for receiver training.If the MID Extension field in the packet is equal to 1, the responder shall transmit another BRP-RXpacket, which may be transmitted using another transmit pattern. It may continue transmitting BRP-RX packets as long as the MID Extension field in all of them is equal to 1. The last BRP-RX packettransmitted by the responder shall have the MID Extension field set to 0. If the initiator does not receive a BRP-RX packet within BRPIFS after transmitting the last packet ofthe BRP setup subphase, it may retransmit the last packet of the BRP setup subphase. After the initiator receives a BRP-RX packet with the MID Extension field set to 0, it shall respondwith a BRP frame with the appropriate feedback. This BRP frame should be sent using the best TXsector as determined in the SLS phase, while the responder should use a quasi-omni pattern toreceive this frame. The feedback included in this BRP frame is the number of RX AWVs to be testedin the subsequent R-BC subphase using the Nbeam subfield in the FBCK-TYPE field


page 332
If I-MID was granted in addition to R-MID, the initiator shall send a BRP frame with TRN-R fields(as requested in the BRP setup subphase). The initiator shall continue to send BRP packets if theMID Extension was set to 1 as in the R-MID.After the responder receives a BRP-RX packet with the MID Extension set to 0, it shall respond bysending a BRP frame with feedback. This BRP frame should be sent using the best TX sector asdetermined in the SLS phase, while the initiator should use a quasi-omni pattern to receive thisframe. The feedback included in this BRP frame is the number of RX AWVs to be tested in thesubsequent I-BC subphase using the Nbeam subfield in the FBCK-TYPE field. The initiator shallrespond with a BRP frame with the TX-TRN-OK field set to 1 as an acknowledgment. The R-BCsubphase then follows. If I-MID does not follow R-MID, the BC subphase follows immediately.c)Executing the BC subphase: The execution of an I-BC subphase is used as an example. In an I-BCsubphase, the initiator shall transmit Nbeam(I,TX) BRP-RX frames using the number of TX sectorsspecified during the BRP setup subphase. Each BRP-RX frame shall be appended with Nbeam(I,RX)TRN-R subfields, and shall include the Sector ID subfield of the TX sector used. While receivingthese TRN-R subfields, the responder shall switch through the RX AWVs selected during the prior I-MID subphase. To conclude the I-BC subphase, the responder shall feed back to the initiator a BRPframe with (a) the BS-FBCK field set to the TX sector ID of the BRP-RX packet received with thehighest link quality, and (b) the ordered list of transmit sectors (based on received link quality duringthe I-BC) using the Sector ID Order subfield in the Channel Measurement Feedback element. ThisBRP frame should be sent using the best TX sector as determined in the SLS phase, while theinitiator should use a quasi-omni pattern to receive this frame. The complete procedure is illustratedin Figure9-63, while Figure9-64 depicts the beam combining subphase


page 333
305(a) Normal process: one MID and BC for each initiator and responder link (the initiator and responder use a quasi-omni TX pattern)(b) The MID for both the initiator and responder are repeated twice: each TX beam is wider than a TX sector, but narrower than a quasi-omni pattern and covers a different direction(c) The MID for the initiator is repeated twice: each TX beam is wider than a TX sector, but narrower than a quasi-omni pattern and covers a different directionFigure 9-63  Examples of the use of the MID Extension field during the execution of the MID subphaseResponder Initiator R-MID MID Extension=0 I-MID R-BC I-BC BRP frame with feedbackBRP with feedbackBRP frame with feedbackMID Extension=0 BRP-RX packet BRP-RX packet BRP-RX packets BRP-RX packets BRP with feedback Responder Initiator R-MID MID Extension=1 R-MID MID Extension=0 I-MID I-MID R-BC I-BC BRP frame with feedbackMID Extension=1 MID Extension=0 BRP frame with feedbackBRP frame with feedback BRP frame with feedbackBRP-RX packet BRP-RX packet BRP-RX packet BRP-RX packet BRP-RX packets BRP-RX packets  Responder Initiator R-MID MID Extension=1 R-MID MID Extension=0 I-MID MID Extension=0 R-BC I-BC BRP frame with feedbackBRP frame with feedbackBRP-RX packet BRP-RX packetBRP-RX packetsBRP-RX packetsBRP frame with feedback BRP frame with feedbac


page 334
9.35.6.3.3 MIDC subphase with MID subphase onlyThe MIDC subphase may also be implemented such that multiple TX sectors, obtained from the TXSS inthe SLS phase, are used instead of wide TX beams. Here, the receiver employs multiple RX AWVs for eachTX sector chosen by the transmitter. Based on this joint trial of TX and RX AWVs, the optimal starting TXand RX AWV pair is chosen for further refinement in the BRP phase. In this case, the MIDC subphaseconsists only of the MID subphase. This is conceptually illustrated in Figure9-65. Figure 9-64  Beam combiningFigure 9-65  Conceptual flow of a sample MIDC subphase execution with only the MID subphase for the initiator lin


page 335
307a)Setting up the MID subphase: The procedure of setting up the MID-subphase is described in9.35.3.2.In the example of Figure9-66, the initiator transmits an SSW-Feedback with the MID-REQ subfieldset to 1 and the BC-REQ subfield set to 0 in the BRP Request field, thus requesting an MIDC withonly the R-MID subphase. The responder grants the MID-REQ by setting the MID-Grant subfield to1 in the SSW-ACK frame. The initiator then sends a frame with the SNR Present and Sector IDOrder Present subfields both set to 1, the Nmeas subfield in the FBCK-TYPE field indicating thenumber of SNR measurements from the last SLS phase, and the SNR and Sector ID subfields withthe SNRs measured during the SLS phase and the list of received sectors, respectively. The L-RXsubfield is set according to the number of training fields the initiator needs in each packet as part ofthe R-MID. The responder then starts the R-MID process by transmitting BRP-RX packets.b)Executing the MID subphase: The execution of the MID subphase for the responder link (i.e., R-MID) is used as an example. Execution of the MID subphase for the initiator link (i.e., I-MID) issimilar, except for a change in the direction of the corresponding frames. In an R-MID subphase, theresponder shall transmit one BRP-RX packet each from one of the chosen TX sectors. In eachpacket, it shall indicate the sector ID of the TX sector used using the Sector ID field in the BRPRequest field. Each transmitted BRP-RX packet should be appended with multiple TRN-R subfieldssuch that the initiator can train its receiver antenna during the R-MID subphase. The initiator shalltrain its receiver antenna by cycling through its choice of RX AWVs while receiving the TRN-Rsubfields. The initiator shall indicate to the responder the number of TRN-R subfields to beappended using the L-RX field in the BRP request field during the SLS phase or the BRP setupphase. For all BRP-RX packets except the last one, the responder shall also set the MID Extensionfield to 1. In the R-MID subphase, the initiator shall send a BRP frame with feedback. This BRP frame shouldbe sent using the best TX sector as determined in the SLS phase, while the responder should use aquasi-omni pattern to receive this frame. The feedback included in this BRP frame should be (a) theBS-FBCK field set to the TX sector ID of the BRP-RX packet received with the highest link quality,and (b) the ordered list of transmit sectors (based on received link quality during the R-MID) usingthe Sector ID Order subfield.InitiatorResponderSSW-FeedbackBRPframe(sector list)SSW-ACKMID BRPNTx (1)SIFSSNR Present =1Sector ID Order Present = 1Nmeas= 7L-RX > 0BC-REQ = 0Initiator =1SIFSBRPIFSTx Sector ID = NTx (1)MID Extension = 1SIFSSIFSBRPIFSMID BRPNTx (2)MID BRPNTx (Nbeam)BS-FBCK = best from allSNR Present =1(optional)Sector ID Order Present = 1(optional)Nmeas= 3 (optional)BRPframe(FBCK)MID-REQ = 1MID-REQ = 0MID-Grant=1Tx Sector ID = NTx (2)MID Extension = 1Tx Sector ID = NTx (Nbeam)MID Extension = 0BRP setupBRP MIDSLS...MBIFSFigure 9-66  Example of the use of the BRP setup subphase to set up the subsequent I-MID subphas


page 336
9.35.6.3.4 MIDC subphase with BC subphase onlyAn MIDC subphase with only the BC subphase is carried out when the MID and BC subphases have beencarried out earlier. In this case, the initiator and responder keep track of the TX and RX sectors, for use inthe BC subphase, from earlier iterations. Since the best TX and RX sectors (in terms of link quality) are kepttrack of, this information can be used to deal with link blockage events. STAs can utilize only the chosen setof TX sectors in the SLS phase to reduce beamforming training time, and jump to the BC subphase directlywithout executing the MID subphase. In this manner, fast recovery is possible when some of backup linksare available after partial blockage around the STA. To carry out the MIDC subphase with the BC subphase only, the MID-REQ field is set to 0 and the BC-REQfield is set to 1 in SSW-Feedback or SSW-ACK or BRP frames, and the BC-Grant field is set to 1 in thefollowing SSW-ACK or BRP frame. The BC subphase can include an I-BC and/or an R-BC (9.35.6.3.2). 9.35.6.4 BRP phase execution9.35.6.4.1 GeneralBeam refinement is a request/response based process. A STA requests receive beam refinement training bysending a BRP frame with a nonzero value in the L-RX field. The STA that receives a BRP frame shallrespond with a BRP packet (21.10.2.2) including as many TRN-R fields as indicated in the value of the L-RX field within the received BRP frame and with the RX-train-response field in the DMG Beam Refinementelement set to 1. A STA requests transmit beam refinement training by sending a BRP frame as follows. In the BRP Requestfield, the TX-TRN-REQ field is set to 1, and the FBCK-REQ field is set to the desired feedback type. In thePLCP header, the Packet Type and the Training Length fields are set to indicate the number of AGC andTRN-T fields appended to the packet. The responding STA shall reply to the transmit beam refinement training with a BRP frame containing aDMG Beam Refinement element with the TX-TRN-OK field and TX-train-response field both set to 1 andthe BS-FBCK field set to indicate the TRN-T field on which the responding STA received the best signal(the determination of best signal is implementation dependent). The FBCK-TYPE field shall be set toaccording to the format of the Channel Measurement Feedback element, if one is included in the frame. Ifthe SNR Present and Channel Measurement Present subfields of this FBCK-TYPE field are set to 0, theChannel Measurement Feedback element shall not be included. The number of taps indicated in the FBCK-TYPE field shall be less than or equal to the number of taps indicated in the FBCK-REQ field of the requestframe. If a STA requests transmit beam refinement training, but does not send TRN-T fields, the responding STAshall reply with a BRP frame containing a DMG Beam Refinement element with the TX-TRN-OK field setto 1. In this case (i.e., when the TX-train-response field is equal to 0), the responding STA shall set L-RXfield to 0. The requesting STA shall then transmit a BRP packet with TRN-T fields. The responding STAshall then respond with a BRP frame with the TX-train-response field set to 1 and the BS-FBCK andChannel Measurement Feedback element as above. Beam refinement can start immediately following SLS (9.35.6.4.3). If the responder receives an SSW-Feedback frame from the PCP/AP in an A-BFT, the PCP/AP allocates an SP for the beam refinement ifrequired (see 9.35.5.3). A STA may transmit a BRP packet to another STA whenever the STA transmits aframe to that STA, provided that the transmitting STA knows that the recipient STA   s receive antennas aredirected to it or are in a quasi-omni antenna pattern


page 337
309A STA shall set the Initiator field to 1 within a DMG Beam Refinement element if the previous receivedframe was not a BRP frame, or the last packet the STA transmitted was a BRP frame with the Initiator fieldset to 1. A STA that has transmitted a BRP frame with the Initiator field set to 1 and has not received a responseBRPIFS after the transmission may retransmit the frame. A STA may request a TXSS sector list feedback by sending a BRP frame with the TXSS-FBCK-REQ fieldset to 1, the SNR Requested subfield within the FBCK-REQ field set to 1 and the remaining subfields withinthe FBCK-REQ field set to 0. The responding STA shall respond with a BRP frame with the SNR Requestedsubfield within the FBCK-REQ field set to 1, with the remaining subfields within the FBCK-REQ field setto 0, with a list of Sector IDs indicating the sector IDs of the received SSW frames or DMG Beacon frames,and with the SNR values with which those frames were received in the last TXSS. A STA shall not set the TXSS-FBCK-REQ and the TX-TRN-REQ fields to 1 in the same BRP frame.Two or more BRP frames shall not be aggregated in the same A-MPDU. A BRP frame may be aggregatedwith another frame in the same A-MPDU only if the other frame is a single ACK, BA or QoS-Null dataframe. The Duration field within each BRP frame is set to the time remaining until the end of the current allocation.9.35.6.4.2 Beam refinement transactionA beam refinement transaction is a set of BRP frames composed of request and responses.A beam refinement transaction starts with the beamforming initiator STA sending a BRP frame with theInitiator field set to 1.A beam refinement responder is a STA that receives a BRP frame (which is directed to it) with the Initiatorfield set to 1.A beam refinement transaction participant shall respond to a BRP frame with a BRP frame.If the beam refinement transaction initiator received a BRP frame from the responder with no trainingrequests, the initiator may terminate the transaction by not transmitting any further BRP packets. Figure9-67, Figure9-68, and Figure9-69 show examples of beam refinement transactions.9.35.6.4.3 Beam refinement transaction after SLSIf either L-RX or TX-TRN-REQ is nonzero within the BRP Request field in the SSW-ACK frame of themost recent SLS phase execution, no MID or BC was granted during the BRP setup subphase, and no beamrefinement transaction has been done since the most recent SLS phase execution, then the initiator shallinitiate the beam refinement transaction with the responder by sending a BRP frame to the responder. If thevalue of the L-RX field is greater than 0 in the SSW-ACK frame, the first BRP frame the initiator transmitsto the responder is a BRP-RX frame. If the value of the L-RX field is 0 and the value of the TX-TRN-REQfield is 1, the first BRP frame the initiator transmits to the responder shall have either the TX-TRN-OK fieldset to 1 or the L-RX field greater than 0


page 338
9.35.6.4.4 Antenna configuration setting during a beam refinement transactionA STA that has requested beam refinement receive training shall, except when receiving TRN-R fields, setits receive antenna configuration to the best known receive antenna configuration based on previous beamrefinement receive training or RXSS. If the STA has not received a BRP frame since the last SLS and theSLS did not include an RXSS, the STA should set its receive antenna configuration to a quasi-omni antennapattern in the DMG antenna through which the STA received the best sector during the SLS. A STA that has received a beam refinement transmit training request shall send the response frame and thenset its antenna configuration to the best known receive antenna configuration based on previous beamrefinement receive training or RXSS, except if both the initiator STA and responder STA support theOther_AID subfield as indicated through the Supports Other_AID field set to 1 within the STA   s DMGCapabilities element and the value of the Other_AID subfield within the BRP Request field is different from0, in which case the STA sets its antenna configuration to the best known receive antenna configuration forreceiving from the STA with AID equal to the value of the Other_AID subfield within the BRP Requestfield. If the STA has not received a BRP frame since the last SLS and the SLS did not include an RXSS, theSTA should set its antennas to a quasi-omni antenna pattern. In a BRP-RX packet, all TRN-R fields shall be transmitted using the same TX AWV configuration as thepreamble and data fields of the packet, except if both the transmitting and  receiving STAs support theOther_AID subfield as indicated through the Supports Other_AID field set to 1 within the STA   s DMGCapabilities element and the value of the Other_AID subfield within the BRP Request field is different from0, in which case the TRN-R fields shall be transmitted using the best known TX AWV configuration fortransmitting to the STA with AID equal to the value of the Other_AID subfield within the BRP Requestfield. A STA that has the DMG Antenna Pattern Reciprocity subfield within the DMG STA CapabilityInformation field of the DMG Capabilities element equal to 1 and that has received a BRP-RX packet froma peer STA that also has the DMG Antenna Pattern Reciprocity subfield within the DMG STA CapabilityInformation field of the peer STA   s DMG Capabilities element equal to 1 shall use the same AWV that wasconfigured with the BRP-RX packet in subsequent transmissions and receptions with the peer STA duringthe DTI. This allows STAs that use reciprocity to shorten the beamforming training time. Figure 9-67  Example beam refinement transaction (receive training)Figure 9-68  Example beam refinement transaction (transmit training)InitiatorResponderReceive beam refinement  training request, L-RX0Receive beam refinement response, RX-Train-response=1, TRN-R field presentTransmit Train Request   TX-TRN-REQ=1InitiatorResponderTransmit Train response TX-TRN-OK=1Transmit Train Request   TX-TRN-REQ=1 TRN-T field presentTransmit Train response TX-Train-response=


page 339
3119.35.7 Beam trackingA STA (beam tracking initiator) may request a peer STA (beam tracking responder) to perform receivebeam tracking by setting, in a transmitted packet, the TXVECTOR parameterBEAM_TRACKING_REQUEST to Beam Tracking Requested, TRN-LEN to the number of requested TRNfields as described in 21.10.2.2.3 and packet type to TRN-R-PACKET. Otherwise, theBEAM_TRACKING_REQUEST parameter shall be set to Beam Tracking Not Requested. A beam tracking responder that receives a packet with the Beam Tracking Request field in the PLCP headerequal to 1 (corresponding to the BEAM_TRACKING_REQUEST parameter in the RXVECTOR set toBeam Track Requested) and the Packet Type field in the PLCP header equal to 0 (corresponding toPACKET-TYPE field in the RXVECTOR set to TRN-R-PACKET) shall follow the rules described in21.10.2.2 and shall include a beam refinement AGC field and TRN-R subfields appended to the followingpacket transmitted to the initiator. The value of TRN-LEN in the following packet from the responder to theinitiator shall be equal to the value of the TRN-LEN parameter in the RXVECTOR of the packet from theinitiator. A beam tracking initiator requesting transmit beam tracking shall set the BEAM_TRACKING_REQUESTparameter in the TXVECTOR to Beam Tracking Requested, Packet Type to TRN-T-PACKET, TRN-LENto the number of TRN fields as described in 21.10.2.2.3, and append an AGC field and TRN-T subfields tothe packet. The beam tracking responder may append the feedback to any packet from the responder to theinitiator. The initiator may allocate time for the feedback through a reverse direction grant, provided thereverse direction protocol is supported by both the initiator and responder. The feedback type shall be thesame as the feedback type in the last BRP frame that was transmitted from the initiator to the responder withTX-TRN-REQ equal to 1. If the responder has never received a BRP frame from the initiator with TX-TRN-REQ equal to 1, the responder shall respond with all subfields of the FBCK-TYPE field equal to 0 and setthe BS-FBCK field to the best sector. A beam tracking initiator may also request a beam tracking responder to perform receive beam tracking bysetting, in the PLCP header of a transmitted packet, the Beam Tracking Request field to 0, the TrainingLength field to a nonzero value, the Packet Type field to 0, and append an AGC field and TRN-R subfieldsto the transmitted packet.InitiatorResponderReceive Beam refinement  training Req   L-RX0Receive  Response, RX-Train-response=1, TRN-R field present,Transmit train request, TX-TRN-REQ=1, Receive request, L-RX>0Receive Response, RX-Train-response=1, TRN-R field present, TX train response, TX-TRN-OK=1, Transmit train request, TX-TRN-REQ=1TX train, TRN-T field present, Transmit train request, TX-TRN-OK=1TX train, TRN-T field present, Transmit train response+FBCK,Receive train requestRX train, RX-train-response=1, TRN-R field present, Transmit train response+FBCKFigure 9-69  Example beam refinement transaction (combination of receive and transmit training


page 340
A beam tracking responder that receives a packet with the Beam Tracking Request field in the PLCP headerequal to 0, the Training Length field in the PLCP header equal to a nonzero value and the Packet Type fieldin the PLCP header equal to 0 shall follow the rules described in 21.10.2.2 and may use the beam refinementAGC field and TRN-R subfields appended to the received packet to perform receive beam training.BRP frames transmitted during beam tracking may be aggregated within A-MPDUs. Figure9-70 illustratesa beam tracking frame exchange sequence when the beam tracking initiator requests TRN-R fields, whileFigure9-71 illustrates a beam tracking frame exchange sequence when the beam tracking initiator requestsTRN-T fields.DataACKDataACKDataACKTRN-R fields appendedBeam TrackingInitiatorBeam TrackingResponderBeam Tracking RequestedPacket Type = TRN-RTRN-LEN>0Figure 9-70  Example of a beam tracking procedure with the initiator requesting TRN-RDataACKDataACKDataACKTRN-T fields appendedBeam TrackingResponderBeam TrackingInitiatorBeam Tracking RequestedPacket Type = TRN-TTRN-LEN>0BRP frameBRP frame with feedbackFigure 9-71  Example of a beam tracking procedure with the initiator requesting TRN-


page 341
3139.35.8 State machinesFigure9-72 depicts an example state machine of the SLS phase for the initiator, and Figure9-73 illustratesan example state machine of the SLS phase for the responder. These state machines describe the behavior ofthe initiator and responder during BF and are applicable for any period of the beacon interval where BF isperformed. IdleSectorSelectorSSW ACKTimeout (T2) or dot11BFRetryLimit exceededTXSS Phase CompleteSSW-ACK framereceivedT1 = dot11BFTXSSTimeT2 = dot11MaxBFTimeSector selected andA-BFT -> PerformSSW Feedbackdot11BFRetryLimit not exceeded or (start of BTI and PCP/AP) -> Perform Initiator TXSS(Timeout (T1 or T2) and DTI) or(end of A-BFT and PCP/AP)Timeout (MBIFS) and dot11BFRetryLimit not exceeded -> Perform SSW FeedbackSSW frame receivedSector selected and DTI ->Perform SSW FeedbackFigure 9-72  SLS phase state machine (initiator


page 342
9.36 DMG Block Ack with flow control9.36.1 GeneralA DMG STA indicates that it is capable of supporting DMG Block Ack with flow control by setting the BAwith Flow Control field to 1 within the DMG STA   s DMG Capabilities element. A DMG BlockAck withflow control can be established only when both originator and recipient support this capability.9.36.2 DMG Block Ack architecture with flow controlThe DMG Block Ack rules are explained in terms of the architecture shown in Figure9-74 and explained inthis subclause.The originator contains a Transmit Buffer Control that uses WinStartO, BufSizeO, and WinLimitO to submitMPDUs for transmission, and releases transmit buffers upon receiving BlockAck frames from the recipientor when it advances the transmit control buffer window. WinStartO is the starting sequence number of the transmit range, WinLimitO is the last sequence numberexpected to exhaust the receiver buffer capacity, and BufSizeO is the number of buffers negotiated in theBlock Ack agreement.Figure9-75 shows the DMG Block Ack with flow control and its associated parameters from the Originatorperspective.IdleSector SelectorBF frame receivedTimeout (T2)SSW FeedbackSSW-Feedback framereceived and DTI ->Perform SSW ACKT2 = dot11MaxBFTimeTXSS Phase Pre-CompleteSSW framereceivedTXSS Phase CompleteNon SSW-Feedback and non SSW frame receivedSSW-Feedback framereceived and A-BFTBF frame receivedEnd SSW slot (A-BFT) and backoff within A-BFT ->Perform Responder TXSSSector selected ->Perform Responder TXSSSSW frame receivedSSW-Feedback framereceived -> Perform SSW ACKTimeout (T2) or(end SSW slot (A-BFT)and no backoff)Figure 9-73  SLS phase state machine (responder


page 343
315The Aggregation control creates A-MPDUs. It can adjust the Ack Policy field of transmitted data framesaccording to the rules defined in 9.21.7.7 in order to solicit Block Ack responses. The recipient contains a Receive Reordering Buffer Control per TA/TID, which contains related controlstate. The receive reordering buffer is responsible for reordering MSDUs or A-MSDUs so that MSDUs or A-MSDUs are eventually passed up to the next MAC process in order of received sequence number (SN). Itmaintains its own state independent of the Scoreboard Context Control to perform this reordering asspecified in 9.21.7.6. The delivery of in order MSDUs or A-MSDUs to the next MAC process isimplementation dependent. In some cases, the receiver reordering buffer might be forced to hold on toMSDUs ready for in order delivery due to deferred reception at the next MAC process. This behavior canimpose additional buffering requirements on the receiver, causing the actual available buffer capacity tovary dynamically. The reordering buffer is required to manage its lowest and highest (in order) SN, whichare marked as WinTailB and WinHeadB, respectively. The scoreboard context control provides the WinCapacityB, actually controlled by the Reordering buffer inaddition to the bitmap field and the Starting Sequence Number (SSN) field to be sent in BlockAck responsesto the originator.Transmit Buffer Controlper RA/TID(WinStartO, WinEndO, BufSizeO, WinCapacityO, WinLimitO)Aggregation ControlOriginatorReceive Reordering Buffer Control per RA/TID(WinTailB, WinHeadB, WinCapacityB, WinStartB, WinEndB, BufSizeB)Scoreboard Context Control  (WinStartR , WinSizeR)De-aggregation ControlA-MPDURecipientBlockAck {SSN, Bitmap, RBUFCAP}Figure 9-74  DMG Block Ack architectureWinEndOWinStartOBufSizeO=WinCapacityOWinTailOWinHeadOReceiver Buffer seen by OriginatorWhat the Transmitter maintains?WinStartO = Starting Seq. NumberBufSizeO = Receiver Buffer Size negotiatedWinLimitO = WinEndOFigure 9-75  Flow control and its associated parameters as a function of receiver buffer siz


page 344
9.36.3 Scoreboard context control with flow controlThe scoreboard context control with flow control is defined in 9.21.7.3 and 9.21.7.4.9.36.4 Receive Reordering Buffer with flow control operation9.36.4.1 GeneralA recipient shall maintain a receive reordering buffer for each DMG Block Ack agreement. Each receivereordering buffer includes a record comprising the following:   Buffered MSDUs or A-MSDUs that have been received, but not yet passed up to the next MACprocess  A WinStartB parameter, indicating the value of the Sequence Number field (SN) of the first (in orderof ascending sequence number) MSDU or A-MSDU that has not yet been received  A WinEndB parameter, indicating the highest SN expected to be received in the current receptionrange  A BufSizeB parameter, indicating the size of the reception window   A WinTailB parameter, indicating the value of the Sequence Number field (SN) of the first (in orderof ascending sequence number) MSDU or A-MSDU that has not yet been delivered to the nextMAC process  A WinHeadB parameter, indicating the highest SN received in the current reception rangeWinStartB is initialized to the Starting Sequence Number field value (SSN) of the ADDBA request framethat elicited the ADDBA response frame that established the DMG Block Ack agreement.WinEndB is initialized to WinStartB + BufSizeB    1, where BufSizeB is set to the value of the Buffer Sizefield of the ADDBA Response frame that established the Block Ack agreement.Both WinTailB and WinHeadB are initialized to the preceding Starting Sequence Number field value (SSN   1), to indicate no MPDU was received, within the current reception window.Any MSDU or A-MSDU that has been passed up to the next MAC process shall be deleted from the receivereordering buffer, advancing the WinTailB.The recipient shall pass MSDUs or A-MSDUs up to the next MAC process in order of increasing SequenceNumber field value.9.36.4.2 Operation for DMG Block Ack agreement initializationAt DMG Block Ack agreement establishment:a)WinStartB = SSN from the ADDBA Request frame that elicited the ADDBA Response frame thatestablished the DMG Block Ack agreementb)WinEndB = WinStartB + BufSizeB    1c)WinCapacityB = BufSizeBd)WinHeadB = SSN    1, where SSN is taken from the ADDBA Request, similar to WinStartBe)WinTailB = SSN    


page 345
3179.36.4.3 Operation for each received data MPDUFor each received data MPDU that is related to a specific DMG Block Ack agreement, the receivereordering buffer record is modified as follows, where SN is the value of the Sequence Number field of thereceived MPDU:a)If WinStartB <= SN <= WinEndB1)Store the received MPDU in the buffer.i)If SN > WinHeadB, Set WinHeadB = SN.ii)If SN > (WinTailB + BufSizeB), 1)All MSDU buffers with sequence numbers from WinTailB to SN   BufSizeB thatwere received correctly are passed to the next MAC process. 2)Set WinTailB = SN    BufSizeB.iii)Set WinCapacityB = WinTailB + BufSizeB    WinHeadB.2)Set WinStartB to the value of the Sequence Number field of the first MSDU or A-MSDU that ismissing to allow in-order delivery to the next MAC process.3)Set WinEndB = WinStartB + BufSizeB    1.b)If WinEndB < SN < WinStartB + 2111)Store the received MPDU in the buffer.2)Set WinEndB = SN.3)Set WinStartB = WinEndB    BufSizeB + 1.4)All MSDU buffers with sequence numbers from WinTailB to SN    BufSizeB that were receivedcorrectly are passed to the next MAC process.5)Set WinTailB = SN    BufSizeB.6)Set WinHeadB = SN.7)Set WinCapacityB = WinTailB + BufSizeB    WinHeadB.c)If WinStartB + 211<= SN < WinStartB, discard the MPDU (do not store the MPDU in the buffer, donot pass the MSDU or A-MSDU up to the next MAC process).d)For each received Block Ack Request frame the block acknowledgment record for that agreement ismodified as follows, where SSN is the value from the Starting Sequence Number field of thereceived Block Ack Request frame:1)If WinStartB < SSN <= WinEndBi)Set WinStartB = SSN.ii)Set WinEndB = WinStartB + BufSizeB    1.iii)If SSN > WinHeadB, set WinHeadB = SSN    1.iv)If SSN > (WinTailB + BufSizeB), 1)All MSDU buffers with sequence numbers from WinTailB to SSN   BufSizeB, arediscarded from the buffer. 2)Set WinTailB = SSN    BufSizeB.v)Set WinCapacityB = WinTailB + BufSizeB    WinHeadB.2)If WinEndB < SSN < WinStartB + 211i)Set WinStartB = SSN.ii)Set WinEndB = WinStartB + BufSizeB    1.iii)Set WinHeadB = SSN    1.iv)If SSN > (WinTailB + BufSizeB)


page 346
1)All MSDU buffers with sequence numbers from WinTailB to SSN    BufSizeB, arediscarded from the buffer. 2)Set WinTailB = SSN    BufSizeB.v)Set WinCapacityB = WinTailB + BufSizeB    WinHeadB.3)If WinStartB + 211 <= SSN <= WinStartB, make no changes to the record.9.36.4.4 Operation for ongoing release of received MPDUsThe reordering buffer shall continue to pass MSDUs or A-MSDUs up to the next MAC process that arestored in the buffer in order of increasing value of the Sequence Number field, starting with the MSDU or A-MSDU that has SN = WinTailB and proceeding sequentially until there is no ready in-order MSDU or A-MSDU buffered for the next sequential value of the Sequence Number field.a)Set WinTailB to the value of the Sequence Number field of the last MSDU or A-MSDU that waspassed up to the next MAC process plus one.9.36.5 Generation and transmission of BlockAck by a STA with flow controlIn addition to the normative behavior specified in 9.21.7.5 when responding with a BlockAck frame, theRBUFCAP field shall be updated with the value of WinCapacityB. 9.36.6 Originator   s behavior with flow control supportIf the BA with Flow Control field within a recipient   s DMG Capabilities element is equal to 1, the originatorshall not transmit an MPDU with a SN that is beyond the current recipient   s buffer capacity (WinLimitO).The BlockAck frame indicates the number of free buffer slots available at the recipient for reception ofadditional MPDUs. The originator shall update the variable WinLimitO upon reception of a valid BlockAck:  Set WinCapacityO to the received value of the RBUFCAP field in the BlockAck frame.  Set MostSuccSN to the highest SN of positively acknowledged MPDUs   Set WinLimitO = MostSuccSN + WinCapacityONOTE  Updating the variable WinLimitO limits the transmission of the following MPDUs.Originator   s support of recipient   s partial state is defined in 9.21.7.9.9.37 DMG link adaptation9.37.1 GeneralA STA may transmit a Link Measurement Request frame to request a STA indicated in the RA field of theframe to respond with a Link Measurement Report frame (8.5.7.5). If the Link Measurement Request frameis sent within a PPDU defined in Clause 21, the Link Measurement Report frame shall contain the DMGLink Margin element. The requesting STA may use values of the MCS, of the SNR and of the Link Marginto transmit frames to the STA indicated in the RA field of the Link Measurement Request frame. The requesting STA may aggregate a Link Measurement Request frame in an A-MPDU as defined in Table8-284 and Table 8-287


page 347
319If the Dialog Token field in the Link Measurement Request frame is equal to a nonzero value, theresponding STA shall perform the measurement on the next frame received from the requesting STA andshall send back a Link Measurement Report frame corresponding to the received frame. The responding STA may aggregate a Link Measurement Report frame in a A-MPDU as defined in Table 8-284 and Table 8-287.A DMG STA with MAC address that is equal to the value of the Link Measurement Request frame RA fieldshall transmit a Link Measurement Report frame addressed to the requesting STA. The RA field of the LinkMeasurement Report frame shall be equal to the TA field of the Link Measurement Request frame. If the Dialog Token field in the Link Measurement Report frame is equal to the nonzero Dialog Token fieldof the Link Measurement Request frame, then the MCS, SNR, and Link Margin fields of the LinkMeasurement Report frame shall be computed using the measurements of the PPDU that is the subsequentframe following the Link Measurement Request frame.If the Dialog Token field in the Link Measurement Request frame is equal to 0, the responding STA may setthe MCS field in the Link Measurement Report frame to the MCS value computed based on any of thereceived frames from the requesting STA. The SNR field and Link Margin field in the Link Measurement Report frame shall indicate thecorresponding measurements based on the reception of the PPDU that was used to generate the MCSfeedback contained in the same Link Measurement Report frame.The Link Measurement Request and Report frames can be used to obtain Link Margin information, whichcan be used to determine appropriate action by the requesting STA (e.g., change MCS or control transmitpower or initiate FST). A STA may send an unsolicited Link Measurement Report frame with the Dialog Token field set to 0.9.37.2 DMG TPCA DMG STA that receives a Link Measurement Report frame containing a DMG Link Margin element thatindicates Increase or Decrease Transmit power behaves according to the following rules:   If the DMG STA intends to implement the recommendation indicated in the Activity field of theLink Measurement Report, it shall implement the change and send a Link Measurement Reportcontaining a DMG Link Adaptation Acknowledgment element not later than 2  aPPDUMaxTimeafter it acknowledged the reception of the Link Measurement Report. The Activity field of the DMGLink Adaptation Acknowledgment element shall be set to the value of the Activity field in thereceived DMG Link Margin Subelement.  If the DMG STA does not implement the recommendation indicated in the Activity field of the LinkMeasurement Report, it may send the Link Measurement report containing a DMG Link AdaptationAcknowledgment element no later than 2  aPPDUMaxTime after it acknowledges the reception ofthe Link Measurement Report. The Activity field of the DMG Link Adaptation Acknowledgmentelement shall be set to 0, indication the STA prefers to not change transmit power. A DMG STA shall not include the DMG Link Adaptation Acknowledgment element in a Link MeasurementReport unless it is in response to a Link Measurement Report with Activity field set to increase or decreasetransmit power


page 348
9.37.3 Fast link adaptationA STA supports fast link adaptation if the Fast Link Adaptation field in the STA   s DMG Capabilitieselement is 1. Otherwise, the STA does not support fast link adaptation. A STA that supports fast linkadaptation shall not use fast link adaptation with a peer STA that does not support fast link adaptation.A STA that supports fast link adaptation shall support the reverse direction protocol (see 9.25). The STAthat transmits a Link Measurement Request frame as part of fast link adaptation shall be the RD initiator andthe STA that responds with a Link Measurement Report frame shall be the RD responder. Transmission ofLink Measurement Request, Link Measurement Report and the frames defined below shall follow the rulesof the reverse direction protocol.A STA initiates fast link adaptation by transmitting a Link Measurement Request frame of subtype ActionNo Ack and that has the Dialog Token field set to 0. The PPDU containing the frame shall have theAGGREGATION parameter in the TXVECTOR set to AGGREGATED, shall not contain any other framethat requires immediate response, and shall have a duration (as determined by the PHY-TXTIME.confirmprimitive defined in 6.5.8) that is greater than 5.27 s.NOTE  The PPDUs have the AGGREGATION parameter in the TXVECTOR set to AGGREGATED to allow paddingof the PSDUs with MPDU delimiters of size 0, therefore meeting the transmission duration requirement.A STA supporting fast link adaptation and that receives a Link Measurement Request frame of subtypeAction No Ack, with the Dialog Token field equal to 0 and contained in a PPDU with the AGGREGATIONparameter in the RXVECTOR equal to AGGREGATED shall respond with a Link Measurement Reportframe in no longer than BRPIFS from the reception of the Link Measurement Request frame. The TPCReport element, DMG Link Margin element and other fields transmitted in the Link Measurement Reportframe shall reflect measurements on the PPDU that contained the last received Link Measurement Requestframe from the initiating STA. The STA responding with the Link Measurement Report frame shall keep the IFS not longer than SIFS bytransmitting PPDUs that do not contain frames requiring immediate response and that have a duration that isgreater than 5.27 s. All transmitted PPDUs should use the same MCS and the same transmit power.The transmitted Link Measurement Report frame shall be of subtype Action No Ack, shall be sent usingMCS 1, and shall be sent within a PPDU with the AGGREGATION parameter in the TXVECTOR set toAGGREGATED. In addition, the PPDU shall not contain any frame that requires immediate response andshall have a duration that is greater than 5.27 s.If at least one of the conditions above for the transmission of the Link Measurement Report frame is not met,the STA may follow the rules in 9.37.1 to respond to the received Link Measurement Request frame.A STA that supports fast link adaptation and that receives a Link Measurement Report frame should respondwith an unsolicited Link Measurement Report frame in no longer than BRPIFS from the reception of theLink Measurement Report frame. The TPC Report element, DMG Link Margin element and other fieldstransmitted in the unsolicited Link Measurement Report frame shall reflect measurements taken on one ormore of the PPDUs received by the STA transmitting the unsolicited Link Measurement Report frame,starting with the received Link Measurement Report frame itself. If the unsolicited Link MeasurementReport frame is transmitted longer than SIFS from the reception of the Link Measurement Report frame, theSTA transmitting the unsolicited Link Measurement Report frame shall keep the IFS not longer than SIFSby transmitting one or more PPDUs before issuing the unsolicited Link Measurement Report frame.An example of the fast link adaptation procedure is shown in Figure9-76


page 349
3219.38 DMG dynamic tone pairing (DTP)A pair of communicating STAs shall employ DTP modulation only if both STAs support DTP as indicatedthrough the DTP Supported field within the STA   s DMG Capabilities element. A DTP capable STA may use DTP with another DTP capable STA by setting the DTP_TYPE in theTXVECTOR to dynamic; otherwise, the DTP_TYPE is set to static. The transmitting STA may stop usingDTP by setting the DTP_TYPE in the TXVECTOR to static. A transmitting STA requests a DTP report from a receiving STA by sending a DTP Request frame to thatSTA. Upon receiving a DTP Request frame, the receiving STA shall respond with a DTP Report framecarrying the DTP configuration. The DTP Report frame should be sent no later than dot11BeaconPeriodTUs after the receiving STA transmits an ACK frame in response to the successful reception of the DTPRequest frame. If the transmitting STA does not receive a DTP Report frame from the receiving STA withindot11BeaconPeriod TUs from the transmitting STA   s reception of the ACK frame corresponding to its mostrecent DTP Request frame transmission to the receiving STA, the transmitting STA may retransmit the DTPRequest frame to the receiving STA. The Dialog Token field of the DTP Report frame is set to the DialogToken value in the corresponding DTP Request frame. The transmitting STA should switch to the updated DTP configuration after a DTP Report frame is received.If a STA transmits a DTP Report frame in response to the reception of a DTP Request frame, the STA shallnot send an updated DTP Report frame unless it receives another DTP Request frame. If a STA transmits an unsolicited DTP Report frame, the STA should not send a new unsolicited updatedDTP Report unless the transmitting STA has switched to the DTP configuration last sent. Both the transmitting and receiving STAs maintain two copies of DTP configurations: the currentconfiguration that is in use for transmission and an updated configuration, if any, received after the currentconfiguration. The transmitting STA determines when to switch from the current to the updated DTPconfiguration. The transmitting STA shall indicate the switch from the current configuration to the updatedconfiguration by toggling the DTP Indicator bit field in the PLCP header. The value of the DTP Indicatorfield shall be kept unchanged until the transmitting STA decides to switch to the new DTP configuration. Byreceiving an ACK frame in response to a data frame from the receiving STA, the switching operation iscompleted. The transmitting STA may send another DTP Request frame to a receiving STA even if it decided not toswitch to the DTP configuration indicated by the receiving STA   s last transmitted, if any, DTP Reportframe.Initiating STAResponding STALink Measurement RequestPSDU. . .Link Measurement ReportSIFS < Computation time < BRPIFS5.27usSIFSPPDUPPDUBRPIFSunsolicited Link Measurement ReportPPDUFigure 9-76  Example of the fast link adaptation procedur


page 350
If the Beam link cluster field is 0, then the links within the MMSL cluster that use DTP may maintainindependent DTP configurations. 9.39 DMG relay operation9.39.1 GeneralThe DMG relay procedures are specified in 10.35. This subclause specifies the supported types of DMGrelay.A source REDS, a destination REDS and an RDS can establish two types of relay operation:   Link switching (9.39.2): If the direct link between the source REDS and destination REDS isdisrupted, the source REDS redirects the transmission of frames addressed to the destination REDSvia the RDS. The RDS forwards frames received from the source REDS to the destination REDSand from the destination REDS to the source REDS. Direct communication between the sourceREDS and destination REDS can resume after the direct link between them is recovered.  Link cooperating (9.39.3): In this case, the RDS is actively involved in the direct communicationbetween the source REDS and the destination REDS. A frame transmission from the source REDSto the destination REDS is simultaneously repeated by the RDS, which can possibly increase thesignal quality received at the destination REDS.9.39.2 Link switching type9.39.2.1 GeneralA source REDS that has successfully completed an RLS procedure with a destination REDS for which thevalue of the Cooperation-Mode subfield within the negotiated Relay Transfer Parameter Set element is 0may use the selected RDS between the source REDS and destination REDS for the purpose of linkswitching. This is described in this subclause.9.39.2.2 SP request and allocationThe source REDS uses the procedures described in 10.4 to request an SP allocation between itself and thedestination REDS.Upon receiving an ADDTS Request frame for which the source AID and the destination AID fields withinthe DMG TSPEC element are equal to a pair of a source REDS and a destination REDS, respectively, thathave successfully completed the RLS procedure defined in 10.35.2.4, the PCP/AP schedules an SP with thesource DMG STA as the source REDS and the destination DMG STA as the destination REDS.  An RDS shall check the value of the source AID and the destination AID fields of each SP allocation withinan Extended Schedule element it receives in a DMG Beacon or Announce frame from the PCP/AP. If thevalue of the source AID and the destination AID fields of an SP allocation correspond to a source REDS anda destination REDS, respectively, that have successfully completed the RLS setup procedure (10.35.2), theRDS shall operate as an RDS during that SP allocation. 9.39.2.3 Usage of RDSIn link switching type, an RDS operates either in FD-AF mode or in HD-DF mode. An RDS capable of FD-AF relaying shall be in one of two frame transmission modes


page 351
323  Normal mode: A pair of source REDS and destination REDS exchange frames via either the directlink or the relay link until this link is determined to become unavailable due to, for example,blockage or channel degradation.  Alternation mode: A source REDS and a destination REDS exchange frames via two separatelinks, where the use of each link alternates at each Link Change Interval. The Link Change Intervalspecifies the time instants at which a source REDS is allowed to change the link used for a frametransmission to the destination REDS as specified in 8.4.2.151.An RDS that supports only HD-DF shall operate in the Normal mode. The frame transmission mode is indicated in the Relay Transfer Parameter Set element exchanged by thesource REDS, destination REDS, and RDS during the RLS procedure. A source REDS or destination REDSmay change the transmission mode used in a relay link following a successful exchange of RLS Request andRLS Response frames as described in 10.35.2.4.An RDS shall start to operate as RDS at the start of an SP for which the value of the source AID anddestination AID fields for that SP are equal to the source REDS and destination REDS, respectively, forwhich the RDS has successfully completed the RLS procedure. The RDS can determine the SPs for which itoperates as an RDS upon the reception of an Extended Schedule element.9.39.2.4 Relay frame exchange rules9.39.2.4.1 GeneralFollowing the completion of the RLS procedure and SP allocation, each of the source REDS, destinationREDS, and RDS have a direct link with one another.The values of Link Change Interval and Data Sensing Time are indicated within the Relay TransferParameter Set transmitted by the source REDS to the destination REDS during the RLS procedure. Eitherthe Link Change Interval period or the First Period begins at the start of an SP between the source REDS andthe destination REDS, and any transmission by the source REDS, destination REDS, and RDS within a LinkChange Interval period shall use the same link that is used at the start of the Link Change Interval period. Anew Link Change Interval period starts immediately after another Link Change Interval period, but shall notexceed the end of the SP.In the normal mode, a source REDS shall use the direct link to initiate frame transmission to the destinationREDS at the start of the first SP allocated between the source REDS and destination REDS for a particularTID. At the start of the following SP allocations for that same TID, the source REDS uses the last link inwhich a frame transmission to the destination REDS via this link was successful. In the alternation mode, thesource DMG STA shall alternate the frame transmission to the destination REDS between direct frametransmission to the destination REDS and frame transmission through the RDS. The source REDS shallalternate the link used for a frame transmission at the start of each Link Change Interval. If a source REDS transmits a frame to the destination REDS via the direct link but does not receive anexpected ACK frame or BA frame from the destination REDS during a Link Change Interval period, thesource REDS should change the link used for frame transmission at the start of the following Link ChangeInterval period and use the RDS to forward frames to the destination REDS. If a source REDS transmits a frame to the destination REDS via the RDS but does not receive an expectedACK frame or BA frame from the RDS during a Link Change Interval period or a First Period, the sourceREDS should change the link used for frame transmission at the start of the following Link Change Intervalperiod or the following First Period and transmit frames directly to the destination REDS


page 352
9.39.2.4.2 Additional frame exchange rules for FD-AF RDSIf the source REDS decides to change the link at the start of the following Link Change Interval period andthe Normal mode is used, the source REDS shall start its frame transmission after Data Sensing Time fromthe start of the following Link Change Interval period. If the Alternation mode is used, the source REDSalternates the link used for frame transmission at the start of each Link Change Interval period, and the valueof Data Sensing Time is ignored. In the Normal mode, if the destination REDS does not receive a valid frame from the source REDS withinData Sensing Time after the start of a Link Change Interval, the destination REDS shall immediately changethe link to attempt to receive frames from the source REDS through the RDS. If the More Data field in thelast frame received from the source REDS is equal to 0, then the destination REDS shall not switch to thelink in the next Link Change Interval period even if it does not receive a frame during the Data SensingTime. An example of frame transfer under Normal mode with FD-AF RDS is illustrated in Figure9-77. In the Alternation mode, if the destination REDS receives an out of order frame, the destination REDS shallremain at the current link. If the More Data field in the last frame received from the source REDS is equal to0, then the destination REDS shall not switch links in the next Link Change Interval period. If the sourceREDS uses either the direct or the relay link and decides to resume alternate frame transmission, the sourceREDS should transmit a frame to the other link Data Sensing Time after the next Link Change Interval toinform the destination REDS that operation on the other link has been resumed. Note that this is the onlysituation when Data Sensing Time is used in the Alternation mode. 9.39.2.4.3 Additional frame exchange rules for HD-DF RDSWhen the RDS is operating as a HD-DF RDS and the RDS is used in the frame exchange between the sourceREDS and the destination REDS, the frame exchange is performed in two periods, which are repeated for aslong as the RDS is used. In the First Period, the source REDS shall transmit a frame to the RDS and then theRDS responds after SIFS if needed. In the Second Period, the RDS shall forward the frame received fromthe source REDS to the destination REDS, and then the destination REDS responds after SIFS if needed.The duration of the First Period and the Second Period are specified in the last Relay Transfer Parameter Setelement transmitted from the source REDS. The First Period and Second Period are valid only when the source REDS and destination REDS exchangeframes via the RDS. The Link Change Interval is valid only when the source REDS and destination REDSexchange frames via the direct link. The First Period begins at the end of the Link Change Interval when aSPSPSPData Sensing TimeData frame to direct linkACK frame todirect linkData frame to relay linkACK frame torelay linkLink Change IntervalSIFSSDSDSDSRDSRDSRDFigure 9-77  Example of Normal mode operation with FD-AF rela


page 353
325change to the relay link occurs. The Link Change Interval begins at the end of the Second Period when achange to the direct link occurs. The source REDS may transmit a Relay ACK Request frame to the RDS to determine whether all framesforwarded through the RDS were successfully received by the destination REDS. Upon reception of a RelayACK Request frame, the RDS shall respond with a Relay ACK Response frame and set the BlockAckBitmap field to indicate which frames have been successfully received by the destination REDS. If the source REDS decides to change to the relay link at the start of the following Link Change Intervalperiod, the source REDS shall start its frame transmission at the start of the following Link Change Intervalperiod. If the current link is the direct link and the destination REDS does not receive a valid frame from thesource REDS within Data Sensing Time after the start of each Link Change Interval, the destination REDSshall change the link and consider the First Period to begin at the start of the Link Change Interval.If a link change to the direct link occurs, the source REDS shall start to transmit a frame using the direct linkat the end of the Second Period when the Link Change Interval begins. The destination REDS shall switch tothe direct link at each First Period and listen to the medium toward the source REDS. If the destinationREDS receives a valid frame from the source REDS, the destination REDS shall remain on the direct linkand consider the Link Change Interval to begin at the start of the First Period. Otherwise, the destinationREDS shall change the link at the start of the next Second Period and attempt to receive frames from thesource REDS through the RDS. If the active link is the relay link and the More Data field in the last framereceived from the RDS is equal to 0, then the destination REDS shall not switch to the direct link even if itdoes not receive any frame during the Second Period. The source REDS that intends to use the Block Ack mechanism through the RDS shall perform the BlockAck setup procedure with the RDS using the same TID as it is used for the direct communication betweenthe source REDS and the destination REDS. Similarly, the RDS shall perform the Block Ack setupprocedure with the destination REDS before transmitting data using the Block Ack mechanism. Uponreception of an ADDBA Request frame from the source REDS, the RDS shall send an ADDBA Requestframe to the destination REDS with the same content for all corresponding fields as the ADDBA Requestframe received from the source REDS, except for Buffer Size field, which contains the buffer size of theRDS. Following the reception of the ADDBA Response frame from the destination REDS, the RDS shallsend an ADDBA Response frame to the source REDS. The ADDBA Response frame shall have the samecontent for all corresponding fields as the ADDBA Response frame received from the destination REDS,except for the Buffer Size field, which shall be set to the minimum between the buffer size of the RDS andthe destination REDS. An example of frame transfer with HD-DF RDS is illustrated in Figure9-78. SPSPData Sensing TimeData Frame to Direct LinkBAR Frame to Direct LinkData Frame to Relay LinkBA Frame to Relay LinkLink Change IntervalSIFSBA frame to Direct LinkBAR Frame to Relay Link1st Period2nd PeriodRelay ACK RequestRelay ACK Response1st PeriodSRSDSDSDRDSRSRSRRDRDFigure 9-78  Example of the operation with HD-DF rela


page 354
9.39.2.4.4 Operation of FD-AF RDSIn an SP allocated for relay operation, a FD-AF RDS operates in an amplify-and-forward manner. Thismeans that for each frame detected at the RF in the receive state within an SP in which it operates as a FD-AF RDS, the RDS amplifies the received signal and simultaneously retransmits it via the RF in transmitstate.At the start of the SP where it operates as a FD-AF RDS, the RDS shall initiate an RF antenna module in thereceive state directed toward the source REDS and another RF antenna module in transmit state directedtoward the destination REDS.For each frame received at the RDS during the SP, the RDS shall follow the same rules for frame exchangesequences as described in Annex G and 9.33. This includes switching the state of each RF available to theRDS from receive to transmit, and vice-versa, depending upon the frame type and its ACK policy.9.39.2.5 Link monitoringAfter a link change, the source REDS might periodically monitor the quality of the previous link. To do that,the source REDS can use the link change mechanism described in 9.39.2.4. If the previous link is the relaylink, the source REDS can acquire the channel status by using relay link measurement mechanism asdescribed in 9.39.4. If the previous link is the direct link, the source REDS can acquire the channel status viathe link adaptation mechanism defined in 9.37. If the channel quality of the previous link is better than theone on the current link, which is an implementation-dependent decision, the source REDS may switch to theprevious link. 9.39.3 Link cooperating type9.39.3.1 TPA procedureA source REDS, a destination REDS, and an RDS use the common relay setup procedure defined in 10.35.2to set up a link cooperating relay. In addition, to establish a link cooperating relay, the source REDS,destination REDS, and RDS shall perform the TPA procedure described in this subclause and shown inFigure9-79.dTDR: Propagation delay from Dto RdTDS: Propagation delay from Dto SdTSR: Propagation delay from Sto RdTDRdTDSdTSRSBIFSSBIFSdTDS-dTDRdTDRFigure 9-79  TPA mechanis


page 355
327The TPA procedure is triggered by the destination REDS following the common relay setup procedure withthe source REDS and RDS. First, the destination REDS uses the procedures described in 10.4 to request theallocation of an SP to perform TPA, wherein the source of the SP is the destination REDS and thedestination of the SP is the source REDS. If the value of a source AID and the destination AID fields of anSP allocation correspond to a destination REDS and a source REDS, respectively, that have successfullycompleted the RLS setup procedure, the DMG STA that performs as an RDS in that SP allocation shalloperate during the allocation as a non-RDS-capable DMG STA.Within the allocated SP, the destination REDS sends a TPA Request frame to the RDS and sets the TimingOffset field to zero (see Figure9-79). SBIFS interval following the end of the first TPA Request frametransmission, the destination REDS shall send the second TPA Request frame to the source REDS and setthe Timing Offset field to zero. aDtime interval (10.38) following the reception of the first TPA Requestframe, the RDS shall transmit a TPA Response frame back to the destination REDS. Upon receiving theTPA Response frame from the RDS, the destination REDS shall estimate the TPA value of the RDS and thetime deviation (i.e., 2  dTDR) between the expected Dtime and the actual arrival time of the TPA Responseframe. aDtime interval following the reception of the second TPA Request frame, the source REDS shalltransmit a TPA Response frame back to the destination REDS. The destination REDS shall repeat the sameprocedure upon reception of the TPA Response frame received from the source REDS. SBIFS interval following the end of the transmission of the TPA Response frame to the destination REDS,the source REDS shall send a TPA Request frame to the RDS and set the Timing Offset field to zero. aDtimeinterval following the reception of the TPA Request frame, the RDS shall transmit a TPA Response frameback to the source REDS. Upon reception of the TPA Response frame from the RDS, the source REDS shallestimate the TPA value of the RDS and the time deviation (i.e., 2  dTSR) between aDtime and the actualarrival time of the TPA Response frame. At aRelayTPATime (10.38) from the end of the last TPA Request frame transmitted by the destinationREDS to the source REDS, the destination REDS shall send a TPA Request frame to the RDS and set theTiming Offset field to dTDS  dTDR. Upon reception of the TPA Request frame, the RDS shall transmit a TPAResponse frame to the destination REDS at aDtime+dTDR+(dTDS  dTDR) from the end of the TPA Requestframe. Upon reception of the TPA Response frame, the destination REDS shall estimate the time deviation(i.e., 2  dTDR+(dTDS  dTDR)) between aDtime and the actual arrival time of the TPA Response frame. If thedestination REDS determines that the estimated deviation is equal to 2  dTDR+(dTDS  dTDR), then thedestination REDS considers that the TPA procedure was successful. As the last step of the TPA procedure,the destination REDS shall send a TPA Report frame to the source REDS that includes the informationregardless of whether the last TPA procedure succeeded. If it is not successful, the TPA procedure is repeated until it is successful or upon the decision of thedestination REDS to stop performing the TPA procedure. The TPA procedure can include the estimation ofthe sampling frequency-offset (SFO), in order for the source REDS and RDS to adjust their SFOs. 9.39.3.2 Frame exchange operation9.39.3.2.1 GeneralA source REDS that has successfully completed an RLS procedure with a destination REDS for which thevalue of the Cooperation-Mode subfield within the negotiated Relay Transfer Parameter Set element is equalto 1 and has successfully completed the TPA procedure shall use the selected RDS between the sourceREDS and destination REDS for the purpose of link cooperation. This is described in this subclause.9.39.3.2.2 Cooperative transmission SP request and allocationIf the source REDS receives a TPA Report frame that indicates the successful completion of the TPAprocedure with the RDS and the destination REDS, the source REDS uses the procedure in 10.4 to reques


page 356
an SP allocation with the destination REDS. The source REDS can use the SP allocation for communicationwith the destination REDS with the assistance of the RDS.9.39.3.2.3 Data transmission rulesAs shown in the example of Figure9-80, in the allocated SP the first time interval (T1) and the second timeinterval (T2) for a cooperative data frame transfer are determined by the packet transmission time at eachtransmission from the source REDS to the destination REDS within the SP. The data transmission rules are as follows. At the start of each time T1, the source REDS transmits a framewith its transmit antenna pattern directed towards the RDS and with the TA and the RA fields in the MACheader set to the MAC address of the source REDS and destination REDS, respectively. After Ptime+dTSRfrom the start of T2, the source REDS retransmits the same frame sent to the RDS during the previous timeT1 but now with its transmit antenna pattern directed towards the destination REDS. Similarly, afterPtime+(dTDS  dTDR) from the start of T2, the RDS retransmits the same frame it received from the sourceREDS during the previous time T1. So that the destination REDS can take advantage of the improvedreceived signal level from both of these transmissions, the destination REDS should set its receive antennapattern during T2 such that it simultaneously covers the links towards both the source REDS and the RDS. The Ack policy used during an SP where link cooperation is in use is the same as defined in Clause 9.9.39.4 Relay link adaptationWhen a relay link is used for communication between a source REDS and a destination REDS, the linkqualities of the S-R link, the R-D link, and the S-D link might be required. The source REDS, destination REDS, and RDS use the procedure described in 9.37 to request and report thelink quality among themselves with the following exception. In the Link Measurement Report frame theRDS transmits to the source REDS, the RDS shall include two Link Margin elements in this order:  The first Link Margin element shall report the link quality between the source REDS and the RDS.  The second Link Margin element shall report the link quality between the RDS and the destinationREDS.Upon reception of a Link Measurement Report frame, the source REDS can take several actions includingchanging the MCS it uses for frame transmission to the RDS and destination REDS. T1T2T1T2T1T2SRRDSDSRSRRDSDRDSDFigure 9-80  Example of data transmission in an SP with link cooperating rela


page 357
32910. MLME10.1 Synchronization10.1.1 GeneralInsert the following paragraph at the end of 10.1.1:A multi-band capable device (10.32) shall maintain a local TSF timer for each channel that the STA operatesin.10.1.2 Basic approach10.1.2.1 TSF for infrastructure networks and PBSS networksChange 10.1.2.1 as follows:In an infrastructure BSS or in a PBSS, the AP in the infrastructure BSS or the PCP in the PBSS shall be thetiming master for the TSF. A STA that is the AP or the PCP shall initialize its TSF timer independently ofany simultaneously started APs or PCPs, respectively, in an effort to minimize the synchronization of theTSF timers of multiple APs or PCPs. In a non-DMG BSS, Tthe AP shall periodically transmit special framescalled Beacon frames. In a DMG BSS, the PCP/AP shall periodically transmit special frames called DMGBeacon and Announce frames, which provide a similar function to the Beacon frame in a non-DMG BSS.Beacon, DMG Beacon, and Announce frames that contain the value of its the PCP   s or AP   s TSF timer tosynchronize the TSF timers of other STAs in a BSS. A receiving STA shall accept the timing information inBeacon, DMG Beacon, and Announce frames sent from the AP and PCP servicing its BSS. If a STA   s TSFtimer is different from the timestamp in the received Beacon, DMG Beacon, or Announce frame, thereceiving STA shall set its local TSF timer to the received timestamp value. In a non-DMG BSS, Beacon frames shall be generated for transmission by the AP once everydot11BeaconPeriod TUs. In a DMG infrastructure BSS, zero or more DMG Beacon frames shall begenerated for transmission by the AP every dot11BeaconPeriod TUs (see 10.1.3.2a). The AP shall transmitat least one DMG Beacon frame through each sector available to the AP within a time interval that is notlonger than dot11BeaconPeriod  dot11MaxLostBeacons TUs. The TXSS Span field in the DMG Beaconshall be set to a value that is less than or equal to the dot11MaxLostBeacons attribute. In a PBSS, the value of the TSF timer is delivered to the DMG STA by the DMG Beacon frames generatedat each BTI and by the Announce frames generated during the ATI. In a PBSS, at TBTTs that do not startwith a BTI, the PCP begins a beacon interval with an ATI sequence (see 10.1.3.2a.2). The time interval inbetween two consecutive BTIs shall be an integer multiple of dot11BeaconPeriod TUs. The PCP shalltransmit at least one DMG Beacon frame to each associated STA within a time interval that is not longerthan dot11BeaconPeriod  dot11MaxLostBeacons TUs. The PCP shall transmit at least one DMG Beaconframe through each possible antenna configuration in a full-coverage set of antenna configurations withinthe number of beacon intervals specified within the most recently updated TXSS Span field. 10.1.3 Maintaining synchronization10.1.3.1 GeneralChange 10.1.3.1 as follows:Each STA shall maintain a TSF timer with modulus 264 counting in increments of microseconds. STAsexpect to receive Beacon frames at a nominal rate. In a non-DMG infrastructure BSS, tThe interval betwee


page 358
Beacon frames is defined by the dot11BeaconPeriod parameter of the STA. In a DMG infrastructure BSS,the STAs expect to receive at least one DMG Beacon frame every dot11BeaconPeriod   dot11MaxLostBeacons TUs. In a PBSS, the DMG STAs expect to receive at least one DMG Beacon frameor one Announce frame every dot11BeaconPeriod    dot11MaxLostBeacons TUs.A STA sending a Beacon frame shall set the value of the Beacon frame   s timestamp so that it equals thevalue of the STA   s TSF timer at the time that the data symbol containing the first bit of the timestamp istransmitted to the PHY plus the transmitting STA   s delays through its local PHY from the MAC-PHYinterface to its interface with the WM [e.g., antenna, light-emitting diode (LED) emission surface]. A STAsending a DMG Beacon or an Announce frame shall set the value of the frame   s timestamp field to equal thevalue of the STA   s TSF timer at the time that the transmission of the data symbol containing the first bit ofthe MPDU is started on the air (which can be derived from the PHY-TXPLCPEND.indication primitive),including any transmitting STA   s delays through its local PHY from the MAC-PHY interface to its interfacewith the WM. Change the title of 10.1.3.2 as follows:10.1.3.2 Beacon generation in non-DMG infrastructure networksInsert the following subclauses, 10.1.3.2a to 10.1.3.2b (including Figure 10-1a), after 10.1.3.2:10.1.3.2a Beacon generation in a DMG infrastructure BSS and in a PBSS10.1.3.2a.1 GeneralA DMG STA acting as a PCP/AP follows the DMG channel access procedures (see 9.33) and the rulesdescribed in this subclause to transmit DMG Beacon frames. Each DMG Beacon frame transmitted by a PCP and by a DMG AP shall have the Discovery Mode fieldwithin the DMG Beacon set to 0.The Duration field of each transmitted DMG Beacon frame shall be set to the time remaining until the end ofthe current BTI. A PCP and a DMG AP establish a series of Target Beacon Transmission Times (TBTTs) spaceddot11BeaconPeriod TUs apart. The period between two TBTTs is referred to as the beacon interval. Thebeacon interval length shall be no more than aMaxBIDuration. Time value zero of the TSF is defined to be aTBTT with a DMG Beacon frame transmitted at the beginning of the beacon interval. The length of the beacon interval is included in the DMG Beacon, Announce, and Probe Response frames,and the DMG STAs shall adopt that beacon interval when joining the BSS. A PCP and a DMG AP that move the TBTT (10.30.2) or change the beacon interval duration (10.30.3) shallreestablish the TBTT by resetting the TSF to zero at the time the BSS parameter change takes effect in theBSS. At each BTI, a PCP and a DMG AP schedule DMG Beacon frames for transmission according to theprocedure specified in 9.35.4. Subject to this constraint, the PCP/AP may delay the DMG Beacontransmission if the medium is determined by the CCA mechanism to be busy. When delaying a DMGBeacon transmission, the PCP/AP shall check that the BTI, A-BFT, and ATI do not overlap in time withpseudo-static SPs for which the PCP/AP is not the source DMG STA and, if PCP/AP clustering is in use,that the DMG Beacon transmission follows the additional rules described in 9.34


page 359
331A PCP/AP may transmit DMG Beacon frames through different antenna configurations during the BTI, butshall not transmit more than one DMG Beacon frame through the same antenna configuration during theBTI of any beacon interval. For any beacon interval that does not include a DMG Beacon transmission in theBTI, the AP shall begin the beacon interval with an ATI, and the PCP begins the beacon interval with anATI (10.2.5.3). When the DMG Beacon transmission is performed as multiple directional transmissions, a PCP/AP shouldchange the sequence of directions through which a DMG Beacon is transmitted after it has transmitted aDMG Beacon frame through each direction in the current sequence of directions. When the ECPAC PolicyEnforced field is equal to 1 in the DMG Beacon frame most recently transmitted by a PCP/AP, then   When the PCP/AP transmits a DMG Beacon frame as multiple directional transmissions, the PCP/AP shall change the sequence of directions through which a DMG Beacon frame is transmitted afterit has transmitted a DMG Beacon frame through each direction in the current sequence of directions.  When the PCP/AP transmits a DMG Beacon frame as a single transmission, the PCP/AP shallrandomly delay the transmission of the DMG Beacon frame by up to min(4  TXTIME(DMGBeacon), 1024  dot11MinBHIDuration)   s after the TBTT.This is done to randomize and potentially minimize interference to/from the DMG Beacon. One suchexample is indicated in Figure10-1a. If the sequence of directions is changed, the sequence of directionsshall be pseudorandomly chosen from a sequence of directions covering the full set of directions available toa PCP/AP. NOTE  A PCP/AP operating in a DMG BSS can transmit Announce frames during the ATI (9.33.3). An Announceframe can perform the function of a DMG Beacon frame, can be transmitted as an individually addressed frame directedto a STA, and can provide a much more spectrally efficient access than using a DMG Beacon frame. A DMG STA that is an AP or a PCP shall include a DMG Operation element within a transmitted DMGBeacon frame if the CBAP Only field within the DMG Beacon frame is equal to 1. A DMG STA that is anAP or a PCP shall include a DMG Operation element within a transmitted DMG Beacon frame if the CBAPOnly field within the DMG Beacon frame is equal to 0 and the Extended Schedule element is included in theDMG Beacon frame. A DMG STA that is an AP or a PCP shall include a DMG Operation element within atransmitted Announce frame if the Extended Schedule element is included in the Announce frame. 10.1.3.2a.2 Beacon generation in a PBSSAt TBTTs that do not start with a BTI, the PCP shall begin a beacon interval with an ATI. A PCP that transmits a DMG Beacon with the CBAP Only field equal to 1 within a BTI shall include a BTIin any following beacon intervals until the completion of the TXSS of which the DMG Beacon is a part. 10.1.3.2a.3 Beacon generation in a DMG infrastructure BSS The DMG AP shall assert the dot11MaxLostBeacons attribute value equal to the aMinBTIPeriod parametervalue. ...BTIBeacon Interval 0BTIBeacon Interval 1BTIBeacon Interval N-1BTIBeacon Interval NN-101...12N-1...2N-20...N-101......Figure 10-1a  Example of DMG Beacon transmission by PCP/AP during the BT


page 360
10.1.3.2b DMG Beacon generation before network initializationA DMG STA can transmit DMG Beacon frames before network initialization to discover and performbeamforming during the A-BFT with another DMG STA so that the following frame exchanges betweenthese DMG STAs do not have to be done as a sector sweep (see 10.1.4.3.3). A DMG STA that transmits DMG Beacon frames before network initialization shall set the Discovery Modefield in each transmitted DMG Beacon frame to 1 to indicates that the network initialization proceduredefined in 10.1.4.4 has not been performed. In addition, the STA shall set the Next A-BFT field to0. Before network initialization, the spacing between TBTTs can change, and the time to the next TBTT iscontained in each DMG Beacon transmitted at the last BTI. At each TBTT, the DMG STA should generate arandom value for the Beacon Interval field within the DMG Beacon frame from a uniform distributionbetween [10 TUs, 200 TUs), i.e., 10 TUs inclusive through 200 TUs exclusive. All DMG Beacon frametransmissions within the same BTI shall have the same value for the Beacon Interval field.The TSF shall be set to 0 at the first TBTT for which the Discovery Mode field within the DMG Beaconframe is equal to 1. After that, the TSF shall be set to 0 at the TBTT of the beacon interval in which theDMG STA changes the value of the Beacon Interval field.The DMG STA shall transmit the first DMG Beacon frame of the next BTI at the time indicated by the startof the transmission of the first DMG Beacon frame within the last BTI and the value of the Beacon Intervalfield contained in the DMG Beacon frame transmitted within the last BTI, unless the medium is determinedby the CCA mechanism to be busy in which case the DMG STA may delay the transmission of the firstDMG Beacon transmission. A DMG STA that transmits a DMG Beacon frame with the Discovery Mode field equal to 1 may indicatethe STA(s) that is allowed to respond in the A-BFT following the BTI where the DMG Beacon frame istransmitted. To do that, in the DMG Beacon the DMG STA shall set the CC Present field to 1 and shall setthe A-BFT Responder Address subfield to an individual address or to a group address of a group thatincludes the STA(s) that is allowed to respond in the A-BFT.A DMG STA that is transmitting DMG Beacon frames with the Discovery Mode field equal to 1 shouldconfigure its receive antenna to a quasi-omni antenna pattern and stay in receiving state during portions ofthe DTI defined by the DMG Beacon transmissions. This enables the DMG STA to receive framestransmitted by any DMG STA that is covered by this antenna pattern. A DMG STA that is transmitting DMG Beacon frames with the Discovery Mode field equal to 1 shouldcease transmitting these beacons when it has received a DMG Beacon frame from another STA, or when ithas received acknowledgment of a transmitted Probe Response frame. If a BSS is not initialized as a resultof the channel scanning, the DMG STA can resume transmitting DMG Beacon frames with the DiscoveryMode field equal to 1. The procedure of TBTT change described in the preceding paragraph is applicable for DMG Beacongeneration before network initialization, whereas the procedures defined in 10.30.2 and 10.30.3 are used tochange the DMG BSS parameters after the infrastructure BSS and PBSS are initialized. The DMG STA shall set the Duration field of each transmitted DMG Beacon frame to the time remaininguntil the end of the current BTI


page 361
33310.1.3.3 Beacon generation in an IBSSChange the first paragraph in 10.1.3.3 as follows:Beacon generation in an IBSS is distributed. The beacon period is included in Beacon, Announce, and ProbeResponse frames, and STAs shall adopt that beacon period when joining the IBSS. All members of the IBSSparticipate in beacon generation. Each STA shall maintain its own TSF timer that is used fordot11BeaconPeriod timing. The beacon interval within an IBSS is established by the STA at which theMLME-START.request primitive is performed to create the IBSS. This defines a series of TBTTs exactlydot11BeaconPeriod TUs apart. Time zero is defined to be a TBTT. At each TBTT the STA shalla)Suspend the decrementing of the backoff timer for any pending transmission that is not a non-Beacon or DMG Beacon frame transmission,b)Calculate a random delay uniformly distributed in the range between zero and twice aCWminaSlotTime when the STA is a non-DMG STA, and between zero and the result of two multiplied byaCWminDMGIBSS multiplied by the duration of the STA   s following BTI when the STA is a DMGSTA, c)Wait for the period of the random delay, decrementing the random delay timer using the samealgorithm as for backoff,d)Cancel the remaining random delay and the pending Beacon frame transmission or BTI (DMGonly), if a Beacon frame arrives from the IBSS of which the STA is a member before the randomdelay timer has expired, e)Send a Beacon frame in a non-DMG BSS or DMG Beacon frame(s) in a DMG BSS if the randomdelay has expired and no Beacon frame in a non-DMG BSS or no DMG Beacon frame in a DMGBSS has arrived from the IBSS of which the STA is a member during the delay period,f)If the ATIM Window in use within the IBSS is greater than 0, then1)Resume decrementing the backoff timer for any pending transmission allowed inside the ATIMwindow and2)At the time of the ATIM Window duration, resume the backoff for any pending framesintended for transmission outside the ATIM Window,g)If the ATIM Window in use within the IBSS is 0, then resume decrementing the backoff timer forany pending transmissions. 10.1.3.5 Beacon receptionChange the second and third paragraphs of 10.1.3.5 as follows: STAs in an infrastructure network or PBSS shall use information that is not in the CF Parameter Set elementin received Beacon frames or DMG Beacon frames or Announce frames only if the BSSID field is equal tothe MAC address currently in use by the STA contained in the AP of the BSS or to the MAC addresscurrently in use by the PCP of the PBSS. Non-AP or non-PCP STAs in an infrastructure or PBSS network,respectively, that support the Multiple BSSID capability shall use other information in received Beacon orDMG Beacon frames only if the BSSID field of a non-AP or non-PCP STA is equal to the MAC addresscurrently in use by the STA contained in the AP or PCP, respectively, of the BSS corresponding to thetransmitted BSSID or if the BSSID field of a non-AP or non-PCP STA is equal to one of the nontransmittedBSSIDs. STAs in an non-DMG IBSS shall use information that is not in the CF Parameter Set element in anyreceived Beacon frame for which the IBSS subfield of the Capability field is 1, the content of the SSIDelement is equal to the SSID of the IBSS, and the TSF value is later than the receiving STA   s TSF timer. Useof this information is specified in 10.1.5


page 362
Insert the following paragraphs at the end of 10.1.3.5:DMG STAs in an IBSS shall use other information in any received DMG Beacon and Announce frames forwhich the BSS Type subfield is 1, the content of the SSID element is equal to the SSID of the IBSS, and theTSF value is later than the receiving STA   s TSF timer. Use of this information is specified in 10.1.5. A STA shall ignore the BSS Type field contained in a received DMG Beacon frame if the Discovery Modefield within the DMG Beacon is 1.An active STA operating in a BSS shall be ready to receive a DMG Beacon or a frame from the PCP/AP fora period of time of at least dot11MinBHIDuration following the TBTT or expected ATI start time asspecified in the last Next DMG ATI element (8.4.2.137) transmitted by the PCP/AP. An active DMG STA that is receive beamforming trained with the PCP/AP shall direct its receive antennapattern toward the PCP/AP or use a quasi-omni antenna pattern during this time. A non-PCP STA that receives a DMG Beacon frame from a PCP in which the PCP Association Ready fieldis 0 shall not transmit an Association Request frame addressed to the PCP that transmitted the receivedDMG Beacon. A non-PCP STA that receives a DMG Beacon frame from a PCP with the PCP AssociationReady field set to 1 may transmit an Association Request frame addressed to the PCP that transmitted thereceived DMG Beacon.10.1.3.6 Multiple BSSID procedureChange 10.1.3.6 as follows:Implementation of the Multiple BSSID capability is optional for a WNM STA and for a DMG STA. A STAthat implements the Multiple BSSID capability has dot11MgmtOptionMultiBSSIDImplemented set to true.When dot11MgmtOptionMultiBSSIDImplemented is true, dot11WirelessManagementImplemented shall beset true except for a DMG STA, in which case it may be set to false. A STA that has a value of true fordot11MgmtOptionMultiBSSIDActivated is defined as a STA that supports the Multiple BSSID capability.A STA for which dot11MgmtOptionMultiBSSIDActivated is true shall set the Multiple BSSID field of theExtended Capabilities element to 1.The nontransmitted BSSID profile shall include the SSID element (see 8.4.2.2) and Multiple BSSID-Indexelement (see 8.4.2.76) for each of the supported BSSIDs. The PCP/AP may optionally include all otherelements in the nontransmitted BSSID profile. The PCP/AP may include two or more Multiple BSSIDelements containing elements for a given BSSID index in one Beacon frame or DMG Beacon frame. If twoor more are given, the profile is considered to be the complete set of all elements given in all such MultipleBSSID elements sharing the same BSSID index. Since the Multiple BSSID element is also present in ProbeResponse frames, an PCP/AP may choose to advertise the complete or a partial profile of a BSScorresponding to a nontransmitted BSSID only in the Probe Response frames. In addition, the PCP/AP maychoose to include only a partial list of nontransmitted BSSID profiles in the Beacon frame or DMG Beaconframe or to include different sets of nontransmitted BSSID profiles in different Beacon frames or DMGBeacon frames.When a station receives a Beacon frame or DMG Beacon frame with a Multiple BSSID element that consistsof a nontransmitted BSSID profile with only the mandatory elements, it may inherit the complete profilefrom a previously received Beacon frame, DMG Beacon frame, or Probe Response frame, or it may send aProbe Request frame to obtain the complete BSSID profiles. Each Beacon element not transmitted in anontransmitted BSSID subelement is inherited from a previous Beacon, DMG Beacon, or Probe Responseframe in which the element is present, except for the Quiet element, which shall take effect only in theBeacon frame or DMG Beacon frame that contains it and not carry forward as a part of the inheritance. AnPCP/AP is not required to include all supported nontransmitted BSSID profiles in a Probe Response fram


page 363
335and may choose to include only a subset based on any criteria. When a nontransmitted BSSID profile ispresent in the Multiple BSSID element of the Probe Response frame, the PCP/AP shall include all elementsthat are specific to this BSS. If any of the optional elements is not present in a nontransmitted BSSID profile,the corresponding values are the element values of the transmitted BSSID.A non-PCP/non-AP STA derives its nontransmitted BSSID value according to 8.4.2.48 and 8.4.2.76.The Partial Virtual Bitmap field in the transmitted BSSID Beacon frame or DMG Beacon frame shallindicate the presence or absence of traffic to be delivered to all stations associated to a transmitted ornontransmitted BSSID. The first 2n bits of the bitmap are reserved for the indication of group addressedframes for the transmitted and all nontransmitted BSSIDs. The AID space is shared by all BSSs, and thelowest AID value that shall be assigned to a station is 2n (see 8.4.2.7).Operation in a non-DMG BSS is subject to the following additional rules. If the contention-free period issupported and if the CFPCount of more than one BSS becomes 0 in the same Beacon frame, the AP shallconcatenate the contention-free periods of all CFPs that coincide and shall not transmit a CF-End or CF-End+Ack until the end of the concatenated CFP, indicated with a single CF-End or CF-End+Ack, ifrequired. The CF Parameter Set in the transmitted BSSID contains times that are an aggregate of CFP timesof the nontransmitted BSSIDs.Multiple BSSID rate selection is defined in 9.7.7.10.1.3.7 TSF timer accuracyChange of 10.1.3.7 as follows:Upon receiving a Beacon or a DMG Beacon or an Announce frame with a valid FCS and BSSID or SSID, asdescribed in 10.1.3.5, a STA shall update its TSF timer according to the following algorithm:  Non-DMG STA: The received timestamp value shall be adjusted by adding an amount equal to thereceiving STA   s delay through its local PHY components plus the time since the first bit of thetimestamp was received at the MAC/PHY interface.   DMG STA: The received timestamp value shall be adjusted by adding an amount equal to thereceiving STA   s delay through its local PHY components plus the time since the last data symbol ofthe PLCP header, excluding any guard interval, was received as indicated by PHY_RXSTART.ind. In the case of an infrastructure BSS or a PBSS, the STA   s TSF timer shall then be set to the adjusted value ofthe timestamp. In the case of an IBSS, the STA   s TSF timer shall be set to the adjusted value of the receivedtimestamp, if the adjusted value of the timestamp is later than the value of the STA   s TSF timer. Theaccuracy of the TSF timer shall be no worse than    0.01%.When an STA is associated to a BSS with a nontransmitted BSSID, it shall use the TSF from the transmittedBSSID beacon frame.10.1.4 Acquiring synchronization, scanning10.1.4.1 GeneralChange the third paragraph of 10.1.4.1 as follows:Upon receipt of the MLME-SCAN.request primitive, a STA shall perform scanning. The SSID parameterindicates the SSID for which to scan. The SSID List parameter indicates one or more SSIDs for which toscan. To become a member of a particular ESS using passive scanning, a STA shall scan for Beacon andDMG Beacon frames containing that ESS   s SSID, returning all Beacon and DMG Beacon frames matchin


page 364
the desired SSID in the BSSDescriptionSet parameter of the corresponding MLME-SCAN.confirmprimitive with the appropriate bits in the Capabilities Information field or DMG Capabilities field indicatingwhether the Beacon frame or the DMG Beacon frame came from an infrastructure BSS, PBSS, or IBSS. Ifthe value of dot11RMMeasurementPilotActivated is greater than 1, the STA shall additionally scan forMeasurement Pilot frames, returning in the BSSDescriptionFromMeasurementPilotSet parameter allMeasurement Pilot frames that equal the requested BSSID of the corresponding MLME-SCAN.requestprimitive and are not already members of the BSSDescriptionSet. To actively scan, the STA shall transmitProbe request frames containing the desired SSID or one or more SSID List elements, but a DMG STAmight also have to transmit DMG Beacon frames or perform beamforming training prior to the transmissionof Probe Request frames. When the SSID List element is present in the Probe Request frame, one or more ofthe SSID elements may include a wildcard SSID (see 8.4.2.2). The exact procedure for determining theSSID or SSID List values in the MLME-SCAN.request primitive is not specified in this standard. When aSTA scans for a BSS whose AP does not support the SSID List element, or for a BSS for which AP supportof the SSID List element is unknown, the SSID element with an SSID or wildcard SSID shall be included inthe MLME-SCAN.request primitive. Upon completion of scanning, an MLME-SCAN.confirm primitive isissued by the MLME indicating all of the BSS information received. Insert the following paragraph after the third paragraph of 10.1.4.1 as follows:In DMG BSSs, the Active Scan procedure (10.1.4.3) can be used for device discovery prior to initializing orjoining a BSS. Change the now sixth paragraph of 10.1.4.1 as follows:Upon receipt of an MLME-SCAN.request primitive with the SSID parameter set to the wildcard SSID, theSTA shall passively scan for any Beacon or DMG Beacon or Meassurement Pilot frames, or activelytransmit Probe Request or DMG Beacon frames containing the wildcard SSID, as appropriate dependingupon the value of ScanMode. Upon completion of scanning, an MLME-SCAN.confirm primitive is issuedby the MLME indicating all of the BSS information received.Change the now ninth paragraph of 10.1.4.1 as follows:When a STA starts a BSS, that STA shall determine the BSSID of the BSS. If the BSSType indicates aninfrastructure BSS, then the STA shall start an infrastructure BSS, and the BSSID shall be equal to theSTA   s dot11StationID. If the BSSType indicates a PBSS, then the STA shall start a PBSS. For both theinfrastructure BSS and the PBSS, Tthe value of the BSSID shall remain unchanged, even if the value ofdot11StationID is changed after the completion of the MLME-START.request primitive. If the BSSTypeindicates an IBSS, the STA shall start an IBSS, and the BSSID shall be an individual locally administeredIEEE MAC address as defined in 9.2 of IEEE Std 802-2001. The remaining 46 bits of that MAC addressshall be a number selected in a manner that minimizes the probability of STAs generating the same number,even when those STAs are subjected to the same initial conditions. The value SSID parameter shall be usedas the SSID of the new BSS. It is important that designers recognize the need for statistical independenceamong the random number streams among STAs. 10.1.4.2 Passive scanningChange 10.1.4.2 as follows:10.1.4.2.1 Passive scanning for non-DMG STAsIf the ScanType parameter indicates a passive scan, the STA shall listen to each channel scanned for nolonger than a maximum duration defined by the MaxChannelTime parameter


page 365
337Insert the following subclause, 10.1.4.2.2, after 10.1.4.2.1:10.1.4.2.2 Passive scanning for DMG STAsUpon receipt of the MLME-SCAN.request primitive with the ScanType parameter set to Passive, a DMGSTA shall passively scan for transmissions on each channel specified within the ChannelList parameter ofthe MLME-SCAN.request primitive. The channel traversal order during passive scanning is implementationspecific. That is, the DMG STA shall be in the receive state scanning for a period of time in a channel no less thanMinChannelTime and return information on all DMG Beacon frames received matching a particular BSSIDor SSID parameters specified in the MLME-SCAN.request primitive. If no DMG Beacon scan parametersare specified in the request, then the DMG STA shall return information on all received DMG Beaconframes. If at any time during the scan the DMG STA detects a non-DMG Beacon frame, the DMG STA shallcontinue to scan the current channel until the scanning timer expires. After scanning one channel, the DMGSTA shall initiate scanning in another channel if at least one channel within the ChannelList parameter hasnot yet been scanned. When the DMG STA has completed scanning all indicated channels, it returns the scan results via theMLME-SCAN.confirm primitive. 10.1.4.3 Active scanning10.1.4.3.2 Sending a probe responseChange the third and fourth paragraphs of 10.1.4.3.2 as follows:Only DMG STAs that are not members of a PBSS but that have transmitted at least one DMG Beacon framewith the Discovery Mode field set to 1, multi-band capable non-AP STAs for which the last received proberequest included a Multi-band element, APs, PCPs, and STAs in an IBSS or in an MBSS respond to proberequests. A result of the procedures defined in this subclause is that in each infrastructure BSS, except inDMG BSSs, and IBSS, there is at least one STA that is awake at any given time to receive and respond toprobe requests. In an MBSS, STAs might not be awake at any given time to respond to probe requests. In aninfrastructure BSS or in an IBSS, a STA that sent a Beacon frame shall remain in the Awake state and shallrespond to probe requests, subject to criteria in the next paragraph, until a Beacon frame with the currentBSSID is received. If the STA is contained within an AP, it shall remain in the Awake state and alwaysrespond to probe requests, subject to criteria in the next paragraph. There may be more than one STA in anIBSS that responds to any given probe request, particularly in cases where more than one STA transmitted aBeacon/DMG Beacon frame following the most recent TBTT, either due to not receiving successfully aprevious Beacon/DMG Beacon frame or due to collisions between beacon transmissions. In an infrastructure BSS or in an IBSS, STAs receiving Probe Request frames shall respond with a proberesponse when the SSID in the probe request is the wildcard SSID or matches the specific SSID of the STAor when the specific SSID of the STA is included in the SSID List element. Furthermore, a STA withdot11RadioMeasurementActivated true receiving a probe request with a DSSS Parameter Set elementcontaining a Current Channel field value that is not the same as the value of dot11CurrentChannel shall notrespond with a probe response. A DMG STA that is not member of a PBSS but that has transmitted at leastone DMG Beacon with the Discovery Mode field set to 1, Aan AP, and a PCP shall respond to all proberequests meeting the above criteria. In an IBSS, a STA that transmitted a Beacon or DMG Beacon framesince the last TBTT shall respond to group addressed Probe Request frames. A STA in an IBSS shallrespond to Probe Request frames sent to the individual address of the STA


page 366
10.1.4.3.3 Active scanning procedureChange the second and third paragraphs in 10.1.4.3.3 as follows:For each channel to be scanned: a)Wait until the ProbeDelay time has expired or a PHYRxStart.indication primitive has been received.b)Perform the Basic Access procedure as defined in 9.3.4.2 if the STA is a non-DMG STA.c)If the STA is a DMG STA:1)Start generation of DMG Beacon frames according to the rules described in 10.1.3.2b if theSTA intends to transmit DMG Beacon frames with the Discovery Mode field set to 1.2)Otherwise, proceed to step (e).d)If a DMG Beacon frame is received, perform the beamforming training defined in 9.35.5. e)If the STA is a DMG STA, perform the basic access procedure defined in 9.3.4.2.f)c) Send a probe request to the broadcast destination address or, in the case of a DMG STA only, (i)following the transmission of an SSW-Feedback frame, send a probe request to the MAC address ofthe DMG STA addressed by the SSW-Feedback frame or (ii) optionally, following the reception ofan SSW-Feedback frame, send a probe request to the MAC address of the DMG STA thattransmitted the SSW-Feedback frame. In all these cases, the probe request is sent with the SSID andBSSID from the MLME-SCAN.request primitive. When transmitted by a DMG STA, the proberequest includes the DMG Capabilities element. When the SSID List is present in the MLME-SCAN.request primitive, send one or more probe request frames, each with an SSID indicated in theSSID List and the BSSID from the MLME-SCAN.request primitive. g)d) Set to 0 and start a ProbeTimer.h)e) If PHY-CCA.indication (busy) has not been detected before the ProbeTimer reachesMinChannelTime, then 1)If the STA is a non-DMG STA, set the NAV to 0 and scan the next channel,.2)Otherwise, else when ProbeTimer reaches MaxChannelTime, process all received proberesponses.i)f) Set the NAV to 0 and scan the next channel.See Figure 10-3 for non-DMG STAs.Insert the following paragraph (including Figure 10-3a) after Figure 10-3:See Figure10-3a for DMG STAs that generate DMG Beacon frames with the Discovery Mode field set to 1


page 367
339Insert the following subclause, 10.1.4.3.4 (including Figure 10-3b), after 10.1.4.3.3: 10.1.4.3.4 PCP selection in a PBSSThe PCP selection procedure is performed by the SME in the following cases:  At the reception of an MLME-SCAN.confirm primitive that was received in response to an MLME-SCAN.request primitive with the value of the ScanType parameter equal to ACTIVE and BSSTypeparameter equal to PERSONAL  As part of a PCP handover (see 10.28.2).The decision whether the STA performs in the role of PCP is done by comparing the value of the STA   s PCPFactor (self_PCP_factor) and the PCP Factor of the peer STA (peer_PCP_factor) that is indicated in the peerSTA   s DMG Capabilities element. The PCP Factor of a STA is constructed by concatenating the value of select fields present in the STA   sDMG Capabilities element defined in 8.4.2.130. The PCP Factor is defined in Figure10-3b.NOTE  According to the convention, the least significant bit is the leftmost bit (B0).For each peer STA reported as part of an MLME-SCAN.confirm primitive or considered as part of a PCPhandover, the STA proceeds as follows. If the STA   s value of self_PCP_factor is greater than the value ofpeer_PCP_factor or if the values are equal and the MAC address of the STA is greater than the MACaddress of the peer STA contained in the peer STA   s DMG Capabilities element, the STA becomes acandidate PCP. Otherwise, the STA does not become a candidate PCP. For the purpose of this MAC addresscomparison, the first transmitted octet shall be interpreted as the most significant octet (i.e., big endian). B0    B6B7    B14B15   B21B22B23B24B25B26   B31Reserved (set to 0)MAX Associated STA NumberTotal Number of SectorsPseudo-Static AllocationsTDDTIDecentralized PCP/AP ClusteringPower SourceReserved (set to 0)Bits:78711116Figure 10-3b  PCP Factor for a DMG STASTA ASTA BDMG Beacon(Discovery Mode == 1)Beacon interval length is randomizedProbe RequestProbe ResponseSTA foundSingle TX in STA B directionSingle TX in STA A directionDMG Beacon(Discovery Mode == 1)DMG Beacon(Discovery Mode == 1)ACKSLS (and BRP, if desired)Step (a)Step (c)Step (a)Step (c)Step (d)Steps (e) and (f)Step (h)Step (g)Step (i)Step (i)ACKFigure 10-3a  Active scanning for DMG STA


page 368
The rules the SME of a candidate PCP follows to initialize a PBSS are described in 10.1.4.4.2.10.1.4.4 Initializing a BSSChange 10.1.4.4 as follows:10.1.4.4.1 GeneralUpon receipt of an MLME-START.request primitive, a STA shall determine the BSS   s BSSID (as describedin 10.1.4), select channel synchronization information, select a beacon period, select the operational rate set,initialize and start its TSF timer, and begin transmitting Beacon frames if the STA is a non-DMG STA orDMG Beacon frames if the STA is a DMG STA. A STA shall include a Country element in the transmission of Beacon frames and DMG Beacon frames ifdot11MultiDomainCapabilityActivated, dot11SpectrumManagementRequired, ordot11RadioMeasurementActivated is true. See 8.3.3.2 for the description of a properly formed Beaconframe, and see 8.3.4.1 for the description of a properly formed DMG Beacon frame.Insert the following subclause, 10.1.4.4.2, after 10.1.4.4.1:10.1.4.4.2 Initializing a DMG BSSPrior to choosing a suitable operating channel and starting a BSS, the SME of a DMG STA should performa channel scan to ascertain the quality of each channel that the STA supports. The rules for choosing asuitable operating channel are implementation specific and might be subject to regulatory requirements. Upon receipt of an MLME-START.request primitive from the SME, the MAC entity of the DMG STA shalltry to start a BSS. The DMG STA may listen for a duration of aMinChannelTime, the listening duration, inthe channel specified by the SME in the request. If the DMG STA determines the channel is suitable for BSSoperation at the end of this listening duration, the DMG STA initializes the BSS by commencingtransmission of DMG Beacon frames according to 10.1.3.2a in the case of a PBSS or an infrastructure BSSand according to 10.1.3.3 in the case of an IBSS. If PCP/AP clustering is in use on the selected channel, theDMG Beacon transmission by a PCP/AP commences following the additional rules described in 9.34. If the DMG STA determines that no channels are suitable or available, it responds with an MLME-START.confirm primitive with a ResultCode of NOT_SUPPORTED. Otherwise, the MLME shall respondwith an MLME-START.confirm primitive with a ResultCode of SUCCESS.The SME should issue an MLME-START.request primitive with BSSType parameter equal to PERSONALfor at least one network in which the STA becomes a candidate PCP as defined in 10.1.4.3.4. If the STAbecomes a candidate PCP of more than one network, the SME may issue an MLME-START.requestprimitive with BSSType parameter equal to PERSONAL for any of the remaining networks. In either case,the MLME-START.request primitive should be issued no later than 4  aMaxBIDuration since the receptionof an MLME-SCAN.confirm primitive.The SME should not issue an MLME-START.request primitive with BSSType parameter equal toPERSONAL for networks in which the STA does not become a candidate PCP as defined in 10.1.4.3.4. Ifthe SME issues the MLME-START.request primitive under this circumstance, it shall not be issued if lessthan 4  aMaxBIDuration has elapsed since the reception of the MLME-SCAN.confirm primitive


page 369
34110.1.4.5 Synchronizing with a BSSInsert the following paragraph at the end of 10.1.4.5:A DMG STA shall be capable of transmitting DMG Beacon frames. A DMG STA shall adopt theoperational parameters transmitted by its PCP/AP within the DMG Operation Information field of the DMGOperation element. A DMG STA shall update the value of its local MIB variables with the correspondingfield value transmitted by its PCP/AP within the DMG BSS Parameter Configuration field of the DMGOperation element (8.4.2.131). Except for the predicate    dot11    used in the MIB variable namingconvention, the name of the field is the same as the name of the corresponding MIB variable. 10.1.5 Adjusting STA timersChange 10.1.5 as follows:In an infrastructure BSS or PBSS, STAs shall adopt the TSF timer value in a Beacon, frame or PprobeRresponse, DMG Beacon, or Announce frame coming from the PCP/AP in their BSS by using the algorithmin 10.1.3.7.In response to an MLME-JOIN.request primitive, a STA joining an IBSS shall initialize its TSF timer to 0and shall not transmit a Beacon, frame or Pprobe Rresponse, or DMG Beacon frame until it hears a Beacon,frame or Pprobe Rresponse, or DMG Beacon frame from a member of the IBSS with a matching SSID.Consequently, the STA joining an IBSS adopts the timer from the next Beacon, frame or Pprobe Rresponse,or DMG Beacon frame from its IBSS.All Beacon, DMG Beacon, Announce, and Probe Response frames carry a Timestamp field. A STAreceiving such a frame from another STA in an IBSS with the same SSID shall compare the Timestamp fieldwith its own TSF time. If the Timestamp field of the received frame is later than its own TSF timer, the non-DMG STA in the IBSS shall adopt each parameter contained in the Beacon frame according to the rule forthat parameter found in the    IBSS adoption    column of the matching row of the BSSDescription table foundin 6.3.3.3.2. A DMG STA in an IBSS shall adopt each parameter contained in the DMG Beacon orAnnounce frames. Parameters adopted by a STA due to the receipt of a later timestamp shall not be changedby the STA except when adopting parameters due to a subsequently received Beacon, DMG Beacon, orAnnounce frame with a later timestamp. 10.1.7 Terminating a networkChange 10.1.7 as follows:An infrastructure BSS or a PBSS may be terminated at any time. A STA may cease support for an IBSS thatit formed at any time. Upon receipt of an MLME-STOP.request primitive, a STA shall stop transmittingBeacon, DMG Beacon, Announce, and Probe Response frames and deauthenticate all associated STAs


page 370
10.2 Power managementChange the title of 10.2.1 as follows:10.2.1 Power management in an non-DMG infrastructure network10.2.1.2 STA Power Management modesInsert the following paragraph at the end of 10.2.1.2:To change Power Management mode, a STA that is coordinated by an MM-SME shall inform the APthrough a successful frame exchange initiated by the STA. The Power Management bit in the Frame Controlfield of the frame sent by the STA in this exchange indicates the Power Management mode that the STAscoordinated by the MM-SME and advertised in the MMS element sent by the STA shall adopt uponsuccessful completion of the entire frame exchange. To change the Power Management mode of thecoordinated STA, the frame may be sent using any of the MMSLs within the MMSL cluster established withthe AP. 10.2.4 SM power saveInsert the following subclauses, 10.2.5 to 10.2.5.3 (including Figure 10-1a to Figure 10-1c, Table 10-1a,and Table 10-1b), after 10.2.4:10.2.5 Power management in a PBSS and DMG infrastructure BSS 10.2.5.1 GeneralTo enable non-PCP/non-AP STAs and PCPs to sleep for one or more beacon intervals or part of a beaconinterval, a non-PCP/non-AP STA power save mechanism and a PCP power save mechanism are defined inthis subclause.Non-PCP/non-AP STA power save mode, as described in 10.2.5.2, allows a non-PCP/non-AP STA to sleepat intervals negotiated with the PCP/AP. Each non-PCP/non-AP STA can choose an independent wakeupschedule that fits its own power consumption and traffic delivery requirements. PCP Power Save (PPS) mode, as described in 10.2.5.3, allows a PCP to sleep at intervals to minimize theenergy consumption. The PCP operating in PPS mode can choose an independent wakeup schedule to sleepfor one or more consecutive beacon intervals and does not transmit DMG Beacons during this time. The Wakeup Schedule element is used to schedule the wakeup and sleeping of STAs. The Wakeup Scheduleelement defines two types of beacon intervals:  Doze BI: a beacon interval that is explicitly defined as a Doze BI in the last, if any, WakeupSchedule element successfully negotiated with the PCP/AP in the case of non-PCP/non-AP powersave mode or transmitted by the PCP in the case of PCP power save mode.  Awake BI: a beacon interval that is not defined as a Doze BI.A STA may operate in one of two power states:  Awake: STA is fully powered.  Doze: STA is not able to transmit or receive and consumes very low power


page 371
343The manner in which a STA transitions between these two power states shall be determined by the STA   sPower Management mode:   Active mode: A STA is in the Awake state, except that the STA can switch to Doze state in anAwake BI when the STA is allowed to doze as indicated in Table10-1a.   Power Save (PS) mode: A STA alternates between the Awake and the Doze states, as determined bythe rules defined in this subclause. A PCP/AP keeps track of the wakeup schedules of all associated non-PCP/non-AP STAs. Each STAdelivers traffic to a peer STA only when the peer STA is in Awake state.An AP shall buffer MPDUs addressed to non-AP STAs in Doze state. The buffered data shall be transmittedonly at designated times (10.2.5.2). A non-AP STA shall defer delivering of MPDUs addressed to other non-AP STA in Doze state. The MPDUs shall be transmitted only at designated times (10.2.5.2). If a PCP sets the BSS Type field within a transmitted DMG Beacon frame to PBSS or the PCP/AP includesa Nontransmitted BSSID Capability element in a transmitted DMG Beacon, Announce, or Probe Responseframes and the BSS Type field within the Nontransmitted BSSID Capability element is equal to PBSS, thenthe PCP/AP shall follow the PCP power management rules described in 10.2.5.3 if the PCP/AP chooses toemploy power management. A PCP/AP may include an Antenna Sector ID Pattern element in Power Save Configuration Response andProbe Response frames transmitted to a non-PCP/non-AP STA. If a non-PCP/non-AP STA uses theinformation contained in the Antenna Sector ID Pattern element received from its PCP/AP, then during theBTI of an Awake BI, the STA might stay awake just to receive DMG Beacon frames transmitted throughspecific DMG antenna and sector and switch to Doze state during other periods in the BTI. Table10-1a lists the power states for a non-PCP/non-AP STA in PS mode and a PCP in PS mode during anAwake BI. Each entry indicates the state, either Awake or Doze, for the non-PCP/non-AP STA or the PCPin PS mode at various times during the Awake BI. Table 10-1a  Power management states for an Awake BIPortion of the beacon intervalPPS PCPPS non-PCP/non-AP STA BTIBTIAwakeAwake or DozeA-BFTA-BFTAwakeAwake or DozeATIATIAwakeAwakeDTICBAP marked as PCP available in the scheduleAwakeAwake or DozeCBAP marked as PCP unavailable in the scheduleDozeAwake or DozeSP with broadcast AID as Destination AIDAwakeAwakeNontruncatable or nonextensible SP with non-PCP STA as Source AID or Destination AID Awake or DozeAwake or DozeTruncatable SP or extensible SP with non-PCP/non-AP STA (excluding the PS STA) as Source AID or Destination AIDAwakeAwake or DozeSPs allocated to itself Awake or DozeAwake or Doze All other SPs Awake or DozeAwake or Doz


page 372
Table10-1b lists the power states for a non-PCP/non-AP STA in PS mode and a PCP in PS mode during aDoze BI. Each entry indicates the state, either Awake or Doze, for the non-PCP/non-AP STA or the PCP inPS mode at various times during the Doze BI. The source DMG STA and the destination DMG STA of a nontruncatable SP or allocated CBAP withindividually addressed destination AID may go to Doze state within the SP or within the CBAP,respectively, after the source DMG STA transmitted a frame to the destination DMG STA of the SP or theCBAP, respectively, with the EOSP field set to 1 and successfully received the following response framefrom the destination DMG STA of the SP or the CBAP, respectively.If the MM-SME Power Mode field within the MMS element sent by an MM-SME coordinated STA is 1, allSTAs advertised in the MMS element shall switch to the Doze state when the wakeup schedule of any oneSTA or a successful frame exchange as described in Annex G brings the STA to the Doze state. If the MM-SME Power Mode field within the MMS element sent by an MM-SME coordinated STA is 0, allSTAs advertised in the MMS element shall switch to the Awake state when the wakeup schedule of any oneSTA or a successful frame exchange as described in Annex G brings the STA to the Awake state. 10.2.5.2 Non-PCP/non-AP STA power management mode10.2.5.2.1 GeneralThe power management mode of a non-PCP/non-AP STA is selected by the PowerManagementModeparameter of the MLME-POWERMGT.request primitive. Once the STA updates its Power Managementmode, the MLME shall issue an MLME-POWERMGT.confirm primitive indicating the result of theoperation. A STA that acknowledges the reception of a PSC-RSP frame with Status Code indicating successshall update the STA   s power management mode at the instant indicated by the value of the BI Start Timefield of the corresponding Wakeup Schedule element.Table 10-1b  Power management states for a Doze BIPortion of the beacon intervalPPS PCPPS non-PCP/non-AP STA BTIBTIN/AAwake or DozeA-BFTA-BFTN/AAwake or DozeATIATIAwakeAwakeDTICBAP marked as PCP available in the scheduleAwakeDozeCBAP marked as PCP unavailable in the scheduleDozeDozeSP with broadcast AID as Destination AIDDozeDozeSP with individually addressed destination AIDDozeAwakeNontruncatable or nonextensible SP with non-PCP STA as Source AID or Destination AIDDozeDozeTruncatable SP or extensible SP with non-PCP/non-AP STA (excluding the PS STA) as Source AID or Destination AIDDozeDozeSPs allocated to itself DozeDozeAll other SPs DozeDoz


page 373
345Figure10-5a illustrates a finite state machine that shows the state transition of a STA in active and PS mode,and also the transition between active and Power Save Mode when the non-PCP/non-AP STA has set up awakeup schedule. NOTE  In Figure10-5a, the notations PSC-REQ(X) and PSC-RSP(Y) indicate that the PSC-REQ and PSC-RSPframes, respectively, are transmitted with the setting as indicated by their corresponding X and Y parameters. 10.2.5.2.2 Power management mode operation of a non-PCP/non-AP STA with no wakeup scheduleA non-PCP/non-AP STA that has not set up a wakeup schedule with the PCP/AP is in Active mode andevery beacon interval is an Awake BI. The non-PCP/non-AP STA shall enter PS mode only after asuccessful frame exchange as described in Annex G, initiated by the non-PCP/non-AP STA and thatincludes an acknowledgment from the PCP/AP. The Power Management field set to 1 in the Frame Controlfield of the frame sent by the STA is used to indicate such a transition.When a non-PCP/non-AP STA that has not set up a wakeup schedule with the PCP/AP enters PS mode,every beacon interval shall be an Awake BI for that STA. A non-PCP/non-AP STA that has not set up awakeup schedule with the PCP/AP and that is in PS mode shall be awake during any allocated SP for whichthe STA is either the source DMG STA or destination DMG STA during an Awake BI. During an AwakeBI, a non-PCP/non-AP STA that has not set up a wakeup schedule with the PCP/AP and that is in PS modeshall be awake during any allocated CBAP for which the STA is the source DMG STA or destination DMGSTA, or the source AID of the CBAP is equal to the broadcast AID or the destination AID of the CBAP isequal to the broadcast AID. Figure 10-5a  State transition diagram of non-PCP/non-AP STA in Active and Power Save Mod


page 374
10.2.5.2.3 Power management mode operation of a non-PCP/non-AP STA with a wakeup schedule To transition from Active mode to PS mode, a non-PCP/non-AP STA that is associated with a PCP/AP shallestablish a wakeup schedule with the PCP/AP. A wakeup schedule (WS) is established with the PCP/APfollowing the successful transmission of a PSC-REQ frame to the PCP/AP with the DPM field set to 1 andan acknowledged receipt of the corresponding PSC-RSP from the PCP/AP provided that the PSC-RSPcontained a status code indicating success. After receiving a PSC-RSP frame from the PCP/AP with a statuscode indicating success and responding with an acknowledgment, the STA switches to the PS mode at theinstant specified by the BI Start Time field of the Wakeup Schedule element transmitted to the PCP/AP andfollows the WS established with the PCP/AP.If a non-PCP/non-AP STA has not established a pseudo-static SP with the PCP/AP, a WS element shall beincluded in any PSC-REQ frame that the STA transmits to the PCP/AP as an explicit request for awakeup schedule. If the PCP/AP accepts the proposed WS, it shall reply with a PSC-RSP frameindicating a status code of SUCCESS. Otherwise, it shall respond with a PSC-RSP frame with a nonzerostatus code indicating the reason for rejecting the request. The PCP/AP may suggest an alternative schedulein the PSC-RSP frame and set the status code to REJECT_WITH_SCHEDULE. If the STA accepts thealternative schedule, it shall include this WS in a subsequently transmitted PSC-REQ frame. If the non-PCP/non-AP STA does not accept the alternative schedule, it shall not send a PSC-REQ frame fordot11PSRequestSuspensionInterval beacon intervals following the receipt of the PSC-RSP frame.NOTE  Providing recommended schedules enables the PCP/AP to align sleep intervals from different non-PCP/non-AP STAs. If a non-PCP/non-AP STA has established a pseudo-static SP schedule with the PCP/AP, it may omit theWS in the PSC-REQ frames that it sends to the PCP/AP. In this case, all outstanding pseudo-static SPs forthe non-PCP/non-AP STA become an implicit WS request. When no WS element is specified in a PSC-REQ, the PCP/AP shall reply with a PSC-RSP frame indicating a status code of SUCCESS and shall adoptall outstanding pseudo-static service period schedules (9.33.6.4) as the wakeup schedule for that STA. If a non-PCP/non-AP STA has explicitly established a WS with the PCP/AP and the non-PCP/non-AP STAis in PS mode, the non-PCP/non-AP STA shall have m successive Awake BIs repeating every n beaconinterval, where n is the value of the Sleep Cycle field of the WS element contained in the PSC-RSP framereceived from the PCP/AP during the frame exchange that established the WS, and m is the value of theNumber of Awake/Doze BIs field in that PSC-RSP frame. The non-PCP/non-AP STA shall be awake duringallocated SPs in which it is either the source or destination DMG STA during each Awake BI. If a non-PCP/non-AP STA has implicitly established a WS with the PCP/AP and the non-PCP/non-AP STAis in PS mode, every beacon interval that includes an SP for which the non-PCP/non-AP STA is either thesource or the destination shall be an Awake BI for the non-PCP/non-AP STA. The non-PCP/non-AP STAshall be awake during the Awake Window within the CBAPs and during allocated SPs in which it is eitherthe source or destination DMG STA during each of its Awake BIs. The WS established by a non-PCP/non-AP STA might contain one part that is explicitly negotiated with thePCP/AP and another part that is inferred from the non-PCP/non-AP STA   s pseudo-static SPs. The portion ofthe WS that is explicitly negotiated between the non-PCP/non-AP STA and the PCP/AP remains valid untilthe non-PCP/non-AP STA updates or deletes the explicit portion of the WS through a successful PSC-REQ/PSC-RSP exchange or until the non-PCP/non-AP STA   s association with the PCP/AP times out. Theportion of the WS that is inferred from the non-PCP/non-AP STA   s pseudo-static SPs changes with thechanging allocation of the non-PCP/non-AP STA   s pseudo-static SPs and is deleted when the associationwith the PCP/AP times out or when an explicit deletion request for the SP is successful


page 375
347A PCP/AP may send an unsolicited PSC-RSP frame without a WS and indicating a status code of success toa non-PCP/non-AP STA in PS mode. Upon receiving the unsolicited PSC-RSP frame meeting theseconditions, the non-PCP/non-AP STA shall switch to Active mode. 10.2.5.2.4 Power management mode operation of a non-PCP/non-AP STA with or without a wakeup schedule A non-PCP/non-AP STA in PS mode shall stay awake for dot11MinBHIDuration starting from thebeginning of each Awake BI and may switch to the Doze state after the expiration of this time. The onlyexception is when the Power Save Configuration Response or Probe Response frame received from the PCP/AP includes an Antenna Sector ID Pattern element, in which case the non-PCP/non-AP STA may use theAntenna Sector ID Pattern element to receive DMG Beacon frames transmitted through a specific DMGantenna and sector, and may switch to Doze state during other periods in the BTI.A PCP/AP shall transmit SP allocation announcements for STAs in PS mode during each of the STAs   Awake BIs and may transmit those SP allocation announcements in other beacon intervals. New SPs shallbe allocated to begin either within or after the later Awake BI of the source DMG STA and destination DMGSTA of the SP.  To transition from PS mode to Active mode, a non-PCP/non-AP STA that has an established WS with thePCP/AP shall send a PSC-REQ frame with the DPM field set to 0 to the PCP/AP and enter Active modefollowing the reception of the ACK response. The PCP/AP shall not send a PSC-RSP frame if the DPM fieldis 0 in the PSC-REQ frame.In order for a STA to learn the WS of another STA within the BSS, the STA may send an InformationRequest frame to the other STA or to the PCP/AP as defined in 10.29.1. If the Information Request frame is transmitted to the PCP/AP and the STA indicated in the InformationRequest   s Subject Address field does not have an established WS with the PCP/AP, the PCP/AP shall set thelength of the Wakeup Schedule element to 0 in the Information Response frame. Every time the STAindicated in the Information Request   s Subject Address field changes its WS with the PCP/AP, the PCP/APshall inform the STA that requested the information by transmitting an unsolicited Information Responseframe with the updated Wakeup Schedule element. There might be one or more CBAPs in a beacon interval. An Awake window is present within the firstCBAP of a beacon interval if the Awake Window field in the Awake Window element (8.4.2.139) has avalue that is nonzero. The Awake window starts from the beginning of the first CBAP and has a durationthat is defined by the value of the Awake Window field in the Awake Window element. During the Awakewindow, a STA shall transmit only ATIM frames. A DMG STA in PS mode shall be in the Awake stateduring each Awake window that lies within each Awake BI for that STA. Group addressed MSDUs, individually addressed MSDUs and MMPDUs that are to be transmitted to a STAthat is in PS mode are first announced through ATIM frames during the Awake window. A STA in PS modethat is awake during an Awake window shall listen for these announcements to determine if it needs toremain in the Awake state. If during the Awake window the STA does not receive or transmit an ATIMframe with BSSID equal to the BSSID of the BSS the STA is a member, then it may enter the Doze state atthe end of the Awake window. If a STA receives an ATIM frame during the Awake Window, it shallacknowledge the ATIM frame. Any two STAs that successfully complete an ATIM frame exchange witheach other during the Awake Window become peer STAs. If a STA receives or transmits an ATIM frameduring the Awake Window, it shall be awake during the CBAP(s) within the current beacon interval thathave the source AID or destination AID described by the ATIM frame to wait for the announced MSDU(s)and/or MMPDU(s) to be received and/or to transmit announced MSDU(s) and/or MMPDU(s). A STA thatreceives or transmits an ATIM frame during the Awake Window may enter the Doze state when it hassuccessfully transmitted to and received from all corresponding peer STAs for this beacon interval a Qo


page 376
data frame with the EOSP subfield set to 1. ATIM frame transmissions and MSDU transmissions follow therules defined in 10.2.2.5. The ATIM frame transmission result and EOSP notification result between a MAC address pair can be usedfor other MAC pairs that are members of the same MMSL cluster. 10.2.5.3 PCP Power management modeA PCP in PPS mode (PPS PCP) may enter the Doze state for one or more consecutive beacon intervals inorder to minimize its energy consumption. Figure10-5b illustrates a finite state machine that shows the statetransition of the PCP power management mode.To enter PS mode, the PCP shall announce the start of the first PCP Doze BI and the length of the PCP sleepinterval through the Wakeup Schedule element (8.4.2.133) and include this element within DMG Beacon orAnnounce frames. The Wakeup Schedule element shall be transmitted at least dot11MaxLostBeacons timesbefore the PCP goes into PS mode. The PCP enters PS mode at the instant specified by the value of the BIStart Time field of the corresponding Wakeup Schedule element. In order to transition from PS mode toactive mode, the PCP shall stop including Wakeup Schedule elements in DMG Beacon and Announceframes. In a PCP Doze BI, the PCP shall transmit an Announce frame during the ATI to each associated STA.The PCP may include in the Extended Schedule element the schedule for the beacon intervals during thePCP Doze BIs. The PCP may schedule a SP or CBAP within a Doze BI by setting the Allocation Start fieldof the new SP or CBAP in the Extended Schedule element to a value within a Doze BI. If the ExtendedSchedule element is transmitted, the PCP shall transmit it at least dot11MaxLostBeacons times before thePPS PCP enters the Doze state. Figure 10-5b  State Transition Diagram of PCP Power Management Mod


page 377
349The PCP shall check that the schedule of pseudo-static allocations transmitted in the last Extended Scheduleelement before the PCP entered PS mode is valid during the PCP Doze BIs. Thus, a STA participating insuch a pseudo-static allocation assumes that the allocation is present during the following consecutive PCPDoze BIs. The PCP may enter and remain in the Doze state for any portion of an SP if it is not a source or a destinationof the SP. The PCP shall remain in the Awake state for any portion of a truncatable or extendable SP(8.4.2.134). The availability of the PCP during a CBAP in the Awake BI shall be announced by setting thePCP Active subfield within the Allocation Control field to one for a CBAP allocation made through theExtended Schedule element. Figure10-5c shows an example of the basic operation of a PCP in PPS mode when the PCP sleep intervalequals one beacon interval (i.e., PCP sleeps every other beacon interval) and the PCP sleep interval startsright after the first beacon interval. In this example, the first beacon interval and the second beacon intervalhave the same schedule, but the third beacon interval and the fourth beacon interval have differentschedules. The first beacon interval is the Awake BI in which the PPS PCP is in the Awake state to servenon-PCP STAs. In the first beacon interval, the PCP transmits the Extended Schedule element for thecurrent beacon interval with the pseudo-static subfield set to 1 for all allocations within the ExtendedSchedule element to indicate that the schedule of the first beacon interval also applies to the second beaconinterval. In addition, the PCP transmits the Wakeup Schedule element with the information of the start timeand the length of the PCP sleep interval, and the STA Availability element to indicate the availability of thePCP for the CBAP of the Awake BI. Following the CBAP of the first beacon interval, the PCP enters theDoze state and sleeps for more than one beacon interval. The PCP switches from the Doze state to theAwake state after sleeping through the remainder of the first beacon interval and through the entire secondbeacon interval, which is the start of the third beacon interval in Figure10-5c. Since in this example theschedule of the third beacon interval and the fourth beacon interval are different, the PCP transmits theExtended Schedule element containing the individual allocations for the third beacon interval and fourthbeacon interval. The PCP enters the Doze state after it completes all exchanges in the third beacon intervaland wakes up at the start of the fifth beacon interval. 10.3 STA authentication and association10.3.1 State variablesChange the fourth paragraph of 10.3.1, and insert a new fifth paragraph as follows:For nonmesh STAs, this state variable expresses the relationship between the local STA and the remoteSTA. It takes on the following values:  State 1: Initial start state, for non-DMG STAs. Uunauthenticated, unassociated. State 1 is not usedby DMG STAs.Beacon or AnnounceExtended Schedule IEWakeup Schedule IESTA Availability IEPCP doze interval = 1 beacon intervalSPSPBeacon or AnnounceExtended Schedule IEWakeup Schedule IESTA Availability IESPSPPCP doze interval = 1 beacon intervalCBAPCBAPCBAPCBAPPCP AWAKEPCP AWAKEPCP DOZEPCP DOZEAwake BIAwake BIApplied to both beacon intervalsApplied to both beacon intervalsFigure 10-5c  Example operation of PPS mod


page 378
  State 2: Initial start state for DMG STAs. Authenticated (non-DMG STAs only), not associated.  State 3: Authenticated (non-DMG STAs only) and associated (Pending RSN Authentication).  State 4: For Infrastructure BSS and PBSS only, RSNA Established or Not Required Authenticatedand associated. State 1 is not used by DMG STAs, and the state machine starts in State 2.10.3.2 State transition diagram for nonmesh STAsReplace Figure 10-6 with the following figure:Unauthenticated,UnassociatedClass 1 FramesState 1   Non-DMG STAonlyAuthenticated (Non-DMG STAonly),UnassociatedClass 1 & 2 FramesState 2Authenticated (Non-DMG STAonly),Associated(Pending RSN Authentication)Class 1, 2 & 3 FramesIEEE 802.1X Controlled Port BlockedState 3RSNA Establishedor Not RequiredClass 1, 2, & 3 FramesIEEE 802.1X Controlled Port UnblockedState 4Successful802.11 Authentication (Non-DMG STA)Successful(Re)Association   RSNA Required4-way Handshake SuccessfulDeauthentication(Non-DMG STA)Deauthentication (Non-DMG STA)Deauthentication (Non-DMG STA)1. Unsuccessful(Re)Association(Non-PCP/Non-APSTA)2. Disassociation3. Successful 802.11 Authentication (Non-DMG STA)1. Unsuccessful(Re)Association(Non-PCP/Non-APSTA)2. Disassociation3. Successful 802.11 Authentication (Non-DMG STA)1. Successful (Re)Association   No RSNA Required2. Fast BSS Transition3. PBSS 4-way Handshake SuccessfulFigure 10-6  Relationships between state and service


page 379
35110.3.3 Frame filtering based on STA stateChange 10.3.3 as follows:The current state existing between the transmitter and receiver STAs determines the IEEE 802.11 frametypes that may be exchanged between that pair of STAs (see Clause 8). A unique state exists for each pair oftransmitter and receiver STAs. The allowed frame types are grouped into classes, and the classes correspondto the STA state. In State 1, only Class 1 frames are allowed. In State 2, either Class 1 or Class 2 frames areallowed. In State 3 and State 4, all frames are allowed (Classes 1, 2, and 3).In the definition of frame classes, the following terms are used:  Within an infrastructure BSS: both the transmitting STA and the recipient STA participate in thesame infrastructure BSS  Within a PBSS: both the transmitting STA and the recipient STA participate in the same PBSS  Within an IBSS: both the transmitting STA and the recipient STA participate in the same IBSS  dot11RSNAEnabled: reference to the setting of dot11RSNAEnabled at the STA that needs todetermine whether a transmission or reception is permitted.NOTE  The phrase    within a BSS    comprises    within a PBSS,       within an IBSS,       within a MBSS,    or    within aninfrastructure BSS.    STA A participates in the same infrastructure BSS as STA B if at least one of the following conditions ismet:  STA A is associated with STA B, and either STA A or STA B is an AP.  STA A receives a frame with the value of its TA field equal to the MAC address of STA B and withthe value of its BSSID field equal to the BSSID of the BSS with which STA A is associated.  STA A receives an Information Response frame from the AP with which it is associated containingan explicit indication that STA B is a member of the BSS with which STA A is associated. STA A participates in the same PBSS as STA B if at least one of the following conditions is met:  STA A is associated with STA B, and either STA A or STA B is a PCP.  STA A receives a frame with the value of its TA field equal to the MAC address of STA B and withthe value of its BSSID field equal to the BSSID of the PBSS that STA A has joined or started.  STA A receives a frame, i.e. an Information Response frame, from its PCP containing an explicitindication that STA B is a member of the PBSS that STA A has joined.STA A participates in the same IBSS as STA B if STA A receives a frame with the value of its TA fieldequal to the MAC address of STA B and with the value of its BSSID field equal to the BSSID of the IBSSthat STA A has joined or started.The frame classes are defined as follows:a)Class 1 frames1)Control framesi)RTSii)DMG Clear to send (DMG CTS)iii)ii) CTSiv)iii) ACKv)Grantvi)SSWvii)SSW-Feedbac


page 380
viii)SSW-ACKix)Grant ACKx)iv) CF-End+ACKxi)v) CF-Endxii)vi) Within an IBSS and within a PBSS when dot11RSNAEnabled is false, Block Ack(BlockAck)xiii)vii) Within an IBSS and within a PBSS when dot11RSNAEnabled is false, Block AckRequest (BlockAckReq)2)Management framesi)Probe Request/Responseii)Beaconiii)Authenticationiv)Deauthenticationv)ATIMvi)Public Actionvii)Self-protected Actionviii)Within an IBSS, all Action frames and all Action No Ack framesix)Unprotected DMG Action framesx)DMG: Link Measurement Request and Link Measurement Report framesxi)Within a PBSS when dot11RSNAEnabled is false, all Action and Action No Ack framesexcept the following frames:1)ADDTS Request2)ADDTS Response3)DELTS frame3)Data framesi)Data frames between STAs in an IBSSii)Data frames between peers using DLSiii)Data frames within a PBSS4)Extension framesi)DMG Beaconb)Class 2 frames1)Management framesi)Association Request/Responseii)Reassociation Request/Responseiii)Disassociationc)Class 3 frames1)Data framesi)Data frames between STAs in an infrastructure BSS or in an MBSS2)Management framesi)Within an infrastructure BSS or an MBSS or a PBSS, all Action and Action No Ackframes except those that are declared to be Class 1 or Class 2 frames (above)3)Control framesi)PS-Pollii)Pol


page 381
353iii)SPRiv)DMG DTSv)ii) Within an infrastructure BSS or an MBSS, Block Ack (BlockAck), except those thatare declared to be Class 1 (above)vi)iii) Within an infrastructure BSS or an MBSS, Block Ack Request (BlockAckReq), exceptthose that are declared to be Class 1 (above)Class 2 and Class 3 frames are not allowed in an IBSS. If a STA in an IBSS receives a Class 2 or Class 3frame, it shall ignore the frame.A STA shall not transmit Class 2 frames unless in State 2 or State 3 or State 4.A STA shall not transmit Class 3 frames unless in State 3 or State 4.A multi-band capable device that uses OCT to move from State 2 to either State 3 or State 4 shall nottransmit frames before the transmitting STA becomes on-the-air enabled (see 10.32.4). The use of the word    receive    in 10.3 refers to a frame that meets all of the filtering criteria specified inClause 11 and Clause 9.10.3.4 Authentication and deauthentication10.3.4.1 GeneralChange 10.3.4.1 as follows:This subclause describes the procedures used for IEEE 802.11 authentication and deauthentication. Thestates used in this description are defined in 10.3.1.Successful authentication sets the STA   s state to State 2, if it was in State 1. Unsuccessful authenticationleaves the STA   s state unchanged. The STA shall not transmit Class 2 frames unless in State 2 or State 3 orState 4. The STA shall not transmit Class 3 frames unless in State 3 or State 4.Deauthentication notification sets the STA   s state to State 1. The STA shall become authenticated againprior to sending Class 2 frames. Deauthentication notification when in State 3 or State 4 impliesdisassociation as well. A STA may deauthenticate a peer STA at any time, for any reason.If non-DMG STA A in an infrastructure BSS receives a Class 2 or Class 3 frame from STA B that is notauthenticated with STA A (i.e., the state for STA B is State 1), STA A shall discard the frame. If the framehas an individual address in the Address 1 field, the MLME of STA A shall send a Deauthentication frameto STA B.Authentication is optional in an non-DMG IBSS. In an non-DMG infrastructure BSS, authentication isrequired. APs do not initiate authentication. Authentication and deauthentication are not supported by DMGSTAs.10.3.4.2 Authentication  originating STAInsert the following paragraph at the beginning of 10.3.4.2:Upon receipt of an MLME-AUTHENTICATE.request primitive that is part of an on-channel tunneling (see10.32.4), the originating STA shall follow the rules in 10.32.4 in addition to the authentication proceduredescribed below


page 382
10.3.5 Association, reassociation, and disassociationChange 10.3.5.1 to 10.3.5.9 as follows:10.3.5.1 GeneralSubclause 10.3.5 describes the procedures used for IEEE 802.11 association, reassociation, anddisassociation.The states used in this description are defined in 10.3.1.Successful association enables a STA to exchange Class 3 frames. Successful association sets the STA   sstate to State 3 or State 4.Successful reassociation enables a STA to exchange Class 3 frames. Unsuccessful reassociation when not inState 1 leaves the STA   s state unchanged (with respect to the PCP/AP that was sent the ReassociationRequest (which may be the current STA)). Successful reassociation sets the STA   s state to State 3 or State 4(with respect to the PCP/AP that was sent the Reassociation Request). Successful reassociation when not inState 1 sets the STA   s state to State 2 (with respect to the current PCP/AP, if this is not the PCP/AP that wassent the Reassociation Request). Reassociation shall be performed only if the originating STA is alreadyassociated in the same ESS.Disassociation notification when not in State 1 sets the STA   s state to State 2. The STA shall becomeassociated again prior to sending Class 3 frames. A STA may disassociate a peer STA at any time, for anyreason.If non-DMG STA A in an infrastructure BSS receives a Class 3 frame from STA B that is authenticated butnot associated with STA A (i.e., the state for STA B is State 2), STA A shall discard the frame. If the framehas an individual address in the Address 1 field, the MLME of STA A shall send a Disassociation frame toSTA B.If DMG STA A in an infrastructure BSS receives a Class 3 frame from STA B that is not associated withSTA A (i.e., the state for STA B is State 2), STA A shall discard the frame. If the frame has an individualaddress in the Address 1 field, the MLME of STA A shall send a Disassociation frame to STA B.If an MM-SME coordinated STA receives an Association Response frame with a result code equal toSUCCESS and with the value of the Single AID field within MMS element equal to 1, then   For each of its MAC entities advertised within the MMS element and for which dot11RSNAEnabledis true, the state is set to State 3. Progress from State 3 to State 4 occurs independently in each suchMAC entity.  For each of its MAC entities advertised within the MMS element and for which dot11RSNAEnabledis false, the state is set to State 4.If the MM-SME coordinated STA in State 3 is assigned an AID for only the MAC entity identified by theRA field of the Association Response with result code equal to SUCCESS, the MM-SME may repeat theassociation procedure for any other MAC entity coordinated by the MM-SME. Association is not applicable in an IBSS. In an infrastructure BSS, association is required. In a PBSS,association is optional. APs do not initiate association


page 383
35510.3.5.2 Non-PCP/Non-AP STA association initiation proceduresThe SME shall delete any PTKSA and temporal keys held for communication with the PCP/AP by usingMLME-DELETEKEYS.request primitive (see 11.5.15) before invoking MLME-ASSOCIATE.requestprimitive.If dot11InterworkingServiceActivated is true, the STA does not have credentials for the AP, and the STA isinitiating an emergency services association procedure, the SME shall submit theMLMEASSOCIATE.request with EmergencyServices parameter set to true.The MM-SME of a non-PCP/non-AP STA may include an MMS element in an MLME-ASSOCIATE.request primitive. The MM-SME shall include in the MMS element the MAC addressassociated with the MLME SAP instance to which the primitive is submitted. Upon receipt of an MLME-ASSOCIATE.request primitive that is part of an on-channel tunneling (see10.32.4), a non-PCP/non-AP STA shall follow the rules in 10.32.4 in addition to the association proceduresdescribed below.Upon receipt of an MLME-ASSOCIATE.request primitive, a non-PCP/non-AP STA shall associate with anPCP/AP using the following procedure:a)If the state for the AP is State 1, the MLME shall inform the SME of the failure of the association byissuing an MLME-ASSOCIATE.confirm primitive, and this procedure ends.b)The MLME shall transmit an Association Request frame to the PCP/AP. If the MLME-ASSOCIATE.request primitive contained an RSNE with only one pairwise cipher suite and onlyone authenticated key suite, this RSNE shall be included in the Association Request frame. If theMLME-ASSOCIATE.request primitive contained the EmergencyServices parameter set to true, anInterworking element with the UESA field set to 1 shall be included in the Association Requestframe.c)If an Association Response frame is received with a status code of Successful, the state for the PCP/AP shall be set to State 4 or State 3 if RSNA Establishment is required. The state for any other PCP/AP which is State 3 or State 4 prior to the association request shall be set to State 2, and the MLMEshall issue an MLME-ASSOCIATE.confirm primitive to inform the SME of the successfulcompletion of the association.d)An MM-SME coordinated STA that receives an Association Response frame with a status code ofSuccessful containing an MLME element with the Single AID field equal to 1, all the STAscoordinated by the MM-SME are associated with the PCP/AP (i.e., shall be set to State 4 or State 3if RSNA Establishment is required). e)d) If an Association Response frame is received with a status code other than Successful or theAssociateFailureTimeout expires, the state for the PCP/AP shall be set to State 2, and the MLMEshall issue an MLME-ASSOCIATE.confirm primitive to inform the SME of the failure of theassociation. The status code returned in the Association Response frame indicates the cause of thefailed association attempt. Any misconfiguration or parameter mismatch, e.g., data rates required asbasic rates that the STA did not indicate as supported in the STA   s Supported Rates element, shallbe corrected before the SME issues an MLME-ASSOCIATE.request primitive for the same PCP/AP. If the status code indicates the association failed because of a reason that is not related toconfiguration (e.g., the PCP/AP is unable to support additional associations) and the AssociationResponse frame does not include a Timeout Interval element with Timeout Interval Type equal to 3,the SME shall not issue an MLME-ASSOCIATE.request primitive for the same PCP/AP until aperiod of at least 2 s has elapsed. If the status code indicates the association failed and theAssociation Response frame contains a Timeout Interval element with Timeout Interval Type equalto 3, the SME shall not issue an MLME-ASSOCIATE.request primitive for the same PCP/AP untilthe period specified in the Timeout Interval element has elapsed


page 384
f)e) If an MLME-ASSOCIATE.confirm primitive is received with a ResultCode of SUCCESS and ifRSNA is required, then the SME shall perform a 4-way handshake to establish an RSNA. As a partof a successful 4-way handshake, the SME enables protection by invoking an MLME-SETPROTECTION.request(Rx_Tx) primitive.g)f) Upon receipt of the MLME-SETPROTECTION.request(Rx_Tx) primitive, the MLME shall setthe state of the STA to State 4.10.3.5.3 PCP/AP association receipt proceduresUpon receipt of an Association Request frame from a non-AP STA for which the state is State 1, the AP   sMLME shall transmit an Association Response frame with an appropriate status code.Upon receipt of an Association Request frame from a non-PCP/non-AP STA for which the state is State 2,State 3, or State 4, the PCP/AP   s MLME shall associate with the non-PCP/non-AP STA using the followingprocedure:a)The MLME shall issue an MLME-ASSOCIATE.indication primitive to inform the SME of theassociation request.b)At an AP having dot11InterworkingServiceActivated equal to true, subsequent to receiving anMLME-ASSOCIATE.indication primitive with EmergencyServices set to true that does not includean RSNE, the SME shall accept the association request even if dot11RSNAActivated is true anddot11PrivacyInvoked is true thereby granting access, using unprotected frames (see 8.2.4.1.9), to thenetwork for emergency services purposes.c)Upon receiving an MLME-ASSOCIATE.indication primitive, when management frame protectionis not in use, the SME shall delete any PTKSA and temporal keys held for communication with theSTA by using the MLME-DELETEKEYS.request primitive (see 11.5.15).d)In an RSNA, the PCP/AP shall check the values received in the RSNE to see whether the valuesreceived match the PCP/AP   s security policy. If not, the association shall not be accepted.e)If the PCP/AP   s state for the non-PCP/non-AP STA is State 4, the PCP/AP has a valid securityassociation for the non-PCP/non-AP STA and has negotiated management frame protection with thenon-PCP/non-AP STA, and an earlier, timed-out SA Query procedure with the non-PCP/non-APSTA has not allowed a new association process to be started without an additional SA Queryprocedure, then1)The SME shall reject the Association Request by generating an MLME-ASSOCIATE.responseprimitive with ResultCode    Association request rejected temporarily; try again later.   2)The SME shall not modify any association state for the non-PCP/non-AP STA and shallinclude in the MLME-ASSOCIATE.response primitive a Timeout Interval element withTimeout interval type set to 3 (Association Comeback time), specifying a comeback time whenthe PCP/AP would be ready to accept an association with this STA. 3)Following this, if the SME is not already engaging in an SA Query with the STA, the SMEshall issue one MLME-SAQuery.request primitive addressed to the STA everydot11AssociationSAQueryRetryTimeout TUs until a matching MLME-SAQuery.confirmprimitive is received or dot11AssociationSAQueryMaximumTimeout TUs from the beginningof the SA Query procedure have passed. 4)The SME shall specify a TransactionIdentifier parameter value in the MLME-SAQuery.requestprimitive, increment the value by 1 for each subsequent MLME-SAQuery.request primitive,and roll over the value to 0 after the maximum allowed value is reached. 5)The MLME may interpret reception of a valid protected frame as an indication of asuccessfully completed SA Query and thereby generate an MLME-SAQuery.confirmprimitive


page 385
3576)If an MLME-SAQuery.confirm primitive with an outstanding transaction identifier is notreceived within dot11AssociationSAQueryMaximumTimeout period, the SME shall allow theassociation process to be started without starting an additional SA Query procedure.f)The SME shall refuse an association request from a STA that does not support all the rates in theBSSBasicRateSet parameterg)The SME shall refuse an association request from an HT STA that does not support all the MCSs inthe BSSBasicMCSSet parameter.h)The SME shall generate an MLME-ASSOCIATE.response primitive addressed to the non-PCP/non-AP STA. When the association is not successful, the SME shall indicate a specific reason for thefailure to associate in the ResultCode parameter as defined in 6.3.7.5.2. If the ResultCode isSUCCESS, the SME has an existing SA with the non-PCP/non-AP STA, and an SA Queryprocedure with that non-PCP/non-AP STA has failed to receive a valid response, then the SME shallsend an MLME-DISASSOCIATE.request primitive to the STA with Reason Code    PreviousAuthentication no longer valid.   40 If the ResultCode is SUCCESS, the association identifierassigned to the STA shall be included in the MLME-ASSOCIATE.response primitive, and the SMEshall delete any PTKSA and temporal keys held for communication with the STA by using theMLME-DELETEKEYS.request primitive (see 11.5.15). In the case of a DMG PCP/AP, theassociation identifier shall be in the range of 1 to 254.i)If the MLME-ASSOCIATE.indication primitive includes an MMS parameter, the PCP/AP shallgenerate the MLME-ASSOCIATE.response primitive directed to the MLME of the STA identifiedby the PeerSTAAddress parameter of the MLME-ASSOCIATE.request primitive and take thefollowing additional action, as appropriate:1)If the Single AID field in the MMS parameter of the MLME-ASSOCIATE.indication primitiveis equal to 1, the PCP/AP may allocate a single AID for all the STAs included in the MMSelement. If the PCP/AP allocates the same AID to each STA whose MAC address was includedin the MMS element, it shall include the MMS element received from the MM-SMEcoordinated STA in the MLME-ASSOCIATION.response primitive. 2)If the Single AID field is 0, the AP shall allocate a distinct AID for each STA specified in theMMS element. j)i) Upon receipt of an MLME-ASSOCIATE.response primitive, the MLME shall transmit anAssociation Response frame to the STA.k)j) When the ResultCode of the MLME-ASSOCIATE.response primitive is not SUCCESS, ifmanagement frame protection is in use, the state for the STA shall be left unchanged and, ifmanagement frame protection is not in use, set to State 3 if it was in State 4.l)k) When the Association Response frame with a status code of Successful is acknowledged by theSTA, the state for the STA shall be set to State 4 or to State 3 if RSNA establishment is required.m)l) If RSNA establishment is required, the SME shall attempt a 4-way handshake. Upon a successfulcompletion of a 4-way handshake, the SME shall enable protection by invoking an MLME-SETPROTECTION.request(Rx_Tx) primitive. Upon receipt of the MLME-SETPROTECTION.request(Rx_Tx) primitive, the MLME shall set the state for the STA to State 4. n)m) AP only: The SME shall inform the DS of any changes in the association state.10.3.5.4 Non-PCP/Non-AP STA reassociation initiation proceduresExcept when the association is part of a fast BSS transition, the SME shall delete any PTKSA and temporalkeys held for communication with the PCP/AP by using the MLME-DELETEKEYS.request primitive (see11.5.15) before invoking an MLME-REASSOCIATE.request primitive.40 This MLME-DISASSOCIATE.request primitive generates a protected Disassociation frame addressed to the STA


page 386
If dot11InterworkingServiceActivated is true and the STA was associated to the ESS for unsecured access toemergency services, the SME shall submit the MLME-REASSOCIATE.request with EmergencyServicesparameter set to true.The MM-SME of a non-PCP/non-AP STA may include an MMS element in an MLME-REASSOCIATE.request primitive. The MM-SME shall include in the MMS element the MAC addressassociated with the MLME SAP instance to which the primitive is submitted. Upon receipt of an MLME-REASSOCIATE.request primitive that is part of an on-channel tunneling (see10.32.4), a non-PCP/non-AP STA shall follow the rules in 10.32.4 in addition to the reassociationprocedures described below.Upon receipt of an MLME-REASSOCIATE.request primitive, a non-PCP/non-AP STA shall reassociatewith a PCP/AP using the following procedure:a)If the STA is not associated in the same ESS or the state for the new AP is State 1, the MLME shallinform the SME of the failure of the reassociation by issuing an MLME-REASSOCIATE.confirmprimitive, and this procedure ends.b)The MLME shall transmit a Reassociation Request frame to the new PCP/AP. If the MLME-REASSOCIATE.request primitive contained an RSNE with only one pairwise cipher suite and onlyone authenticated key suite, this RSNE shall be included in the Reassociation Request frame. If theMLME-REASSOCIATE.request primitive contained the EmergencyServices parameter set to true,an Interworking element with the UESA field set to 1 shall be included in the Reassociation Requestframe.c)If a Reassociation Response frame is received with a status code of Successful, the state variable forthe new PCP/AP shall be set to State 4 or to State 3 if RSNA establishment is required and the FTProtocol is not used with respect to the new PCP/AP and, unless the old PCP/AP and new PCP/APare the same, to State 2 with respect to the old PCP/AP, and the MLME shall issue an MLME-REASSOCIATE.confirm primitive to inform the SME of the successful completion of thereassociation.d)An MM-SME coordinated STA that receives a Reassociation Response frame with a status code ofSuccessful containing an MLME element with the Single AID field equal to 1, all the STAscoordinated by the MM-SME are reassociated with the PCP/AP (i.e., shall be set to State 4 or State3 if RSNA Establishment is required). e)d) If a Reassociation Response frame is received with a status code other than Successful or theReassociateFailureTimeout expires,1)Except when the association is part of a fast BSS transition, the state for the PCP/AP shall beset to State 2 with respect to the new PCP/AP.2)The MLME shall issue an MLME-REASSOCIATE.confirm primitive to inform the SME ofthe failure of the reassociation. The ResultCode returned in the MLME-REASSOCIATE.confirm primitive indicates the cause of the failed reassociation attempt. Anymisconfiguration or parameter mismatch, e.g., data rates required as basic rates that the STAdid not indicate as supported in the STA   s Supported Rates element, shall be corrected beforethe SME issues an MLME-REASSOCIATE.request primitive for the same PCP/AP. If thestatus code indicates the reassociation failed because of a reason that is not related toconfiguration (e.g., the PCP/AP is unable to support additional associations) and theReassociation Response frame does not include a Timeout Interval element with TimeoutInterval Type equal to 3, the SME shall not issue an MLME-REASSOCIATE.request primitivefor the same PCP/AP until a period of at least 2 s has elapsed. If the status code indicates thereassociation failed and the Reassociation Response frame contains a Timeout Interval elementwith Timeout Interval Type equal to 3, the SME shall not issue an MLME-REASSOCIATE.request primitive for the same PCP/AP until the period specified in theTimeout Interval element has elapsed


page 387
359f)e) If an MLME-REASSOCIATE.confirm primitive is received with a ResultCode of SUCCESS,RSNA is required, and the STA is in State 3, then the SME shall perform a 4-way handshake toestablish an RSNA. As a part of a successful 4-way handshake, the SME shall enable protection byinvoking an MLME-SETPROTECTION.request(Rx_Tx) primitive.g)f) Upon receipt of the MLME-SETPROTECTION.request(Rx_Tx) primitive, the MLME shall setthe state of the STA to State 4.10.3.5.5 PCP/AP STA reassociation receipt proceduresUpon receipt of an Reassociation Request frame from a non-AP STA for which the state is State 1, the AP   sMLME shall transmit an Reassociation Response frame with an appropriate status code.Upon receipt of a Reassociation Request frame from a STA for which the state is State 2, State 3, or State 4,the PCP/AP   s MLME shall reassociate with the STA using the following procedure:a)The MLME shall issue an MLME-REASSOCIATE.indication primitive to inform the SME of thereassociation request.b)At an AP having dot11InterworkingServiceActivated equal to true, subsequent to receiving aMLME-REASSOCIATE.indication primitive with EmergencyServices set to true that does notinclude an RSN parameter, the SME shall accept the reassociation request even ifdot11RSNAActivated is true and dot11PrivacyInvoked is true thereby granting access, usingunprotected frames (see 8.2.4.1.9), to the network for emergency services purposes.c)In an RSNA, the SME shall check the values received in the RSNE to see whether the valuesreceived match the AP   s security policy. If not, the association shall not be accepted.d)If the PCP/AP   s state for the non-PCP/non-AP STA is State 4, the non-PCP/non-AP STA has a validsecurity association, the non-PCP/non-AP STA has negotiated management frame protection, thereassociation is not a part of a Fast BSS Transition, and an earlier, timed-out SA Query procedurewith the non-PCP/non-AP STA has not allowed a new association process to be started without anadditional SA Query procedure, then1)The SME shall reject the Reassociation Request by generating an MLME-REASSOCIATE.response primitive with ResultCode    Association request rejectedtemporarily; Try again later.   2)The SME shall not modify any association state for the non-PCP/non-AP STA and shallinclude in the MLME-REASSOCIATE.response primitive a Timeout Interval element withtype set to 3 (Association Comeback time), specifying a comeback time when the PCP/APwould be ready to accept an association with this STA. 3)Following this, if the SME is not in an ongoing SA Query with the STA, the SME shall issueone MLME-SAQuery.request primitive addressed to the STA everydot11AssociationSAQueryRetryTimeout TUs until a matching MLME-SAQuery.confirmprimitive is received or dot11AssociationSAQueryMaximumTimeout TUs from the beginningof the SA Query procedure have passed. 4)The SME shall insert the TransactionIdentifier in MLME-SAQuery.request primitive,increment this by 1 for each subsequent MLME-SAQuery.request primitive, and roll it over to0 after the maximum allowed value in this field. 5)An MLME may interpret reception of a valid protected frame as an indication of a successfullycompleted SA Query and thereby generate an MLME-SAQuery.confirm primitive. 6)If an MLME-SAQuery.confirm primitive with an outstanding transaction identifier is notreceived within dot11AssociationSAQueryMaximumTimeout period, the SME shall allow theassociation process to be started without starting an additional SA Query procedure.e)The SME shall refuse a reassociation request from a STA that does not support all the rates in theBSSBasicRateSet parameter


page 388
f)The SME shall refuse a reassociation request from an HT STA that does not support all the MCSs inthe BSSBasicMCSSet parameter.g)The SME shall generate an MLME-REASSOCIATE.response primitive addressed to the non-PCP/non-AP STA. If the reassociation is not successful, the SME shall indicate a specific reason for thefailure to reassociate in the ResultCode parameter as defined in 6.3.7.5.2.h)If the ResultCode is SUCCESS, the SME has an existing SA with the non-PCP/non-AP STA, and anSA Query procedure with that non-PCP/non-AP STA has failed to receive a valid response, then theSME shall issue an MLME-DISASSOCIATE.request primitive with Reason Code    PreviousAuthentication no longer valid.   NOTE  This MLME-DISASSOCIATE.request primitive generates a protected Disassociation frameaddressed to the STA.i)If the ResultCode is SUCCESS, the association identifier assigned to the STA shall be included inthis primitive. If the association is not part of a fast BSS transition and management frame protectionis not in use, the SME shall delete any PTKSA and temporal keys held for communication with theSTA by using MLME-DELETEKEYS.request primitive (see 11.5.15). In the case of a DMG PCP/AP, the association identifier shall be in the range of 1 to 254.j)If the MLME-REASSOCIATE.indication primitive includes an MMS parameter, the PCP/AP shallgenerate the MLME-REASSOCIATE.response primitive directed to the MLME of the STAidentified by the PeerSTAAddress parameter of the MLME-REASSOCIATE.request primitive andtake the following additional action, as appropriate:1)If the Single AID field in the MMS parameter of the MLME-REASSOCIATE.indicationprimitive is equal to 1, the PCP/AP may allocate a single AID for all the STAs included in theMMS element. If the PCP/AP allocates the same AID to all STAs whose MAC address wasincluded in the MMS element, it shall include the MMS element received from the MM-SMEcoordinated STA in the MLME-REASSOCIATE.response primitive.2)If the Single AID field is 0, the AP shall allocate a distinct AID for each STA specified in theMMS element. k)j) Upon receipt of an MLME-REASSOCIATE.response primitive, the MLME shall transmit aReassociation Response frame to the STA.l)k) When the Reassociation Response frame with a status value of Successful is acknowledged by theSTA, the state variable for the STA shall be set to State 4 or to State 3 if RSNA establishment isrequired on the new PCP/AP and the FT Protocol is not used on the new PCP/AP.m)l) When the ResultCode of the reassociation is not SUCCESS, and if Management Frame Protectionis in use, the state for the STA shall be left unchanged on the PCP/AP to which the ReassociationRequest frame was sent. When the ResultCode is not SUCCESS, Management Frame Protection isnot in use, and the association is not part of a fast BSS transition, then the state for the STA is set toState 3 if it was in State 4.n)m) If RSNA establishment is required and FT is not in use, the SME shall attempt a 4-wayhandshake. Upon a successful completion of a 4-way handshake, the SME shall enable protection byinvoking an MLME-SETPROTECTION.request(Rx_Tx) primitive. Upon receipt of the MLME-SETPROTECTION.request(Rx_Tx) primitive, the MLME shall set the state for the STA to State 4. o)n) AP only: The SME shall inform the DS of any changes in the association state.10.3.5.6 Non-PCP/Non-AP STA disassociation initiation proceduresThe SME shall issue an MLME-DISASSOCIATE.request primitive that includes an appropriate ReasonCode as defined in Table 8-36 of 8.4.1.7.Upon receipt of an MLME-DISASSOCIATE.request primitive, a non-PCP/non-AP STA   s MLME shalldisassociate from a PCP/AP using the following procedure


page 389
361a)If the state for the PCP/AP is State 3 or State 4, the MLME shall transmit a Disassociation frame tothe PCP/AP.b)The state for the PCP/AP shall be set to State 2 if it was not State 1. In the case of an MM-SMEcoordinated STA, the MLME shall perform this for each STA whose address was included in theMMS parameter of the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitivethat established the association. c)The MLME shall issue an MLME-DISASSOCIATE.confirm primitive to inform the SME of thesuccessful completion of the disassociation.d)Upon receiving a MLME-DISASSOCIATE.confirm primitive, the SME shall delete any PTKSAand temporal keys held for communication with the PCP/AP by using the MLME-DELETEKEYS.request primitive (see 11.5.15) and by invoking an MLME-SETPROTECTION.request(None) primitive. In the case of an MM-SME coordinated STA, theMLME shall perform this for each STA whose address was included in the MMS parameter of theMLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive that established theassociation. 10.3.5.7 Non-PCP/Non-AP STA disassociation receipt proceduresUpon receipt of a Disassociation frame from an PCP/AP for which the state is State 3 or State 4, ifManagement Frame Protection was not negotiated when the PTKSA(s) were created, or if MFP is in use andthe frame is not discarded per MFP processing, a non-PCP/non-AP STA shall disassociate from the PCP/APusing the following procedure:a)The state for the PCP/AP shall be set to State 2.b)The MLME shall issue an MLME-DISASSOCIATE.indication primitive to inform the SME of thedisassociation.c)Upon receiving the MLME-DISASSOCIATE.indication primitive, the SME shall delete anyPTKSA and temporal keys held for communication with the PCP/AP by using the MLME-DELETEKEYS.request primitive (see 11.5.15) and by invoking an MLME-SETPROTECTION.request(None) primitive. The MM-SME shall perform this process for eachSTA whose address was included in the MMS parameter of the MLME-ASSOCIATE.request orMLME-REASSOCIATE.request primitive that established the association. d)If the reason code indicates a configuration or parameter mismatch as the cause of thedisassociation, the SME shall not attempt to associate or reassociate with the PCP/AP until theconfiguration or parameter mismatch has been corrected.e)If the reason code indicates the STA was disassociated for a reason other than configuration orparameter mismatch, the SME shall not attempt to associate or reassociate with the PCP/AP until aperiod of 2s has elapsed.10.3.5.8 PCP/AP disassociation initiation procedureThe SME shall issue an MLME-DISASSOCIATE.request primitive that includes an appropriate ReasonCode as defined Table 8-36 of 8.4.1.7.Upon receipt of an MLME-DISASSOCIATE.request primitive, an PCP/AP shall disassociate a STA usingthe following procedure:a)If the state for the STA is State 3 or State 4, the PCP/AP shall generate a Disassociation frame to betransmitted to the indicated STA.NOTE  As the Disassociation frame is a bufferable MMPDU, the transmission of this frame might be delayedby the operation of a power-saving protocol. The AID and the PTKSA are maintained (when applicable) untilthe frame is acknowledged or attempts to transmit the frame are abandoned


page 390
b)The state for the STA shall be set to State 2, if it was not State 1. The MM-SME shall perform thisprocess for each STA whose address was included in the MMS parameter of the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive that established the association.c)Once the Disassociation frame is acknowledged or attempts to transmit the frame are abandoned, theMLME shall issue an MLME-DISASSOCIATE.confirm primitive to inform the SME of thedisassociation.d)Upon receiving a MLME-DISASSOCIATE.confirm primitive, the SME shall delete any PTKSAand temporal keys held for communication with the STA by using the MLME-DELETEKEYS.request primitive (see 11.5.15) and by invoking an MLME-SETPROTECTION.request(None) primitive. The MM-SME shall perform this process for eachSTA whose address was included in the MMS parameter of the MLME-ASSOCIATE.request orMLME-REASSOCIATE.request primitive that established the association. e)Upon receiving an MLME-DISASSOCIATE.confirm primitive, the SME shall release the AIDassigned for the indicated STA, if the state for the indicated STA was State 3 or State 4.f)The SME of an AP shall inform the DS of the disassociation.10.3.5.9 PCP/AP disassociation receipt procedureUpon receipt of a Disassociation frame from a STA for which the state is State 3 or State 4, if managementframe protection was not negotiated when the PTKSA(s) were created, or if MFP is in use and the frame isnot discarded per MFP processing, the PCP/AP shall disassociate the STA using the following procedure:a)The state for the STA shall be set to State 2. The MM-SME shall perform this process for each STAwhose address was included in the MMS parameter of the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive that established the association. b)The MLME shall issue an MLME-DISASSOCIATE.indication primitive to inform the SME of thedisassociation.c)Upon receiving a MLME-DISASSOCIATE.indication primitive the SME shall delete any PTKSAand temporal keys held for communication with the STA by using the MLME-DELETEKEYS.request primitive (see 11.5.15) and by invoking an MLME-SETPROTECTION.request(None) primitive. The MM-SME shall perform this process for eachSTA whose address was included in the MMS parameter of the MLME-ASSOCIATE.request orMLME-REASSOCIATE.request primitive that established the association. d)The SME of an AP shall inform the DS of the disassociation.e)The SME shall release the AID assigned for the indicated STA.Insert the following subclause, 10.3.5.10, after 10.3.5.9:10.3.5.10 PBSS procedures for nonassociated STAsIn a PBSS, there are four types of relationships between a PCP and the members of a PBSS:  Nonassociated, non-RSNA (when dot11RSNAEnabled is false)  Associated, non-RSNA (when dot11RSNAEnabled is false)  Associated, RSNA (when dot11RSNAEnabled is true)  Nonassociated, RSNA (when dot11RSNAEnabled is true)The following rules apply in the last case:a)In a PBSS, when in State 2 and dot11RSNAEnabled is set to true, successful RSNA establishmentchanges to State 4. Unsuccessful RSNA establishment leaves state unchanged.b)In a PBSS when in State 4, disassociation notification changes the state to State 2


page 391
36310.3.6 Additional mechanisms for an AP collocated with a mesh STAInsert the following subclause, 10.3.7, after 10.3.6:10.3.7 Communicating PBSS informationFollowing the association or security association of a STA with a PCP, the PCP shall send the PBSSinformation using an unsolicited Information Response frame (8.5.20.5). The PCP shall set the SubjectAddress field of the Information Response frame to the broadcast address and shall include in theInformation Response frame an entry for each STA associated with the PBSS including the PCP. The PCP shall distribute the PBSS information for each of the STAs that are associated with the PBSS,including the PCP, at least once every dot11BroadcastSTAInfoDuration beacon intervals.10.4 TS operation10.4.1 IntroductionChange 10.4.1 as follows:There are three types of traffic specifications: the TSPEC, the DMG TSPEC, and the PTP TSPEC.A TSPEC describes the traffic characteristics and the QoS requirements of a TS. The main purpose of theTSPEC is to reserve resources within the HC and, in the case of HCCA and HEMM access policies, tomodify the HC   s scheduling behavior. It also allows other parameters to be specified that are associated withthe TS, such as a traffic classifier and acknowledgment policy.The DMG TSPEC (8.4.2.136) describes an allocation (also known as DMG allocation) within either a PBSSor a DMG infrastructure BSS. The purpose of the DMG TSPEC is to create or modify an allocation for thetransmission of frames between DMG STAs that are members of a PBSS or that are members of aninfrastructure BSS (9.33.6).When transmitted between DMG STAs of a PBSS or DMG STAs of an infrastructure BSS, the TSPECdefined in 8.4.2.32 is used to create or modify a TS between members. When transmitted between DMGSTAs of a PBSS or between DMG STAs of an infrastructure BSS, the TSPEC is referred to as a PTPTSPEC.In a DMG BSS, a TSPEC includes parameters that are associated with the TS such as maximum MSDUsize, delay bound, and optionally the allocation carrying the TS. A single allocation can carry multiple TSs.Each TS is carried in one allocation, except when  The TS has an access policy of EDCA, where it can use all CBAP allocations with Source AIDequal to the broadcast AID, all CBAP allocations with Source AID matching the source STA of theTS, and all CBAP allocations with Destination AID matching the destination STA of the TS; or  The TS has an access policy of SEMM, where it can use exactly one SP allocation as well as allCBAP allocations with Source AID equal to the broadcast AID, all CBAP allocations with SourceAID matching the source STA of the TS, and all CBAP allocations with Destination AID matchingthe destination STA of the TS.A TS may have one or more TCLAS (within the discretion of the STA that sets up the stream) associatedwith it. The DMG STA or AP uses the parameters in the TCLAS elements to filter the MSDUs belonging tothis TS for delivery as part of the TS. An Intra-Access Category Priority element may be associated with aTS by the inclusion of an Intra-Access Category Priority element in an ADDTS Request frame. The UserPriority subfield of the Intra-Access Category Priority element shall be set to the same UP as specified in th


page 392
User Priority subfield of the TS Info field. If dot11AlternateEDCAActivated is true, the Alternate Queuesubfield is used to select the appropriate EDCA transmit queue when the Access Policy subfield of the TSInfo field in the TSPEC is EDCA or HEMM. When an Intra-Access Category Priority element is associatedwith a TS, the Drop Eligibility subfield is used to indicate the drop eligibility of the MSDUs of this TS.TS may have zero or one Expedited Bandwidth Request (EBR) element associated with it. An AP uses theparameters in the EBR to understand the precedence level requested by a non-AP STA (see V.5.4). Forexample, the precedence level may be used to convey to the AP that the requested TS is for the purposes ofplacing an emergency call. Support for precedence levels greater than 18 is optional for STAs.TSPEC, PTP TSPEC, optional TCLAS, optional EBR, and optional Intra-Access Category Priority elementsare transported on the air by the ADDTS Request frame and the ADDTS Response frame and across theMLME SAP by the MLME-ADDTS primitives. In addition, a TS could be created if a STA sends a resourcerequest to an PCP/AP prior to initiating a transition to that PCP/AP, as part of performing FST (10.32), or inthe Reassociation Request frame to that PCP/AP.DMG TSPEC is transported over the air within the DMG ADDTS and across the MLME SAP by theMLME-ADDTS primitives. Following a successful negotiation, a TS is created, identified within the non-AP STA by its TSID anddirection, and identified within the HC by a combination of TSID, direction, and STA address.Following a successful negotiation of a DMG TSPEC in a PBSS or in a DMG infrastructure BSS, a newallocation is created, or an existing allocation is modified. Within a PBSS or infrastructure BSS, eachallocation is uniquely identified by a combination of Allocation ID, source AID, and destination AID. Following a successful negotiation of a PTP TSPEC or a TSPEC in a DMG BSS, the frames correspondingto the PTP TSPEC or TSPEC are identified within the DMG STA by the combination of TSID, requestingnon-AP DMG STA address, and responding non-AP DMG STA address and direction.It is always the responsibility of the non-AP STA to initiate the creation of a TS regardless of its direction. ASTA that is not a DMG STA shall not transmit a PTP TSPEC or a DMG TSPEC. A non-AP DMG STA thatis not the source DMG STA of a specific TS shall not initiate the exchange of a TSPEC to the AP DMGSTA or PCP DMG STA to create that TS. Any non-AP DMG STA can issue a PTP TSPEC to any othernon-AP DMG STA to create a TS. In the direct-link or TDLS direct-link case, it is the responsibility of the STA that is going to send the data tocreate the TS. In this case, the STA negotiates with the HC to gain TXOPs that it uses to send the data. Thereis no negotiation between the originator and recipient STAs concerning the TS: the originator can discoverthe capabilities of the recipient (rates, BlockAck) using the DLS.In the case of traffic relayed by an PCP/AP, the sending and receiving non-PCP/non-AP STAs may bothcreate individual TSs for the traffic. In an infrastructure BSS, aAny traffic classifier created for the downlinkTS applies equally regardless of whether the source is in the same BSS or reached through the DS.In a non-DMG infrastructure BSS, aA non-AP STA may simultaneously support up to eight TSs from theHC to itself and up to eight TSs from itself to other STAs, including the HC. The actual number it supportsmay be less due to implementation restrictions. In a non-DMG infrastructure BSS, aAn HC may simultaneously support up to eight downlink TSs and up toeight uplink TSs per associated STA. The actual number it supports may be less due to implementationrestrictions


page 393
365Within a DMG BSS there may be up to 16 TSs from a source DMG STA to a destination DMG STA. Anadditional 16 TSs may be created between the two DMG STAs by reversing the roles of source anddestination. The actual number supported in any direction may be less due to implementation restrictions ineither the source or destination DMG STA.In a non-DMG BSS, tThe traffic admitted in context of a TSPEC can be sent using EDCA, HCCA, orHEMM. This depends on the access policy set in the TS Info field in the TSPEC. A TSPEC request may beset so that both HCCA and EDCA mechanisms (i.e., HEMM) are used.In a DMG BSS, the traffic admitted in the context of a PTP TSPEC or TSPEC is sent according to the accesspolicy set in the TS Info field of the PTP TSPEC or TSPEC, respectively. Specifically, the traffic is sentduring one or more CBAP allocations if the access policy is EDCA, during an SP allocation if the accesspolicy is SPCA, and during one SP allocation as well as zero or more CBAP allocations if the access policyis SEMM. A DMG STA transmitting a DMG TSPEC shall set the LP SC Used subfield within the DMG TSPEC to 1 toindicate that the low-power SC PHY described in 21.7 is used during the allocation. All frames sent duringsuch an allocation shall use the low-power SC PHY. The DMG STA shall set the LP SC Used subfield to 1only if the DMG STA identified in the Destination AID field within the DMG TSPEC supports the low-power SC PHY (8.4.2.130.2). In all other cases, the LP SC Used subfield shall be set to 0. When dot11SSPNInterfaceActivated is true, TSPEC processing by the HC may be subject to limitationsreceived from the SSPN interface. The SSPN may limit access to certain QoS priorities, and further restrictthe data rate and delay used with any priority.10.4.2 TSPEC ConstructionChange the first paragraph in 10.4.2 as follows:DMG TSPECs and TSPECs are constructed at the SME, from application requirements supplied via theSME, and with information specific to the MAC layer. Except as described in this subclause, there are nonormative requirements on how any TSPEC is to be generated. However, N.3.2 describes parameter choicefor the TSPEC. There are no normative requirements on how any DMG TSPEC is to be generated.10.4.3 TS life cycleInsert the following paragraph after the third paragraph (   A TS may be established    .   ) of 10.4.3:Unless stated otherwise, in a DMG BSS, the owner of an SP is the source DMG STA for that SP, and theowner of a TXOP is the TXOP holder. A STA that owns an SP or a TXOP is said to have the ownership ofthe SP or the TXOP, respectively. The rules applicable to an SP or TXOP owner are defined in 9.33 and10.4. Change the now sixth, seventh, and eighth paragraphs  of 10.4.3 as follows:While the TS is active, the parameters of the TSPEC characterizing the TS or the parameters of the DMGTSPEC characterizing the allocation carrying the TS can be renegotiated, when the renegotiation is initiatedby the non-AP STA. This negotiation might succeed, resulting in a change to the TSPEC or DMG TSPEC,or might fail, resulting in no change to the TSPEC or DMG TSPEC. An active TS becomes inactive following a TS deletion process initiated at either non-AP STA or HC. It alsobecomes inactive following a TS timeout detected at the HC, or if the HC within an AP whendot11SSPNInterfaceActivated is true determines as defined in 10.24.5 that the non-AP STA   s TS hasexceeded the transmitted MSDU limit for the access category in which the TS was admitted. In a DMG BSS


page 394
a TS timeout is detected at a non-AP STA and causes the TS deletion process to be initiated at the non-APSTA. When an active TS becomes inactive, all the resources allocated for the TS are released.An active TS may become suspended if no activity is detected for a duration of a suspension interval. Upondetection of activity, the TS may be reinstated. While the TS is in the suspended state, the HC shall notreclaim the resources assigned to the TS. In a DMG BSS, a TS in which both the source and destination arenon-PCP/non-AP STAs shall not be suspended.10.4.4 TS Setup10.4.4.2 Non-Ap-STA-initiated TS setupIn Figure 10-8, replace    HC    by    HC/non-AP STA    (in two places).10.4.4.4 TS setup procedures for both AP and non-AP STA initiationChange 10.4.4.4 as follows:The non-AP STA   s SME decides that a TS needs to be created. How it does this, as well as how it selects theTSPEC or DMG TSPEC parameters, is beyond the scope of this standard. The SME generates an MLME-ADDTS.request primitive containing a TSPEC or DMG TSPEC. A TSPEC or DMG TSPEC may also begenerated autonomously by the MAC without any initiation by the SME. However, if a TSPEC or DMGTSPEC is generated subsequently by the SME and the responding MLME-ADDTS.confirm primitivecontains ResultCode=SUCCESS, the TSPEC or DMG TSPEC containing the same TSID generatedautonomously by the MAC shall be overridden. If one or more TSPECs or DMG TSPECs are initiated bythe SME, the autonomous TSPEC or DMG TSPEC shall be terminated.The STA   s MLME transmits the TSPEC or DMG TSPEC in an ADDTS Request frame to the HC/non-APSTA and starts a response timer called ADDTS timer of duration dot11ADDTSResponseTimeout. If thenon-AP STA   s MLME is in power save mode, the STA shall include its Wakeup Schedule element in theADDTS Request frame variant and in the DMG ADDTS Request frame variant. The HC/non-AP   s MLME receives this management frame and generates an MLME-ADDTS.indicationprimitive to its SME containing the TSPEC or DMG TSPEC.The SME in the HC/non-AP STA decides whether to admit the TSPEC or DMG TSPEC with its associatedTCLAS element(s) (if present) and TCLAS processing element (if present), as specified, refuse the TSPECor DMG TSPEC, or not admit but suggest an alternative TSPEC or TCLAS element(s) or TCLASprocessing element or DMG TSPEC.If the TSPEC or DMG TSPEC is received from a non-AP STA by an AP whendot11SSPNInterfaceActivated is true, the HC shall use the permissions stored in dot11InterworkingEntry forthat STA in the decision to admit or deny the request (see 10.24.5.3). The SME then generates anMLME-ADDTS.response primitive containing the TSPEC or DMG TSPEC, zero or more TCLASelement(s) (only if present in the request) and TCLAS processing element (only if present in the request),and a ResultCode value. The contents of the TSPEC or DMG TSPEC field, TCLAS element(s) (if present),TCLAS processing element (if present), and ResultCode field contain values specified in 6.3.26.5.2. TheSME may include fewer TCLAS elements in the MLME-ADDTS.response primitive than were present inthe request; when the SME   s response includes a single TCLAS element, it shall not include a TCLASprocessing element. If the SME changes a TCLAS element   s Classifier Type field in the MLME-ADDTS.response primitive but is unable to suggest a value for the Classifier Mask field, it shall set that fieldto 0. If the SME changes a TCLAS element   s Classifier Type field or Classifier Mask field in the MLME-ADDTS.response primitive but is unable to suggest values for one or more Classifier Parameter subfields, itshall set those subfields to 0


page 395
367When the HC in an AP that has dot11SSPNInterfaceActivated equal to true receives a TSPEC, the AP shallinspect it to determine the requested access policy, user priority, and mean data rate as follows:a)The access category shall be determined from the user priority according to Table 9-1. For a TS tobe admitted when the requested access policy is EDCA, both of the following shall be true:1)The field corresponding to this access category in dot11NonAPStationAuthAccessCategoriesfrom the non-AP STA   s dot11InterworkingEntry is equal to 1.2)The sum of the mean data rate of all the requesting STA   s active TSs in this access categoryplus the mean data rate in the TSPEC is less than or equal to the non-AP STA   sdot11InterworkingEntry for dot11NonAPStationAuthMaxVoiceRate,dot11NonAPStationAuthMaxVideoRate, dot11NonAPStationAuthMaxBestEffortRate, ordot11NonAPStationAuthMaxBackgroundRate depending on whether the derived accesscategory is AC_VO, AC_VI, AC_BE or AC_BK, respectively.b)For a TS to be admitted when the requested access policy is HCCA, all of the following shall betrue:1)The dot11NonAPStationAuthHCCAHEMM value is true.2)The sum of the mean data rate of all the requesting STA   s active TSs having access policy setto HCCA plus the mean data rate in the TSPEC is less than or equal todot11NonAPStationAuthMaxHCCAHEMMRate in the non-AP STA   sdot11InterworkingEntry.3)The delay bound that will be provided by the HC in the TSPEC response is less than or equal todot11NonAPStationAuthHCCAHEMMDelay in the non-AP STA   s dot11InterworkingEntry.If the DMG TSPEC is admitted, the PCP/AP shall set the ResultCode toSUCCESS_STA_IN_DOZE_MODE if the STA identified by destination AID is in power save mode andshall include in the ADDTS Response frame the Wakeup Schedule element of the destination DMG STA ifone is established. In this case, the PCP/AP should defer including the TS schedule in the ExtendedSchedule element until both source DMG STA and destination DMG STA are in active mode. The HC/non-AP   s MLME transmits an ADDTS Response frame containing this TSPEC or DMG TSPECand status. The encoding of the ResultCode values to Status Code field values is defined in Table 8-37. ThePCP/AP shall transmit the ADDTS Response frame to the STAs identified as source and destination AID ofthe DMG TSPEC contained in the ADDTS Request frame if the ADDTS Request it is sent by a non-PCP/non-AP STA. If the ResultCode is SUCCESS, the PCP/AP shall announce the creation of the allocation bysetting the Allocation ID field in the TSPEC element sent in the ADDTS Response frame to a nonzero valueand also by including the allocation schedule in the Extended Schedule element transmitted in the DMGBeacon frame or Announce frame.The STA   s MLME receives this management frame and cancels its ADDTS timer. It generates an MLME-ADDTS.confirm primitive to its SME containing the TSPEC or DMG TSPEC and status.The SME decides whether the response meets its needs. How it does this is beyond the scope of thisstandard. A SME receiving a modified TCLAS element having a Classifier Mask field equal to 0 orClassifier Parameter subfields equal to 0 should regard these values as meaning that no suggested value hasbeen provided by the HC.  If the result code is SUCCESS, the TS enters into an active state.  If the result code is REJECTED_WITH_SUGGESTED_BSS_TRANSITION, the non-AP STA maytry to transition to other BSSs. In the case that the non-AP STA is recommended to transition toother BSSs, it should do so according to the process defined in 10.23.6. Once the transition iscompleted, it should proceed with a TS setup process with the new HC.  Otherwise, the whole process can be repeated using the same TSID and direction, a modifiedTSPEC or DMG TSPEC, optional TCLAS element(s), and an optional TCLAS processing elemen


page 396
until the SME decides that the granted medium time is adequate or inadequate and cannot beimproved. The above rules also apply to the negotiation of the PTP TSPEC and to the negotiation of the DMG TSPEC.The parameters that are set for a TS may be renegotiated in a similar manner, when such a request isgenerated by the SME through ADDTS.request primitive. When a request for the modification of the TSparameters is accepted by the HC, it shall reset both the suspension interval and the inactivity intervaltimers.When a request for the modification of the TS parameters is accepted by a non-AP STA, it shall reset theinactivity interval timers.If the HC/PCP grants medium time for an ADDTS Request frame with the Ack Policy subfield equal toBlock Ack and the Direction field equal to either downlink or bidirectional, then it shall initiate a Block Acknegotiation by sending an ADDBA Request frame to the STA that originated the ADDTS Request frame. Ifa non-DMG STA is granted medium time for an ADDTS Request frame with the Ack Policy subfield equalto Block Ack and the Direction field equal to other than downlink, then it shall initiate a Block Acknegotiation by sending an ADDBA Request frame to the recipient of the TS.In a non-DMG BSS, tThe combination of the TSID and Direction subfields identifies the TS, in the contextof the STA, to which the TSPEC applies. A bidirectional link request is equivalent to a downlink TS and anuplink TS, each with the same TSID and parameters. In a DMG BSS, the combination of the TSID, sourceDMG STA AID, destination DMG STA AID, and Direction subfields identifies the TS, in the context of thenon-AP STA, to which the TSPEC applies. The same TSID may be used for multiple TSs at different STAs. A STA can use the same TSID subfieldvalue for a downlink TSPEC and either an uplink or a direct-link TSPEC at the same time. In a non-DMGBSS, aA non-AP STA shall not use the same TSID for both uplink and direct-link TS. In a DMG BSS, anon-AP STA as a source DMG STA can use the TSID subfield value for an uplink PTP TSPEC, and at thesame time the non-AP STA as a destination DMG STA can use the same TSID subfield value for a downlinkPTP TSPEC.If the TS Info Ack Policy subfield of a TSPEC element is Block Ack and the type of Block Ack policy isunknown to the HC, the HC assumes, for TXOP scheduling, that the immediate Block Ack policy is beingused (see 9.21).An HC shall be capable of receiving an ADDTS request frame that contains a TCLAS element and capableof generating an indication that contains this as a parameter.When a STA requests service at a higher priority than authorized by its dot11InterworkingTableEntry, theHC may optionally provide a suggested TSPEC with a data rate and lower priority that would be authorized.Usage of the TSPEC in an Interworking environment is described in Annex N.A STA may include a U-PID element in ADDTS Request and ADDTS Response frames transmitted by theSTA. The U-PID element is used to indicate the protocol responsible for handling MSDUs corresponding tothe TID indicated within the frame carrying the U-PID element. If a U-PID element is not included in anADDTS Request frame, MSDUs corresponding to the TID contain an LLC protocol header that is used forupper layer protocol selection. A U-PID element shall not be included in an ADDTS Response frame if a U-PID element was not included in the corresponding ADDTS Request frame. If a U-PID element wasincluded in an ADDTS Request frame, the value of the LLC header copy field within a U-PID elementincluded in the ADDTS Response frame that has a Status Code of success and is transmitted in response tothe received ADDTS Request frame shall be the same as the LLC header copy field contained in theADDTS Request frame. The STA shall set the Status Code field to REJECT_U-PID_SETTING in th


page 397
369ADDTS Response frame if it rejects the ADDTS Request frame due to the setting of the U-PID elementreceived within the ADDTS Request frame.All MSDUs corresponding to a TID that was successfully negotiated through the ADDTS exchange with aU-PID element shall have their LLC header stripped before transmission and the agreed LLC header addedbefore delivery at the peer MAC-SAP. 10.4.7 Failed TS SetupChange 10.4.7 as follows:There are two possible types of failed TS setup:a)The transmission of ADDTS Request frame failed.b)No ADDTS Response frame is received from the HC/non-AP STA (e.g., because of delay due tocongestion or because the response frame cannot be transmitted).Figure 10-9 summarizes the remaining two cases. The MLME shall issue an MLME-ADDTS.confirmprimitive, with a result code of TIMEOUT. In either case and for a non-DMG BSS, if the request is not foran existing TS, the MLME shall send a DELTS to the HC specifying the TSID and direction of the failedrequest just in case the HC had received the request and it was the response that was lost. In both cases andfor a DMG BSS, if the request is not for an existing allocation or TS, the MLME shall send a DELTS to thenon-AP STA specifying the Allocation ID or TSID and destination DMG STA of the failed request just incase the PCP/AP had received the request and it was the response that was lost.In Figure 10-9, replace    HC    by    HC or non-AP STA    (in four places).10.4.8 Data TransferChange the first paragraph in 10.4.8 as indicated below:After the setup of a TSPEC or PTP TSPEC, MSDUs are classified above the MAC and are sent to the MACthrough the MAC_SAP using the MA-UNITDATA.request primitive with the priority parameter encoded tothe TSID. Insert the following paragraphs after the first paragraph of 10.4.8:In a DMG BSS, MSDUs are transmitted using QoS data frames. During each CBAP allocation, the MACdelivers MSDUs based on the priority of the transmitted QoS data frames. The MAC can transmit allMSDUs having a TSID with an associated TSPEC with an access policy of EDCA or SEMM, provided thatthe source AID of the CBAP allocation is equal to the source AID of the TS, or the source AID of the CBAPallocation is equal to broadcast AID, or the destination AID of the CBAP matches the destination AID oftheTS. NOTE  MSDUs having a TSID with no associated TSPEC are not transmitted.During each SP allocation, the MAC delivers MSDUs whose TSIDs identify TSPECs that have been set upto use the SP allocation. Relative prioritization of multiple TSPECs mapped to the same SP allocation isimplementation dependent and outside the scope of this standard.When an MSDU arrives from the MAC_SAP with a TSID for which there is no associated TSPEC, theMSDUs shall be sent using EDCA with the access category AC_BE


page 398
10.4.9 TS DeletionChange 10.4.9 as indicated below:There are two types of TS deletion: non-PCP/non-AP STA-initiated and HC/PCP-initiated. In both cases,the SME entity above the MAC generates an MLME-DELTS.request primitive specifying either the TS orthe allocation TSID and direction of the TS to be deleted and the reason for deleting the TS or allocation,respectively. This causes the MAC to send a DELTS Action frame.In a PBSS and DMG infrastructure BSS, an SP or CBAP allocation can be deleted at any point in time. APCP/AP can delete any allocation. A non-PCP/non-AP STA can delete only allocations for which either theSource AID or Destination AID of the allocation is equal to the STA   s AID. Deleting an allocation alsodeletes any TS that is dependent on that allocation as follows:  Deleting an SP allocation shall also delete any TS with access policy SPCA or SEMM using theallocation.  Deleting a CBAP allocation with Source AID different from the broadcast AID shall also delete anyTS with access policy EDCA using the allocation.  Deleting a CBAP allocation with Source AID equal to the broadcast AID shall also delete any TSwith access policy EDCA using the allocation, unless there is another CBAP allocation the TS coulduse.A DMG STA that receives an MLME-DELTS.request primitive for an allocation causes the MAC to send aDELTS Action frame to the PCP/AP. If the Destination AID of the allocation is different from the broadcastAID, the PCP/AP shall send a DELTS Action frame to the STA identified by the Destination AID of theallocation. The PCP/AP shall also delete the scheduling information corresponding to the allocation andcontained in the Extended Schedule element.A DMG STA that receives an MLME-DELTS.request primitive for a TS causes the MAC to send a DELTSAction frame to the peer STA of the TS.The encoding of ReasonCode values to Reason Code field (see 8.4.1.7) values is defined in Table 8-36.The TS or allocation is considered inactive within the initiating MAC when the ACK frame to the Actionframe is received. No Action frame response is generated.Figure 10-10 shows the case of TS deletion initiated by the non-PCP/non-AP STA and the case of TSdeletion initiated by the HC/PCP.In Figure 10-10, replace    HC    by    HC or non-AP STA    (in five places).An HC should not delete a TSPEC without a request from the SME except due to inactivity (see 10.4.10) oran HC service change that precludes the HC from continuing to meet the requirements of the TSPEC.All TSPECs or DMG TSPECs that have been set up shall be deleted upon disassociation and reassociation.Reassociation causes the non-PCP/non-AP STA and PCP/AP to clear their state, and the non-PCP/non-APSTA has to reinitiate the setup.10.4.10 TS TimeoutChange 10.4.10 as indicated below:TS timeout is detected within the HC/non-AP STA   s MAC when no traffic is detected on the TS within theinactivity timeout specified when the TS was created


page 399
371For an uplink TS in a non-DMG BSS or for a TS that has the PCP/AP as the destination DMG STA in aDMG BSS, the timeout is based on the arrival of correctly received MSDUs that belong to the TS after anydecryption and reassembly. For a downlink TS in a non-DMG BSS or for a TS that has the PCP/AP as the source DMG STA in a DMGBSS, the timeout is based on the following:   Arrival of valid MA-UNITDATA.request primitives using this TS at the MAC_SAP when the QoSdata frames are sent with the Ack Policy subfield set to No Ack.  Confirmation of correctly sent MSDUs that belong to the TS within the MAC when the QoS dataframes are sent with the Ack Policy subfield set other than to No Ack.In a DMG BSS and in the case of a TS that is established between non-AP STAs (PTP TSPEC), the timeoutof the recipient is based on the arrival of correctly received MSDUs that belong to the TS within the MACafter any decryption, A-MSDU unpacking, and reassembly. For a TS established between non-AP STAs (PTP TSPEC), the timeout of the originator is based on thefollowing:  Arrival of valid MA-UNITDATA.request primitives using this TS at the MAC_SAP when the QoSdata frames are sent with the Ack Policy subfield set to No Ack.  Confirmation of correctly sent MSDUs that belong to the TS within the MAC when the QoS dataframes are sent with the Ack Policy subfield set other than to No Ack.For a direct-link TS in a non-DMG BSS, inactivity is considered to have happened if one of the twofollowing events occurs:  The HC transmits a QoS CF-Poll frame and the polled STA returns a QoS Null immediately after aSIFS interval that contains a QoS Control field in which the Queue Size subfield contains 0.  The HC transmits a QoS CF-Poll frame, and no QoS Null frame is received within the grantedTXOP duration that indicates the queue size for related TSID. This is to ensure that the STA isactually using the assigned TXOP for the given TSID.In a non-DMG BSS, Aany other use of a polled TXOP delivered to the STA is considered to be activity onall direct-link TSs associated with that STA. Detection of inactivity of this type is optional.In response to an inactivity timeout, the HC shall send a DELTS frame to the STA with the result code set toTIMEOUT and inform its SME using the MLME-DELTS.indication primitive. In response to an inactivitytimeout, the AP DMG STA shall send a DELTS frame to the non-AP DMG STA with the result code set toTIMEOUT and inform its SME using the MLME-DELTS.indication primitive. In response to an inactivitytimeout, the PCP DMG STA shall send a DELTS frame to the non-PCP DMG STA with the result code setto TIMEOUT and inform its SME using the MLME-DELTS.indication primitive. In a DMG BSS when a TS is established between non-AP STAs (PTP TSPEC), then in response to a TStimeout detected within the originator non-AP STA the non-AP STA shall send a DELTS frame to therecipient non-AP STA with the result code set to TIMEOUT and inform its SME using the MLME-DELTS.indication primitive. If the TS timeout is detected within the recipient non-AP STA, the STA shallsend a DELTS frame to the originator non-AP STA with the result code set to TIMEOUT and inform itsSME using the MLME-DELTS.indication primitive. The case of uplink TS timeout in which the PCP/AP is the destination DMG STA of the TS is shown inFigure 10-11


page 400
In Figure 10-11, replace    HC    by    HC or non-AP STA    (in four places).Insert the following subclauses, 10.4.13 to 10.4.14, after 10.4.12:10.4.13 DMG allocation formats10.4.13.1 GeneralA DMG STA manages allocations and TSs as described in 10.4.1 to 10.4.14. Using the DMG TSPEC, aDMG STA can indicate two types of allocation scheduling: isochronous and asynchronous. It shouldestablish an isochronous allocation if it needs periodic access to the channel and does not expect to changethe amount of time allocated frequently. It should establish an asynchronous allocation if it expects to makerequests for channel time and wishes to reserve a minimum amount of channel time to satisfy for thoserequests when they occur.10.4.13.2 Isochronous allocationsIn order to request the setup of an isochronous allocation, a DMG STA shall set the Allocation Format fieldin the DMG TSPEC element to 1. Following the successful admittance of a DMG TSPEC with an isochronous allocation, the PCP/AP shouldallocate time in the beacon interval to meet the periodicity and minimum allocation requirements specifiedin the DMG TSPEC element.Referring to fields in the DMG TSPEC element, the PCP/AP should check that over each Allocation Periodthe sum of the time allocations is at least the Minimum Allocation. In addition, the PCP/AP should checkthat each individual allocation has a minimum duration of at least Minimum SP Duration. See 8.4.2.136,9.33.6, and 9.33.6.4. With an isochronous DMG TSPEC, the allocation period defines the period over which the channel timeallocation repeats. The scheduler should check that at least the minimum allocation is made within eachallocation period. The allocation may be composed of multiple SPs. The scheduler also checks that each SPmaking up the allocation is no shorter than the minimum SP duration. The scheduler is free to position theSPs that make up the allocation anywhere in the allocation period. The scheduler may allocate up to themaximum allocation each allocation period if resources permit. 10.4.13.3  Asynchronous allocationsA DMG STA uses the SPR frame to request channel time for asynchronous traffic.For each TID, source DMG STA, and destination DMG STA tuple, the PCP/AP can maintain the amount ofoutstanding channel time that needs to be allocated. Each time it receives an SPR frame, the amount ofoutstanding channel time is set to the value received in the SPR frame from the source DMG STA for theidentified TID and destination DMG STA. The amount of outstanding channel time is decreased by theamount allocated when channel time is schedule for that TID, source DMG STA, and destination DMG STAtuple.A DMG STA may also use a DMG TSPEC to reserve resources for asynchronous traffic. In this case, theSTA shall set the Allocation Format field in the DMG TSPEC element to 0. The PCP/AP should admit anasynchronous DMG TSPEC only if it is able to meet the minimum allocation requirements specified in theDMG TSPEC element. With an asynchronous DMG TSPEC, the DMG STA registers the minimum allocation it expects within theallocation period while an SP request is in effect that is greater than the minimum allocation specified. I


page 401
373addition, the STA expects that each allocation is at least Minimum Duration microseconds in durationprovided the outstanding SP request is at least that much. In admitting a DMG TSPEC, the PCP/AP shouldcheck that there are sufficient resources available to meet the TSPEC requirements. 10.4.14 PTP TS OperationThe ADDTS Request frame containing the PTP TSPEC may be sent to the peer non-AP DMG STA directlyor through PCP/AP DMG STA.A non-AP DMG STA may add TSs to an existing allocation. To do this, the non-AP DMG STA transmits anADDTS Request frame to peer non-PCP/non-AP DMG STA to include the additional TS. The ADDTSRequest frame shall contain a PTP TSPEC with the Allocation ID field set to indicate the desired allocationto carry the additional TS. A TS with EDCA access policy does not need to be added to any CBAPallocation and can use any CBAP allocation as long as the source AID of the CBAP allocation matches thesource AID of the TS, or the source AID of the CBAP allocation is equal to the broadcast AID, or thedestination AID of the CBAP matches the destination AID of the TS. A non-AP DMG STA transmits an ADDTS Request frame to a peer non-AP DMG STA to add a TS to anexisting allocation and to possibly communicate traffic-specific parameters such as A-MSDU subframe andMaximum MSDU Size with the peer non-AP DMG STA. The non-AP DMG STA may transmit the ADDTSRequest frame directly to the peer DMG STA or to the PCP/AP. In the latter case, the ADDTS Requestframe shall contain a TCLAS element with the classifier type set to Ethernet parameters; the Source Addressfield shall contain the address of the DMG STA that sends the ADDTS Request frame; and the DestinationAddress field shall contain the address of the peer DMG STA, which is used by PCP/AP to forward to thepeer DMG STA.The AP DMG STA or PCP DMG STA shall forward the received ADDTS Request frame to the DMG STAwith Address equal to the Destination Address field of the Classifier. If an ADDTS Response frame isreceived by the AP DMG STA or PCP DMG STA in response to the forwarded ADDTS Request frame,then the AP DMG STA or PCP DMG STA shall forward the ADDTS Response frame to the DMG STAwith Address equal to the Source Address field of the Classifier. The AP DMG STA and the PCP DMGSTA shall not change the content of the elements included in the ADDTS Request and ADDTS Responseframes.If the DMG STA asserts the direction field to a value equal to Downlink in the PTP TSPEC included in theADDTS Request frame, the parameters apply to the DMG STA as the receiving station. For example, in thiscase, the Maximum MSDU Size field indicates that the DMG STA is not able to receive MSDUs longer thanthe value presented in the MSDU Size field. Similarly, if the direction field indicates uplink, the DMG STAthat issued the ADDTS Request frame does not send MSDUs longer than the value of the Maximum MSDUSize field.10.5 Block Ack operation10.5.2 Setup and modification of the Block Ack parameters10.5.2.2 Procedure at the originatorChange list item b) in 10.5.2.2 as follows:b)If the peer STA is a non-DMG STA, Ccheck whether the intended peer STA is capable ofparticipating in the Block Ack mechanism by discovering and examining its    Delayed Block Ack   and    Immediate Block Ack    capability bits. If the recipient is capable of participating, the originatorsends an ADDBA frame indicating the TID and the buffer size. If the recipient is capable o


page 402
participating and the GCRGroupAddress parameter of the MLME-ADDBA.request primitive ispresent, the originator sends an ADDBA Request frame that includes a GCR Group Addresselement. All DMG STAs are capable of participating in the Block Ack mechanism.10.5.2.4 Procedure common to both originator and recipientChange the text in 10.5.2.4 as follows:Once a Block Ack agreement has been successfully established between two STAs, the type of agreementthus established is dependent on the capabilities of the STAs and the contents of the ADDBA frames used toestablish this agreement as defined in Table 10-2 for non-DMG STAs and in Table10-2a for DMG STAs.Table 10-2 remains unchanged.Insert the following table, Table 10-2a, and note at the end of 10.5.2.4:NOTE  If the BAR and BA variant is Extended Compressed and the Type of Block Ack agreement is HT-Immediate,use of the RBUFCAP field is implementation dependent.10.7 DLS operation10.7.1 GeneralInsert the following paragraph after the first paragraph (   DLS is a protocol    .   ) of 10.7.1:Since the channel access in a DMG BSS allows DMG STAs to send frames directly to each other, DMGSTAs shall not use the DLS protocol.Table 10-2a  Types of Block Ack agreement based on capabilities and ADDBA conditions for DMG STAsCapabilities conditionADDBA conditionType of BAR and BA variantType of Block Ack agreementBoth STAs are DMG STAs, and both DMG STAs have the BA with Flow Control field in the DMG Capabilities element equal to 1.Block Ack Policy subfield set to 0Compressed HT-ImmediateBoth STAs are DMG STAs, and at least one of the DMG STAs has the BA with Flow Control field in the DMG Capabilities element equal to 0.Block Ack Policy subfield set to 0Compressed HT-Immediate Both STAs are DMG STAs, and at least one of the DMG STAs has the BA with Flow Control field in the DMG Capabilities element equal to 0.Block Ack Policy subfield set to 1Extended CompressedHT-ImmediateBoth STAs are DMG STAs, and both DMG STAs have the BA with Flow Control field in the DMG Capabilities element equal to 1.Block Ack Policy subfield set to 1Extended CompressedHT-Immediate + flow contro


page 403
37510.8  TPC procedures10.8.1 GeneralChange the first bullet in the third paragraph of 10.8.1 as follows:  Association of STAs with an PCP/AP in a BSS based on the STAs    power capability (see 10.8.2).Change the first sentence in the fourth paragraph of 10.8.1 as follows:If dot11SpectrumManagementRequired is true, a non-DMG STA shall not join an infrastructure BSS,MBSS, or IBSS unless the Spectrum Management bit is 1 in the Capability Information field in Beaconframes and Probe Response frames or in the Condensed Capability Information field in Measurement Pilotframes received from other STAs in the BSS, with the following exceptions:10.8.2 Association based on transmit power capabilityChange 10.8.2 as follows:A STA shall provide an PCP/AP with its minimum and maximum transmit power capability for the currentchannel when associating or reassociating, using a Power Capability element in Association Request framesor Reassociation Request frames.An PCP/AP may use the minimum and maximum transmit power capability of associated STAs as an inputinto the algorithm used to determine the local transmit power constraint for any BSS it maintains. Thespecification of the algorithm is beyond the scope of this standard.An PCP/AP may reject an association or reassociation request from a STA if it considers the STA   sminimum or maximum transmit power capability to be unacceptable. For example, a STA   s powercapability might be unacceptable if it violates local regulatory constraints or increases the probability ofhidden STAs by a significant degree. The criteria for accepting or rejecting an association or reassociationon the basis of transmit power capability are beyond the scope of this standard.10.8.4 Specification of regulatory and local maximum transmit power levelsChange the first and second paragraphs of 10.8.4 as follows:A STA shall determine a regulatory maximum transmit power for the current channel. The STA shall use theminimum of the following:  Any regulatory maximum transmit power received in a Country element from the AP in its BSS,PCP in its PBSS, another STA in its IBSS, or a neighbor peer mesh STA in its MBSS and  Any regulatory maximum transmit power for the channel in the current regulatory domain known bythe STA from other sources.A STA shall determine a local maximum transmit power for the current channel by selecting the minimumof the following:  Any local maximum transmit power received in the combination of a Country element and a PowerConstraint element from the AP in its BSS, PCP in its PBSS, another STA in its IBSS, or a neighborpeer mesh STA in its MBSS and  Any local maximum transmit power for the channel regulatory domain known by the STA fromother sources


page 404
Insert a new paragraph before the last paragraph of 10.8.4 as follows:In a PBSS, the PCP should advertise the regulatory maximum transmit power for its operating channel inDMG Beacon frames and shall advertise it in Announce and Probe Response frames using a Countryelement. A PCP in a PBSS should advertise the local maximum transmit power for its operating channel inDMG Beacon frames and shall advertise it in Announce and Probe Response frames using the combinationof a Country element and a Power Constraint element.Change the last paragraph of 10.8.4 as follows:Where TPC is being used for radio measurement without spectrum management, the inclusion of a PowerConstraint element in Beacon, DMG Beacon, Announce, and Probe Response frames shall be optional.10.8.6 Adaptation of the transmit powerChange the second and third paragraphs of 10.8.6 as follows:A STA may use a TPC Request frame to request another STA to respond with a TPC Report framecontaining link margin and transmit power information. A STA receiving a TPC Request frame shallrespond with a TPC Report frame containing the power used to transmit the response in the Transmit Powerfield and the estimated link margin in a Link Margin field. A DMG STA may also use the LinkMeasurement procedure and the DMG Link Margin element to perform TPC. An AP in a BSS, PCP in a PBSS, or a STA in an IBSS shall autonomously include a TPC Report elementwith the Link Margin field set to 0 and containing transmit power information in the Transmit Power field inany Beacon frame, DMG Beacon frame, Announce frame, or Probe Response frame it transmits.10.9  DFS procedures10.9.1 GeneralChange the second paragraph of 10.9.1 as follows:This subclause describes DFS procedures that can be used to satisfy these and similar future regulatoryrequirements. The procedures might also satisfy comparable needs in other frequency bands and may beuseful for other purposes. For example, some of the procedures described in this subclause may be used forchannel selection in a DMG BSS.Insert the following paragraph after the third paragraph (   STAs shall use    .   ) of 10.9.1:In a DMG BSS, the following DFS procedures apply:   Associating a STA with an AP or a PCP based on the STA   s supported channels (see 10.9.2).  Quieting the current channel so it can be tested for interference with less interference fromassociated STAs (see 10.9.3).  Requesting and reporting measurements in the current and other channels (see 10.9.7).  Selecting and advertising a new channel to assist the migration of an infrastructure BSS, IBSS, orPBSS (see 10.9.8).Change the first sentence in the now fifth paragraph of 10.9.1 as follows:For the purposes of DFS in a non-DMG BSS, the following statements apply


page 405
37710.9.2  Association based on supported channelsInsert the following subclause title immediately after the title of 10.9.2:10.9.2.1 Association based on supported channels in a non-DMG BSSThe text formerly in 10.9.2 (   A STA shall provide     scope of this standard.   ) is unchanged.Insert the following subclause, 10.9.2.2, after 10.9.2.1:10.9.2.2 Providing supported channels upon association in a DMG BSSA PCP/AP may advertise the regulatory domain in which it is located via a Country element in the DMGBeacon, Announce, or Information Response frame if dot11MultiDomainCapabilityEnabled is true. A STA shall provide a PCP/AP with a list of the channels in which it can operate when associating orreassociating using a Supported Channels element in Information Request, Association Request, orReassociation Request frames. A PCP/AP can use the supported channels list for associated STAs as aninput into an algorithm used to select a new channel for the BSS. The specification of the algorithm isbeyond the scope of this standard.The PCP/AP may advertise the supported channels of associated STAs via an Information Response framewith Subject Address field set to the broadcast address and a Supported Channels element that lists theintersection of channels supported by STAs associated with the BSS, as indicated by their SupportedChannels elements. 10.9.3 Quieting channels for testing Insert the following paragraph at the beginning of 10.9.3:A PCP/AP in a DMG BSS may measure one or more channels itself, or the PCP/AP may request associatednon-PCP/non-AP STAs in the same BSS to measure one or more channels, either in a dedicatedmeasurement interval or during normal operation. The PCP/AP in a DMG BSS may schedule a serviceperiod allocated to itself to quiet the associated STAs and use the self-allocated SP for measurement. 10.9.7 Requesting and reporting of measurements Change the first paragraph of 10.9.7 as follows:The response to a basic request is a basic report. It is mandatory for a STA in a PBSS or in an infrastructureBSS to generate a basic report in response to a basic request if the request is received from the PCP/AP withwhich it is associated, except as specified in this subclause


page 406
Change Table 10-4 as follows: Change the 13th paragraph of 10.9.7 as follows:A STA may enable or disable measurement requests or autonomous measurement reports from another STAby transmitting Measurement Request elements with the Enable bit set to 1 and the Request bit and Reportbit set to 0 or 1, as appropriate. These elements do not require a corresponding Measurement Report elementin a Measurement Report frame. All measurement requests and reports are enabled by default. An PCP/APmay ignore a request to disable a mandatory measurement request. All others requests shall be honored.Insert the following paragraph at the end of 10.9.7:The measurement request and report procedures are defined in 10.11. 10.9.8 Selecting and advertising a new channelInsert the following subclause, 10.9.8.6, after 10.9.8.5:10.9.8.6 Selecting and advertising a new channel in a DMG BSSThe decision to switch to a new operating channel in a BSS shall be made only by a PCP/AP. A PCP/APmay make use of the information in Supported Channel elements and the results of measurementsundertaken by the PCP/AP and other STAs in the BSS to assist the selection of the new channel. Thealgorithm to choose a new channel is beyond the scope of this standard, but shall satisfy applicableregulatory requirements. A PCP/AP shall inform associated STAs that the PCP/AP is changing to a new channel and maintain theassociation by advertising the switch using the Extended Channel Switch Announcement element in DMGBeacon frames, Announce frames, and Information Response frames until the intended channel switch time.The channel switch should be scheduled so that all non-PCP/non-AP STAs in the BSS, including STAs inpower save mode, have the opportunity to receive at least one Extended Channel Switch Announcementelement before the switch. A STA may ignore the Channel Switch Mode field and either cease transmissionsor attempt new transmissions in the operating channel until the channel change takes effect. A STA that receives an Extended Channel Switch Announcement element may choose not to perform thespecified switch, but to take alternative action. For example, it may choose to move to a different BSS. ATable 10-4  Allowed Measurement RequestsService setSource of requestDestination of requestType of measurement request allowedBSSAPSTAIndividual or groupSTAAPIndividual onlySTASTANoneIBSS, MBSSSTASTAIndividual or groupPBSSPCP Non-PCP STAIndividual or groupNon-PCP STAPCP IndividualNon-PCP STANon-PCP STANon


page 407
379non-PCP/non-AP STA in an infrastructure BSS or PBSS shall not transmit the Extended Channel SwitchAnnouncement element. 10.11 Radio measurement procedures10.11.6 Requesting and reporting of measurementsChange Table 10-6 as follows:Change the fourth paragraph of 10.11.6 as follows:The source and destination of a measurement request shall both be a member of the same infrastructure BSS,a member of the same PBSS, or a member of the same IBSS. Measurement requests with an individualReceiver Address shall be sent only to STAs that have indicated Radio Measurement capability.10.11.8 Triggered autonomous reportingChange the ninth paragraph of 10.11.8 as follows:A STA in an infrastructure BSS or PBSS shall cease all triggered autonomous reporting if it disassociates orreassociates to a different BSS (reassociation to the same BSS shall not affect triggered reporting). A STA inan independent BSS shall cease all triggered autonomous reporting if it leaves the BSS.10.11.11 Link MeasurementChange the second paragraph of 10.11.11 as follows:If dot11RMLinkMeasurementActivated is false in an PCP/AP receiving a Link Measurement Request, itshall ignore the request.Table 10-6  Allowed Measurement RequestsService setSource of requestDestination of requestReceiver address of radio measurement request frameInfrastructure BSSAPNon-AP STAIndividual or groupNon-AP STAAPIndividual onlyNon-AP STANon-AP STAIndividual only for Direct Link within a BSS served by Qos PA; otherwise, no allowedIBSSNon-AP STANon-AP STAIndividual or groupPBSSPCP STAIndividual or groupSTAPCPIndividual onlySTASTANon


page 408
10.11.14 Multiple BSSID SetChange the third paragraph of 10.11.14 as follows:A Multiple BSSID element, with or without optional subelements, indicates that all PCPs/APs within theindicated range of BSSIDs transmit using a common class, channel, and antenna connector.10.11.16 Access Delay MeasurementChange 10.11.6 as follows:Access delay is measured by the PCP/AP   s MAC layer being the average medium access delay fortransmitted frames measured from the time the MPDU is ready for transmission (i.e., begins CSMA/CAaccess or SP access, as appropriate) until the actual frame transmission start time. Access delaymeasurement results are included in the BSS Average Delay element and in the BSS AC Access Delayelement.For the BSS Average Delay measurement, the PCP/AP shall measure and average the medium access delayfor all transmit frames using the DCF or EDCAF over a continuous 30 s measurement window. For theinfrastructure BSS AC Access Delay measurement, the PCP or QoS AP shall measure and average themedium access delay for all transmit frames of the indicated AC (see Figure 8-227) using EDCA mechanismover a continuous 30 s measurement window. The accuracy for the average medium access delay shall be  100 s or better when averaged over at least 200 frames. Accuracy is not defined for measurementsaveraged over less than 200 frames.10.22 Tunneled direct-link setup10.22.1 GeneralInsert the following paragraph after the third paragraph (   To set up and maintain    .   ) of 10.22.1:Since the channel access in a DMG BSS allows DMG STAs to send frames directly to each other, DMGSTAs shall not use the TDLS protocol. 10.23 Wireless network management procedures10.23.14 Channel usage proceduresChange the second paragraph of 10.23.14 as follows:Implementation of Channel Usage is optional for a WNM STA. A STA that implements Channel Usage hasdot11MgmtOptionChannelUsageImplemented set to true. When dot11MgmtOptionChannel-UsageImplemented is true, dot11WirelessManagementImplemented shall be true, or the STA shall becapable of acting as an S-AP within a CCSS. A STA that has a value of true fordot11MgmtOptionChannelUsageActivated is defined as a STA that supports Channel Usage. A STA forwhich dot11MgmtOptionChannelUsageActivated is true shall set the Channel Usage field of the ExtendedCapabilities element to 1


page 409
38110.23.15 Group addressed transmission service10.23.15.1 GeneralChange 10.23.15.1 as follows:The group addressed transmission service provides delivery of group addressed frames and comprises thetwo services, DMS and GCR. DMG STAs do not use GCR.10.23.15.2 DMS proceduresChange the beginning of 10.23.15.2 as follows:The directed multicast service (DMS) is a service that may be provided by an AP or DMG STA to itsassociated non-AP STAs or DMG STAs that support DMS, where the AP or DMG STA transmits groupaddressed MSDUs as individually addressed A-MSDUs.In a PBSS, DMS is a service that may be provided by any STA to other STAs associated in the same PBSSthat support DMS, where the STA transmits group addressed MSDUs as individually addressed A-MSDUs.If the PCP of the PBSS has the PCP forwarding field within the PCP   s DMG Capabilities element set to 0, anon-PCP STA in the PBSS cannot employ the PCP to forward frames using DMS to another STA in thePBSS. Implementation of DMS is optional for a WNM STA and mandatory for a robust AV streaming STA (asdefined in 10.26.1). A STA that implements DMS has dot11MgmtOptionDMSImplemented set to true.When dot11MgmtOptionDMSImplemented is true, at least one of dot11WirelessManagementImplementedand dot11RobustAVStreamingImplemented shall be true, and dot11HighThroughputOptionImplementedshall be true for a non-DMG STA, and dot11DMGOptionImplemented shall be true for a DMG STA. ASTA that has a value of true for dot11MgmtOptionDMSActivated is defined as a STA that supports DirectedMulticast. A STA for which dot11MgmtOptionDMSActivated is true shall set the DMS field of theExtended Capabilities element to 1. In the remaining text in 10.23.15.2, change    AP    to    AP or DMG STA    (in 25 places) and    non-APSTA    to    non-AP or DMG STA    (in 14 places).10.23.15.3 GCR procedures10.23.15.3.1 OverviewChange the second paragraph of 10.23.15.3.1 as follows:A non-DMG STA with dot11RobustAVStreamingImplemented true shall implement the GCR proceduresdefined in 10.23.15.3.2 to 10.23.15.3.6. When dot11RobustAVStreamingImplemented is true,dot11MgmtOptionDMSImplemented and dot11HighThroughputOptionImplemented shall be true. A non-DMG STA that implements advanced GCR supports GCR Block Ack (10.23.15.3.7) and GCR-SP(10.23.15.3.8) and has dot11AdvancedGCRImplemented set to true. Whendot11AdvancedGCRImplemented is true, dot11RobustAVStreamingImplemented shall be true. In a meshBSS, a non-DMG STA that implements GCR has dot11MeshGCRImplemented set to true. Whendot11MeshGCRImplemented is true, dot11HighThroughputOptionImplemented shall be true


page 410
If the framerequests information relative to the frequency band in which the frame is transmitted, a Multi-bandelement shall not be included in the frame. 10.24.3.1.4 STA procedures for transmitting the GAS Query ResponseInsert the following paragraph after the second paragraph (   The GAS protocol supports    .   ) of10.24.3.1.4:If the GAS Initial Request frame that initiated the GAS transaction contains a Multi-band element, but theGAS Initial Response frame transmitted as a response does not contain a copy of the same Multi-bandelement, the Status Code in the GAS Initial Response frame shall be set to    The request has been declined.   Otherwise, the requesting and responding STAs shall include a copy of the same Multi-band element in allsubsequent GAS Initial Response, GAS Comeback Request, and GAS Comeback Response framestransmitted as part of the GAS transaction. Inclusion of the Multi-band element indicates to which frequencyband the GAS transaction applies. If the GAS Initial Request frame that initiated the GAS transaction doesnot contain a Multi-band element, then none of the subsequent GAS Initial Response, GAS ComebackRequest, and GAS Comeback Response frames transmitted as part of the GAS transaction shall include aMulti-band element.10.27 Procedures to manage OBSSInsert the following subclauses, 10.28 to 10.38 (including Figure 10-28 to Figure 10-38 and Table 10-15to Table 10-18), after 10.27.4.3:10.28 DMG beamformed link and BSS maintenance10.28.1 Beamformed link maintenanceA pair of DMG STAs that have established a beamformed link can maintain this link. This subclausedescribes procedures that allow a pair of DMG STAs to maintain a beamformed link that was establishedbetween them.A beamformed link is established as a result of the most recent success of the procedures specified in 9.35.2if the STAs completed the SLS phase or as a result of the most recent success of the procedures specified in9.35.6.4 if the STAs completed the BRP phase


page 411
383The DMG STAs shall negotiate the value of dot11BeamLinkMaintenanceTime or may leave it undefined asspecified in 8.4a.6. If the dot11BeamLinkMaintenanceTime has been defined as described in 8.4a.6, the DMG STAs shallimplement a beam link maintenance timer to control each beamformed link. The DMG STA shall keep onebeam link maintenance timer per beamformed link. After it is set, the beam link maintenance timer shallcount down. The timer shall be stopped when it reaches the value zero. The beam link maintenance timer ofa beamformed link shall be halted during the following periods of time:  BTI and A-BFT of a beacon interval  SPs and CBAPs in which the DMG STA does not participate  When any of the DMG STAs involved in the beamformed link is in Doze stateThe beam link maintenance timer shall be set to the value of dot11BeamLinkMaintenanceTime when thesource DMG STA and destination DMG STA successfully complete the BRP if the beam refinement phaseis performed (9.33.3) or the source DMG STA and destination DMG STA successfully complete the SLS(9.35.2) if the beam refinement phase is skipped as defined in 9.33.3. A PCP/AP DMG STA shall set the beam link maintenance timer to the value ofdot11BeamLinkMaintenanceTime when it receives a response from the non-PCP/non-AP DMG STA duringthe ATI or when it receives an SPR frame as a response to a Poll frame, if these frames are received usingthe beamformed link established with the non-PCP/non-AP DMG STA. The non-PCP/non-AP DMG STA shall set the beam link maintenance timer to thedot11BeamLinkMaintenanceTime when it receives a request from the PCP/AP DMG STA during the ATIor when it receives a Poll or a Grant frame, if these frames are received using the beamformed linkestablished with the PCP/AP DMG STA.The initiator DMG STA shall set the beam link maintenance timer to the dot11BeamLinkMaintenanceTimewhen an immediate response or acknowledgment (ACK, BA, DMG CTS, DMG DTS) has been receivedfrom the recipient DMG STA of the beamformed link.The recipient DMG STA shall set the beam link maintenance timer to the dot11BeamLinkMaintenanceTimeafter the transmission of the immediate response or acknowledgment (ACK, BA, DMG CTS, DMG DTS)has been completed to the initiator DMG STA of the beamformed link. To prevent expiration of the beam link maintenance timer when a DMG STA does not have MSDUs to send,the DMG STA shall transmit QoS Null frames to maintain a beamformed link. Following the expiration of the beamlink maintenance time (specified by the current value of thedot11BeamLinkMaintenanceTime variable), the destination DMG STA of the SP shall configure its receiveantenna to a quasi-omni antenna pattern for the remainder of the SP and during any SP following theexpiration of the beamlink maintenance time. Any time after dot11BeamLinkMaintenanceTime has elapsed, the source DMG STA of the SP may initiatean ISS to restore the beamformed link with the destination DMG STA of the SP following the rules definedin 9.35.2. If restoration is desired sooner, the source DMG STA can also initiate the ISS before expiration ofdot11BeamLinkMaintenanceTime. The responder DMG STA of the beamformed link in the CBAP shall configure its receive antenna to aquasi-omni antenna pattern following the expiration of dot11BeamLinkMaintenanceTime except when it isinvolved in a frame exchange with another STA


page 412
Any time after dot11BeamLinkMaintenanceTime has elapsed, the initiator DMG STA of the beamformedlink in the CBAP may initiate an ISS to restore the beamformed link with the responder STA following therules defined in 9.35.2. If restoration is desired sooner, the initiator STA can also initiate the ISS beforeexpiration of dot11BeamLinkMaintenanceTime. If a DMG STA detects degradation in the link quality between itself and another DMG STA, the DMG STAcan use beam tracking or beam refinement to improve the link quality. The DMG STA can request the PCP/AP DMG STA to schedule an SP to perform BF with the other DMG STA or use a CBAP to perform BF.The DMG STA can use the A-BFT to perform BF if the other DMG STA is its PCP/AP. A PCP/AP DMGSTA can perform BF with a non-PCP/non-AP DMG STA during a CBAP or by scheduling an SP betweenthe PCP/AP DMG STA and the non-PCP/non-AP DMG STA through an Extended Schedule elementtransmitted in a DMG Beacon or Announce frame. If the link quality between a PCP/AP DMG STA and a non-PCP/non-AP DMG STA degrades, but the DMGSTA can still receive DMG Beacon frames with the Next A-BFT field equal to 0, the DMG STA shouldimprove the link quality by performing RSS during the A-BFT period as described in 9.35.5. A DMG STA may use the value of the parameter LAST_RSSI within the RXVECTOR of a received frameto decide to initiate beamforming with a peer DMG STA if the value of the LAST_RSSI parameter isdifferent from zero (9.3.2.3.3).Figure10-28 illustrates the operation of the beam link maintenance timer for an example involving STA-Aand STA-B. In beacon interval n, STA-A and STA-B successfully perform beamforming and set up thebeam link maintenance timer. In beacon interval n+1, the STAs have two SPs established between them.The beam link maintenance timer is halted and released according to the rules described above. Once thetimer beam link maintenance timer expires, the STAs redo beamforming. Beam Link Maintenance Timer expires. Re-beamforming starts.beacon interval n+1beacon interval nSTA-A & STA-B beamformingBTIA-BFTLast successful ACK/BA, beamformed link brokenSP (STA-A, STA-B)SP (STA-A, STA-B)Beam Link Maintenance Timer 0TimeACK/BA transmitted and receivedSetup and halt Beam Link Maintenance Timer Release Beam Link Maintenance Timer Setup and Release Beam Link Maintenance Timer Halt Beam Link Maintenance Timer Release Beam Link Maintenance Timer Figure 10-28  Example of beamformed link maintenanc


page 413
38510.28.2 PCP Handover10.28.2.1 GeneralA STA is PCP handover capable if the PCP Handover field within the STA   s DMG Capabilities element(8.4.2.130) is 1. The STA is PCP handover incapable otherwise.The PCP handover process allows the information pertinent to the operation of the PBSS to be distributed tosuitable PCP handover capable STA(s) and for a PCP handover capable STA to take over the PCPresponsibilities from the PCP explicitly or implicitly. The information pertinent to the operation of a PBSS includes STA information and pseudo-staticscheduling information. The STA information is comprised of the STA   s AID, MAC address and DMG Capabilities element. ThePCP may relay the information to all STAs in the PBSS by using the Information Response frame. The pseudo-static scheduling information comprises pseudo-static SP and CBAP allocations carried in theExtended Schedule element (8.4.2.134). A PCP handover capable STA supports two types of PCP Handover, explicit and implicit. In Explicit PCPHandover, the PCP explicitly selects and schedules the transfer of PCP responsibilities to another PCPhandover capable STA as described in 10.28.2.2. In Implicit PCP Handover the PCP distributes the NextPCP List element (8.4.2.142) in its DMG Beacon or Announce frames and maintains the content of theNextPCP List element to facilitate the implicit handover process described in 10.28.2.3. The PCP maydecide the priority of Next PCPs and update the Next PCP List based on information contained within aSTA   s DMG Capabilities element. If there is at least one PCP handover capable STA in the PBSS, the NextPCP List element contains anordered list of one or more PCP handover capable STAs that can take over the role of the PCP duringimplicit handover. The ordering of STAs in the NextPCP List is specified in decreasing priority order andthe criteria for updating the NextPCP List are implementation specific. The PCP shall increment the Tokenfield of the NextPCP List by 1 every time the list is changed. If there are no PCP handover capable STAs inthe PBSS, the length of the NextPCP List element is 0, and Implicit PCP Handover cannot be performed. When a PCP handover capable STA takes over the PCP responsibilities of a PBSS, the pseudo-staticscheduling information shall remain unchanged. Any outstanding request for resource allocation is lost andSTAs that have outstanding requests for allocation may re-request the resource allocation.In explicit PCP handover, the PCP shall use the value of the PCP Factor when selecting the candidate PCP(see 10.1.4.3.4).Following a PCP handover, non-PCP STAs shall attempt to transmit a frame to the new PCP withindot11MaxLostBeacons beacon intervals. If the new PCP does not receive at least one frame from anassociated non-PCP STA for dot11MaxLostBeacons beacon intervals following a PCP handover, it shoulddisassociate the STA from the PBSS. 10.28.2.2 Explicit Handover procedureThe PCP may transmit a Handover Request frame to a non-PCP STA that is handover capable. Uponreceiving a Handover Request, a non-PCP STA becomes the candidate PCP. If the Handover Request isaccepted, the candidate PCP shall transmit a Handover Response frame to the PCP with the Handover Resultfield set to 0. If the Handover Request is rejected, the candidate PCP shall transmit a Handover Responseframe to the PCP with the Handover Result field set to 1, 2, or 3 and cease to be the candidate PCP


page 414
A non-PCP STA that is handover capable may transmit a Handover Request frame to the PCP of the PBSS ifthe PCP is handover capable. Upon transmission of the Handover Request frame, the non-PCP STAbecomes the candidate PCP. If the Handover Request is accepted, the PCP shall transmit a HandoverResponse frame to the candidate PCP with the Handover Result field set to 0. If the Handover Request isrejected, the PCP shall transmit a Handover Response frame to the candidate PCP with the Handover Resultfield set to 1, 2, or 3, and the candidate PCP shall cease to be a candidate PCP. Following the transmission or reception of a successful Handover Response frame, a candidate PCP shouldrequest STA information and pseudo-static scheduling information from the PCP using an InformationRequest frame within the next dot11NbrOfChangeBeacons beacon intervals. The candidate PCP should alsorequest SPs to perform beamforming and, if appropriate, establish a security association with otherassociated STAs prior to the completion of PCP handover.Following the successful reception or transmission of a Handover Response frame, the PCP shall transmit aPCP Handover element within every DMG Beacon or Announce frame for each of the nextdot11NbrOfChangeBeacons beacon intervals with the Old BSSID field set to the BSSID of the PBSS, theNew PCP Address field set to the MAC address of the candidate PCP, and the Remaining BIs field set to thenumber of beacon intervals remaining until the candidate PCP takes over the role of PCP for the PBSS. Theinitial value of the Remaining BIs field shall be equal to the Remaining BI field value last transmitted by thePCP in a Handover Request frame to the candidate PCP or equal to the Remaining BI field value lastreceived by the PCP in a Handover Request frame from the candidate PCP, whichever is later. A non-PCPSTA receiving a DMG Beacon or Announce frame containing the PCP Handover element shall set theSTA   s local countdown counter to the value of the Remaining BIs field contained in the PCP Handoverelement. The STAs shall then decrease the local countdown counter by one at each TBTT, and shall use thecandidate PCP   s address contained in the New PCP Address field within the PCP Handover element as thenew beacon filter address once the STA   s local countdown reaches zero. When the countdown timer equalszero, the candidate PCP shall assume the role of PCP. 10.28.2.3 Implicit Handover procedureUpon receiving the NextPCP List element, a PCP handover capable STA that finds its AID as the AID entryi in the NextPCP List element received from the PCP becomes the Implicit candidate PCP i. Upon detectinga Token value contained in the NextPCP List element that is different from the value of the last Tokenreceived from the PCP, each Implicit candidate PCP should request STA information and pseudo-staticscheduling information from the PCP by transmitting an Information Request frame addressed to the PCP(10.29.1).The implicit handover process is triggered at the Implicit candidate PCP i when the Implicit candidate PCP ifails to receive a DMG Beacon or Announce frames from the PCP for (i   dot11ImplicitHandoverLostBeacons) beacon intervals. When triggered, the Implicit candidate PCP i shallsend at least one DMG Beacon frame during each of the next dot11MaxLostBeacons BTIs if the followingconditions are met:  No DMG Beacon or Announce frames are received from the PCP.  No DMG Beacon frame carrying a PCP Handover element with the value of the Old BSSID fieldequal to the BSSID of the PBSS is received from an Implicit candidate PCP with a smaller index onthe NextPCP List.Each DMG Beacon sent by the Implicit candidate PCP i shall contain a PCP Handover element with the OldBSSID field set to the BSSID of the PBSS from which control is being taken, i.e., the previous PBSS, theNew PCP Address field set to its MAC address, and the Remaining BIs field initially set todot11MaxLostBeacons and decremented by 1 at each TBTT. A member non-PCP STA of the PBSS, afterfailing to receive a DMG Beacon or Announce frame for dot11MaxLostBeacons beacon intervals, shouldassociate with the new PCP sending a DMG Beacon frame containing the PCP Handover element with Ol


page 415
387BSSID field equal to the BSSID of the previous PBSS and the smallest Remaining BIs field value. TheImplicit candidate PCP that successfully transmits a DMG Beacon with the Remaining BIs field within thePCP Handover element equal to zero completes the implicit handover by scheduling, if appropriate, pseudo-static SPs between its member STAs following the pseudo-static scheduling information it obtained from theprevious PBSS.To avoid disruptions to pseudo-static SPs due to implicit handover, the value ofdot11ImplicitHandoverLostBeacons should be lower than the value of dot11MaxLostBeacons. 10.29  DMG BSS peer and service discovery10.29.1 Information Request and ResponseA STA may request information about either a single STA in the PBSS or about all of the STAs in the PBSSby sending an Information Request frame (8.5.20.4). If the STA is requesting information about only asingle STA in the PBSS, it shall set the Subject Address field in the Information Request frame to the MACaddress of that STA. If the STA is requesting information about all of the STAs in the PBSS, it shall set theSubject Address field in the Information Request frame to the broadcast address and shall transmit theInformation Request frame to the PCP. A STA may transmit an Information Request frame with the length field of the Request element set to 0 toanother STA in the PBSS to determine if the destination DMG STA is still present in the PBSS and is withinrange of the sending STA.A STA may transmit an Information Request frame including its STA Capability element and otherelements. A non-PCP STA shall not include in the Information Request frame the capability informationcorresponding to another STA. The STA may transmit an Information Response frame (8.5.20.5) either unsolicited or as a response to anInformation Request frame. If a STA is providing information about a single STA in the PBSS, it shall setthe Subject Address field in the Information Response frame to the MAC address of that STA. If a STA isproviding information about all of the STAs in the PBSS, it shall set the Subject Address field in theInformation Response frame to the broadcast address. A STA shall include in the Information Response frame the elements requested by the originator STA.A STA shall send an Information Response frame with an empty payload in response to a receivedInformation Request frame that solicits information about a single target STA if  The target STA is not a member of the PBSS and the STA sending the Information Response frameis the PCP of the PBSS, or  The target STA is not the STA sending the Information Response frame.In all other cases, the STA shall send the Information Response frame with the information requested by therequesting STA. 10.29.2 Peer Service DiscoveryA PCP/AP may provide different types of information to a non-PCP/non-AP STA upon request. To queryavailable services in a BSS, a non-PCP/non-AP STA shall send either an Information Request frame or aProbe Request frame to the PCP/AP (10.29.1). The Information Request and Information Response framesare robust management frames, while the Probe Request and Probe Response frames are not


page 416
Upon receiving the Information Request frame, the PCP/AP shall respond with an Information Responseonly if all of the following three criteria are true:a)The SSID in the Information Request is the wildcard SSID or the specific SSID of the PCP/AP.b)The BSSID field in the Information Request is the wildcard BSSID or the BSSID of the PCP/AP.c)The DA field in the Information Request is the MAC address of the PCP/AP.The PCP/AP transmits the Information Response frame to the address of the non-PCP/non-AP STA thatgenerated the Information Request. The Information Response frame may include vendor-specific elements. 10.30  Changing DMG BSS parameters10.30.1 GeneralThis subclause describes the methods used by the PCP/AP to change certain key characteristics of the BSS.It also describes a method for a non-PCP/non-AP STA to make a recommendation on those characteristics tothe PCP/AP.The PCP/AP delivers the DMG BSS Parameter Change element to STAs holding pseudo-static SPs andSTAs in power save mode before a DMG BSS parameter change.The PCP/AP shall initiate a DMG BSS parameter change by including a DMG BSS Parameter Changeelement (8.4.2.129) in its DMG Beacon or Announce frames. The PCP/AP places the DMG BSS ParameterChange element in every DMG Beacon or Announce frame after the DMG BSS Parameter Change elementis first included in the frame, stopping in the DMG Beacon or Announce frame immediately after the DMGBSS parameter change takes effect.10.30.2 Moving the TBTTThe PCP/AP may move the TBTT and hence move the entire beacon interval. Moving the beacon intervalmeans that except for the beacon interval in which the change takes effect, the beacon interval duration isunchanged while the position of the TBTT is moved.The TBTT shall not be moved by an amount that is larger than the value in the Beacon Interval field presentin DMG Beacon and Announce frames in which the DMG BSS Parameter Change element is sent. To move the TBTT to an intended new TBTT, the PCP/AP shall insert the DMG BSS Parameter Changeelement in DMG Beacon frames and/or Announce frames with the Move field set to 1 (8.4.2.129). TheDMG Beacon frames and/or the Announce frames containing the DMG BSS Parameter Change elementshall be sent at each TBTT dot11NbrOfChangeBeacons times before the TBTT is changed as indicated inthe TBTT offset field.At each transmission of the DMG BSS Parameter Change element, the TBTT Offset field shall be set to avalue equal to the lower order 4 octets of the intended new TBTT. The value of dot11NbrOfChangeBeacons shall be greater than dot11MaxLostBeacons. NOTE  As defined in 10.1.2.1, the PCP transmits at least one DMG Beacon frame to each associated STA within a timeinterval that is not longer than dot11BeaconPeriod    dot11MaxLostBeacons TUs. Announce frames shall be used to deliver the DMG BSS Parameter Change element to all STAsparticipating in pseudo-static SPs


page 417
389The value of the Beacon Interval field of DMG Beacon frames and the Announce frames sent at thedot11NbrOfChangeBeacons+1 TBTT shall be set to the difference of the intended new TBTT and the TBTTwhere the DMG Beacon or Announce frames were sent. STAs associated with a PCP/AP that moves the TBTT shall not transmit during the beacon interval thatprecedes a new TBTT if the transmission time ends at the TBTT or later, even if the SP or the CBAP werescheduled in the beacon interval. At the intended new TBTT that is dot11NbrOfChangeBeacons+2 TBTTs after the DMG BSS ParameterChange element is first transmitted, the TSF timer is reset to 0 as defined in 10.1.3.2a.A PCP/AP member of a PCP/AP cluster that wishes to move its TBTT shall set the TBTT Offset field to anempty Beacon SP allocated by its S-PCP/S-AP as defined in 9.34.Figure10-29 illustrates the process in moving the TBTT position.10.30.3 Changing beacon interval durationThe PCP/AP may change the duration of its beacon interval during the BSS operation.To change its beacon interval, the PCP/AP shall insert the DMG BSS Parameter Change element into DMGBeacon frames and/or Announce frames with the Size field set to 1 and the BI Duration field set to theduration of the beacon interval following this DMG BSS parameter change. The TBTT Offset field shall beset to the lower order 4 octets of the TBTT at dot11NbrOfChangeBeacons+1 TBTT position when thisDMG BSS parameter change takes effect. The DMG Beacon frames and/or the Announce frames shall be sent at each TBTTdot11NbrOfChangeBeacons times before the beacon interval is changed as indicated in the BI Duration fieldof the DMG BSS Parameter Change element.At each transmission of the DMG BSS Parameter Change element the TBTT Offset field shall be set to avalue equal to the lower order 4 octets of the intended TBTT. The value of dot11NbrOfChangeBeacons shall be greater than dot11MaxLostBeacons.  Announce frames shall be used to deliver the DMG BSS Parameter Change element to all STAsparticipating in pseudo-static SPs. Beacon interval durationDMG BSS parameter changeNew TBTTFirst announcement of TBTT position changeFigure 10-29  Moving the TBTT positio


page 418
The PCP/AP that shortens the beacon interval shall not schedule SP and CBAP allocations that use moretime than allowed in the beacon interval indicated in the BI Duration field of the DMG BSS ParameterChange element.The value of the beacon interval shall be set to the BI Duration field of the DMG BSS Parameter Changeelement at the dot11NbrOfChangeBeacons+1 TBTT. At this TBTT, the TSF timer is reset to 0 as defined in10.1.3.2a. If the PCP/AP sets the Move and the Size fields to 1 in the same DMG BSS Parameter Change element, itshall set the TBTT Offset field and proceed as defined in 10.30.2. The value of the beacon interval shall beset to the BI Duration field of the DMG BSS Parameter Change element at the new TBTT as defined in10.30.2.Figure10-30 illustrates the process in changing the beacon interval duration.10.30.4 Maintaining synchronization in a PCP/AP clusterA S-PCP/S-AP shall update the Clustering Control field transmitted in the DMG Beacon if the DMG BSSparameter change modifies the allocation of the Beacon SPs (9.34). If the Clustering Control field ismodified as a result of a DMG BSS parameter change, the S-PCP/S-AP shall transmit the updatedClustering Control field in every DMG Beacon in which the DMG BSS Parameter Change element istransmitted.A PCP/AP member of a PCP/AP cluster receiving a S-PCP/S-AP DMG Beacon with a DMG BSS ParameterChange element indicating a change in the beacon interval duration or TBTT time shall immediately insertthe appropriate DMG BSS Parameter Change element into its DMG Beacons if the S-PCP/S-AP   s DMGBSS parameter change causes a modification in the allocation of the Beacon SPs.If a PCP/AP is required to change the beacon interval or/and TBTT to participate in a PCP/AP cluster or tochange the beacon interval or/and TBTT as a result of its S-PCP/S-AP   s parameters change (see 9.34), itshall follow the procedures in 10.30.2 and 10.30.3.10.30.5 Recommending DMG BSS parameters to the PCP/APA non-PCP/non-AP STA may make a recommendation for DMG BSS parameters to the PCP/AP byincluding a DMG BSS Parameter Change element in an Information Request or Information Responseframe sent to the PCP/AP.A non-PCP/non-AP STA may recommend a shift in TBTT by setting the Move subfield in the Change TypeBitmap field of the DMG BSS Parameter Change element to 1 and setting the TBTT Offset field to the lowerOld beacon interval durationNew beacon interval durationTBTTFirst announcement of beacon interval duration changeFigure 10-30  Changing beacon interval duratio


page 419
391order 4 octets of the non-PCP/non-AP STA   s TSF timer at the recommended first changed TBTT. The non-PCP/non-AP should select a value for the TBTT Offset field that gives the PCP/AP enough time to exercisethe change. Similarly, a non-PCP/non-AP STA may recommend a beacon interval duration to the PCP/APby setting the Size subfield in the Change Type Bitmap field of the DMG BSS Parameter Change element to1 and setting the BI Duration field to the recommended beacon interval duration in TUs.A PCP/AP that receives an Information Request or an unsolicited Information Response frame from a non-PCP/non-AP STA containing a DMG BSS Parameter Change element may use the information within theelement to change the DMG BSS parameters. When receiving an Information Request frame that includesthe DMG BSS Parameter Change element, PCP/AP responds with an Information Response frame asspecified in 10.29.1. If the PCP/AP changes the BSS parameters in the transmitted Information Responseframe, the PCP/AP shall include a DMG BSS Parameter Change element reflecting the BSS parameterchanges and shall use the procedure defined in 10.30.2 and 10.30.3, as appropriate, to change the BSSparameters. If the PCP/AP decides not to change the BSS parameters, it shall not include a DMG BSSParameter Change element in the transmitted Information Response frame.10.31 Spatial sharing and interference mitigation for DMG STAs10.31.1 GeneralThis subclause describes mechanisms to enable spatial sharing and interference mitigation within a PBSS/infrastructure BSS and in a uncoordinated OBSS environment. Spatial sharing mechanisms allow SPs belonging to different STAs in the same spatial vicinity to bescheduled concurrently over the same channel, and for interference mitigation. Alternatively, the PCP/APcan use CBAPs to mitigate interference. The SPSH and Interference Mitigation field in the DMG Capabilities element indicates whether a STAsupports spatial sharing. A STA that supports spatial sharing, as indicated in the SPSH and Interference Mitigation field equal to 1 inthe STA   s DMG Capabilities element, shall support the directional channel quality measurements describedin 8.4.2.23.16 and 8.4.2.24.15.  10.31.2 Spatial sharing and interference assessmentThe PCP/AP should request STAs to perform and report spectrum and radio resource measurementsdescribed in 10.11 to assess the possibility to perform spatial sharing and for interference mitigation. The PCP/AP should use the directional channel quality described in 8.4.2.23.16 and 8.4.2.24.15 to assess thepossibility for spatial sharing of SPs. An SP to be assessed for spatial sharing with other scheduled (existing) SPs or considered to be reallocatedin the beacon interval is hereby termed as a candidate SP. There might be multiple candidate and existingSPs at one time, and an SP may simultaneously assume the role of candidate and existing SP dependingupon the context it is used for spatial sharing and interference assessment. STAs that participate in an SP and that support spatial sharing should perform beamforming training witheach other before engaging in any other communication or performing any measurements described in thissubclause. The PCP/AP should request source DMG STA and destination DMG STA involved in a candidate SP toperform measurements for the purpose of spatial sharing with an existing SP only after the STAs hav


page 420
beamforming trained with each other. The PCP/AP can infer that the STAs in a candidate SP have abeamformed link with each other if the Beamforming Training field within the DMG TSPEC used to set upthe candidate SP was set to 1 and at least one beacon interval has elapsed since the candidate SP was firstscheduled. If the PCP/AP transmits a Directional Channel Quality Request to a STA involved in a candidate SP toassess the possibility for spatial sharing with another existing SP, it shall set the Target STA to thecorresponding peer STA   s MAC address involved in the candidate SP and shall set the MeasurementMethod field to indicate ANIPI.If the candidate SP has already been allocated channel time, the PCP/AP should additionally transmit aDirectional Channel Quality Request to the STAs involved in the existing SP to assess the possibility forspatial sharing with the candidate SP. In the Directional Channel Quality Request, the PCP/AP shall set theTarget STA to the corresponding peer STA involved in the existing SP and shall set the MeasurementMethod field to indicate ANIPI. NOTE  When the PCP/AP transmits a directional channel quality request to a STA of an existing SP, it intends toassess the channel quality during transmission by STAs belonging to the candidate SP. Similarly, when the PCP/APtransmits a directional channel quality request to a STA of a candidate SP, it intends to assess the channel quality duringtransmission by STAs belonging to the existing SP.If a recipient STA that receives a Directional Channel Quality Request frame is already beamformed trainedwith the target STA specified by the AID field within the frame, then the recipient STA shall carry out themeasurement employing the same receive antenna configuration as is used by the recipient STA whenreceiving frames from the target STA. If the AID field is set to the broadcast AID or an unknown AID, thenthe recipient STA shall perform the measurements using a quasi-omni antenna pattern. Figure10-31 illustrates an example of spatial sharing assessment between two SPs. In this example, SP1 isthe existing SP and SP2 is the candidate SP. The PCP/AP transmits a Directional Channel Quality Requestto STAs C and D to measure over SP1   s channel allocation, and transmits a Directional Channel QualityRequest to STAs A and B to measure over SP2   s channel allocation. The relation of the Measurement StartTime and Measurement Duration fields in the Directional Channel Quality Request message is shown inFigure10-31, while the field Number of Time Blocks is the ratio (Measurement Duration/MeasurementUnit). Figure 10-31  Example of spatial sharing assessmen


page 421
393If a non-PCP/non-AP STA receives a Directional Channel Quality Request from its PCP/AP, it shouldperform the measurements as indicated in the request and shall report back to the PCP/AP using theDirectional Channel Quality Report. The report shall be formatted and transmitted as per specified in theDirectional Channel Quality Request. The non-PCP/non-AP STA shall set the Report Mode field (8.4.2.24)in the report frame to indicate whether it performed the measurement as requested by the PCP/AP. 10.31.3 Achieving spatial sharing and interference mitigationA PCP/AP can estimate the channel quality across STAs participating in the BSS and implement spatialsharing and interference mitigation based on the results of the measurements performed by the STAsassociated with the PCP/AP. A PCP/AP should schedule a candidate SP that overlaps with an existing SP in its beacon interval only afterit receives a Directional Channel Quality Report from the STAs involved in the candidate SP.If a candidate SP is already scheduled in the beacon interval, the PCP/AP should schedule this candidate SPtime-overlapping with an existing SP in its beacon interval only after it receives a Directional ChannelQuality Report from the STAs involved in the existing SP. The PCP/AP should schedule a candidate SP during a period of time in the beacon interval where the PBSS/infrastructure BSS performance is expected to be maximized. The determination of performancemaximization should be based on measurement reports received by the PCP/AP, but is implementationdependent and beyond the scope of this standard.The decision process at the PCP/AP to perform spatial sharing of a candidate and an existing SP isimplementation dependent and beyond the scope of this standard.The candidate SP is referred to as a Time-Overlapped SP following the allocation by the PCP/AP of acandidate SP overlapping in time with an existing SP.Figure10-32 illustrates an example of the resulting SP schedule in the beacon interval for the spatial sharingbetween the two SPs shown in Figure10-31.The PCP/AP should periodically transmit a Directional Channel Quality Request to each spatial sharingcapable STA involved in a Time-Overlapped and existing SP scheduled under spatial sharing. In theDirectional Channel Quality Request that the PCP/AP transmits to each STA, the PCP/AP shall set theTarget STA to the peer STA involved in the same SP and shall set the Measurement Method field to indicateRSNI. If a spatial sharing capable non-PCP/non-AP STA receives a Directional Channel Quality Request from itsPCP/AP, it should perform the measurements as indicated in the request and shall report the results back tothe PCP/AP using the Directional Channel Quality Report. The report shall be formatted and transmitted asper specified in the corresponding Directional Channel Quality Request. TimeBTISP1:STA A <-> STA BATISP2:STA C <-> STA DFigure 10-32  Example of spatial sharing between SP1 and SP


page 422
The PCP/AP should stop the spatial sharing of two or more SPs if it determines that the link quality of any ofthe links involved in the spatial sharing has dropped below acceptable levels. This determination should bebased on Directional Channel Quality Reports received by the PCP/AP, but is implementation dependentand beyond the scope of this standard.The STA may include the TSCONST field with the ADDTS Request sent to the PCP/AP for the purpose ofinterference mitigation. The PCP/AP should consider the information in the TSCONST field specified by aSTA in its SP schedule.Specific algorithms to realize spatial sharing and interference mitigation among SPs between different STAsis implementation dependent and beyond the scope of this standard. 10.31.4 PBSS and infrastructure BSS stability in OBSS scenariosExcept when performing FST (10.32), the PCP/AP limits the frequency with which it changes the operatingPBSS/infrastructure BSS channel to alleviate the instability and ripple effect that might result from frequentchannel changes in OBSS scenarios. Upon a channel switch, the PCP/AP of a PBSS/infrastructure BSS shallselect a random number, N, uniformly distributed between [0, SwitchInterval-1] and shall not attempt a newchannel switch until N beacon intervals have elapsed since the preceding channel switch. The initial value ofSwitchInterval is aMinSwitchInterval and it is doubled upon every new channel switch up to a maximumvalue of aMaxSwitchInterval. The PCP/AP resets SwitchInterval to aMinSwitchInterval if it remains on thesame operating channel for a minimum of aMaxSwitchInterval consecutive beacon intervals. NOTE  The PCP/AP can keep the SP schedule stable across beacon intervals and minimize schedule changes. This is toallow for STAs to associate with the PBSS/infrastructure BSS or add or modify their SP reservations. Stability in theallocation schedule in a beacon interval allows a PBSS/infrastructure BSS to assess the interference pattern produced byOBSSs and adapt to the environment by scheduling SPs over periods of time in the beacon interval when lessinterference is expected. 10.32  Multi-band operation10.32.1 GeneralA device is multi-band capable if the value of its local MIB variable dot11MultibandImplemented is true. Amulti-band capable device is said to be a member of a BSS when one or more of the STAs in the device is amember of the BSS. A STA that is part of a multi-band capable device advertises the capability by includingthe Multi-band element in Beacon, DMG Beacon, (Re)Association Request, (Re)Association Response,Information Request, Information Response, Probe Request, Probe Response, Announce, FST SetupRequest, FST Setup Response, TDLS Discovery Request, TDLS Discovery Response, TDLS SetupRequest, and TDLS Setup Response frames. Except for the FST Setup Request and FST Setup Response frames, which shall not include more than oneMulti-band element, a STA may include more than one Multi-band element in any one of these frames if it ispart of a device that supports more than two bands or channels. If a PCP/AP includes one or more Multi-band elements within a (Re)Association Response frame with Status Code equal toDENIED_WITH_SUGGESTED_BAND_AND_CHANNEL or a Probe Response frame, the order in whichthese elements appear in the frame indicate the order, in terms of frequency band and channel number, thatthe device that includes the STA addressed by the frame should attempt join the BSS following the rulesapplicable to the respective frequency band and channel (see 10.1). For each Multi-band element containedin the frame starting from the first one and proceeding in increasing order, the STA should attempt to jointhe BSS using the BSSID indicated by the BSSID field, frequency band indicated by the Band ID field andchannel number indicated by the Channel Number field provided the Beacon Interval and the ChannelNumber fields in the Multi-band element are both nonzero.NOTE  The first Multi-band element in the frame can refer to the current operating frequency band and channel


page 423
395A multi-band capable device shall set the Band ID and Operating Class fields within a Multi-band elementto specify a frequency band it supports. If the multi-band capable device is or intends to operate in the bandindicated within the Multi-band element, it shall set the Channel Number field to indicate the channel ofoperation within that band. If the multi-band capable device is a member of a BSS both on the channelindicated in the Channel Number field within the Multi-band element and also in the channel on which thiselement is transmitted, then the multi-band capable device shall set the TSF Offset field within a Multi-bandelement to the difference between the TSF of the BSS of which the STA is member on the channel indicatedin the Channel Number field of this element and the TSF of the BSS corresponding to the BSSID indicatedin the Address 3 field of the MPDU in which this element is transmitted. In all other cases, the TSF Offsetfield shall be set to 0. The FST session transition is managed by FST session setup protocol. A multi-band capable deviceparticipates as an initiator or as a responder in the FST session setup. Depending on the STA   s behaviorduring the FST session setup, the FST session can be operational in one band, or may be transferred toanother band or channel in the same band, or can be operational in multiple bands and/or channelssimultaneously and in this case MSDUs can be transmitted in different bands and/or channels any time anMSDU arrives at the MAC SAP. If a multi-band capable device is operational in more than one band/channel simultaneously, the STA may use the FST session setup protocol to change the operation to a singlechannel. An FST session between an initiator and a responder is identified by an FSTS ID. The value of the FSTS IDis allocated by the initiator of an FST session and shall remain unchanged whether the FST session isoperational in one band or more than one band simultaneously. The value of the FSTS ID shall be unique foran initiator and responder pair, and there shall be no more than one FST session between an initiator andresponder pair. If an initiator or responder desires to change the FSTS ID of its existing FST session, it shalltear down the existing FST session (10.32.3) and set up a new one with a different FSTS ID value. In each band/channel, a multi-band capable device may use the same or different MAC addresses. When theSTA MAC Address Present field is 1 in a Multi-band element, the STA MAC Address field in the Multi-band element specifies the MAC address that the STA uses in the band and channel that are indicated in theMulti-band element. If the STA MAC Address Present field is 0, the MAC address that the STA uses in thefrequency band and channel that are indicated in the Multi-band element is the same as the address the STAuses in the current operating band and channel. The FST session addressing mode is Transparent if both initiator and responder of the FST session use thesame MAC address in the frequency bands/channels involved in the FST session transfer. The FST sessionaddressing mode is Nontransparent if either the initiator or responder use different MAC addresses in thedifferent frequency bands/channels involved in the FST session. When transparent FST is used, the STAshall present a single MAC-SAP to higher layers for all frequency bands/channels in which it uses that MACaddress. An FST is allowed if the FST Setup Request and FST Setup Response frames are permitted to be transmittedas indicated in 10.3.3.A multi-band capable device should deliver all fragments, if any, of an MSDU of an FST session before ittransfers the FST session.A multi-band capable device shall include, in any transmitted FST Setup Request and in any transmittedFST Setup Response, the capabilities element, the operation element, the EDCA Parameter Set element,Supported Rates element, Extended Supported Rates element, and Supported Channels element that areapplicable to the band and channel number indicated within its most recently transmitted Multi-bandelement that was transmitted on the same band and channel number on which it is transmitting the FSTSetup Request or FST Setup Response frames. If a Multi-band element is present in the transmitted FS


page 424
Setup Request or FST Setup Response frames, the Multi-band element is considered as the most recentlytransmitted Multi-band element. If a Session Transition element and a Multi-band element are present in the same frame and the values of theOperating Class and Channel Number fields within the Multi-band element are both nonzero, the value ofthe Band ID field related to the new band within the Session Transition element shall be the same as theBand ID field within the Multi-band element. 10.32.2 FST setup protocol10.32.2.1 GeneralThe FST setup protocol comprises four states and rules for how to move from one state to the next. Thestates are Initial, Setup Completion, Transition Done, and Transition Confirmed. In the Initial state, the FSTsession is operational in one or both bands/channels. In the Setup Completion state, both initiator andresponder are ready to change their currently operating band(s)/channel(s). An FST session can be fully orpartially transferred to another band/channel or transferred back to one band/channel. The Transition Donestate enables both initiator and responder to operate in the other band/channel if the value of the LLT waszero. Both initiator and responder have to successfully communicate in the new band/channel to reach theTransition Confirmed state. The state transition diagram of the FST setup protocol is shown in Figure10-34.Figure10-33 depicts the procedure of the FST setup protocol that drives the state machine shown inFigure10-34. The figure is only an example of the basic procedure and is not meant to be exhaustive of allpossible uses of the protocol. In the figure, MLME 1 and MLME 2 represent any two MLMEs of a multi-band capable device according to the reference model described in 4.9.4. In addition, the parameter ncorresponds to the number of FST Setup Request and FST Setup Response frame exchanges until both theFST initiator and FST responder successfully move to the Setup Completion state, as described below. To establish an FST session in the Initial state and transfer it to the Setup Completion state of the FST setupprotocol (Figure10-34), an initiator and responder shall exchange FST Setup Request and FST SetupResponse frames. An FST session exists in Setup Completion state, Transition Done state, or TransitionConfirmed state. In the Initial and in the Setup Completion states, the old band/channel represents thefrequency band/channel from which the FST session is to be transferred, and the new band/channelrepresents the frequency band/channel to which the FST session is to be transferred. In the Transition Donestate, the new band/channel represents the frequency band/channel from which the FST Ack Request andFST Ack Response frames, if any, are transmitted, and the old band/channel represents the frequency band/channel from which the FST session is being transferred. The responder shall set the Status Code field to SUCCESS if it accepts the FST Setup Request, shall set theStatus Code to REJECTED_WITH_SUGGESTED_CHANGES (see 8.4.1.9) to indicate that one or moreparameters of the FST Setup Request are invalid and shall suggest alternative parameters, shall set the StatusCode to PENDING_ADMITTING_FST_SESSION or PENDING_GAP_IN_BA_WINDOW to indicatethat an FST Setup Request is pending, and shall set the Status Code field to 37 (   The request has beendeclined   ) to reject an FST Setup Request. A responder that is also an enabling STA (see 10.12) may set the Status Code to REJECT_DSE_BAND toindicate that the FST Setup Request is rejected because it was initiated by a dependent STA (see 10.12) thatis requesting transition to a frequency band subject to DSE procedures. In this case, if the responder is theenabling STA for the dependent STA, the responder may include a Timeout Interval element in the FSTSetup Response frame to indicate the period in TUs before which it initiates an FST Setup with thedependent STA. The Timeout Interval Type field within the Timeout Interval element shall be set to 4. Theresponder can use the parameters in the FST Setup Request frame received from the dependent STA toinitiate an FST Setup with the initiator


page 425
397A responder that is also a dependent STA and not enabled shall reject all received FST Setup Requestframes for transitioning to a frequency band subject to DSE procedures, except if the transmitter of the FSTSetup Request frame is the enabling STA of the dependent STA. 10.32.2.2 Transitioning between statesA state transition within the FST setup protocol is controlled by the State Transition Timer (STT). Each STAmaintains a STT for each FST session. The STAs shall move to the Initial state when the STT moves from 1to 0 (other than set to 0) or upon reception or transmission of an FST Tear Down frame. The initiator shall set the STT to the value of the FSTSessionTimeOut field at successful transmission of anFST Setup Request frame and at each ACK frame sent in response to a received FST Setup Response withthe Status Code field equal to PENDING_ADMITTING_FST_SESSION orPENDING_GAP_IN_BA_WINDOW. The initiator shall set the STT to 0 at the transmission of an ACKframe sent in response to a received FST Setup Response frame with the value of the Status Code field equalto SUCCESS.FST initiator STAFST responder STASMEMLME 1MLME 2SMEMLME 1MLME 2FST Setup Request frameFST Setup Response frameProcess FST Setup Request actionProcess FST Setup Response actionFST Ack Request frameProcess FST Ack Request actionLoop 1,nFST Ack Response frameDecision to perform FSTDecision to perform FSTMLME-FSTSetup.requestMLME-FSTSetup.indicationMLME-FSTSetup.responseMLME-FSTSetup.confirmMLME-FSTIncoming.requestMLME-FSTIncoming.requestMLME-FSTAck.requestMLME-FSTAck.indicationMLME-FSTAck.responseMLME-FSTAck.confirmFigure 10-33  Procedure of the FST setup protoco


page 426
The responder shall set the STT to the value of the FSTSessionTimeOut field at successful transmission ofan FST Setup Response frame. The responder shall set the STT to 0 at each transmission of an ACK framesent in response to the reception of an FST Setup Request. The responder should send an FST SetupResponse frame no later than FSTSessionTimeOut after the transmission of an ACK frame sent in responseto a received FST Setup Request frame or successful transmission of an FST Setup Response frame with thestatus code field equal to PENDING_ADMITTING_FST_SESSION orPENDING_GAP_IN_BA_WINDOW. In the latter case, the responder shall transmit the unsolicited FSTSetup Response frame to the initiator. There might be multiple FST Setup Request and FST Setup Response frame transmissions by the initiatorand the responder, respectively, until the FST session between these STAs becomes established. At eachtransition, or attempt to transition, from the Initial state to the Setup Completion state, the initiator andresponder shall perform the following procedure: 1)The initiator sends an FST Setup Request frame to the responder.2)Upon receipt of an FST Setup Request frame, the responder shall respond with an FST SetupResponse frame unless it has a pending FST Setup Request frame addressed to the initiator andthe responder has a numerically larger MAC address than the initiator   s MAC address, inwhich case, the responder shall delete the received FST Setup Request. 3)If, after the reception of the acknowledgment to the initiator   s FST Setup Request frame, theinitiator receives an FST Setup Request frame from the responder, the initiator shall notrespond with an FST Setup Response frame if its MAC address is numerically larger (seeInitial stateCommunicating in Old Band/ChannelTransition Confirmed stateFull connectivity in New Band/ChannelTransition Done stateCommunicating in New Band/ChannelNew Band/Channel becomesOld Band/ChannelSetup Completion stateCommunicating in Old Band/ChannelFST Ack Request, FST Ack Response,or successful frame exchange (excluding FST Tear Down)Timeout or FST Tear DownStatus <> 0orOperation (New Band)=0Timeout, rejection orFST Tear Down;initiated by any STAFST Setup Request,FST Setup ResponseLLT=0 in FST Setup RequestorLLT transitions from one to zeroLLT>0Figure 10-34  States of the FST setup protoco


page 427
39910.1.4.3.4) than the responder   s MAC address. Otherwise, if its MAC address is numericallysmaller than the responder   s MAC address, it becomes the responder and responds with theFST Setup Response frame and shall not send the FST Setup Request frame during the currentFST session transition. 4)The initiator shall not move to the Setup Completion state if at least one of the followingconditions is met:a)The initiator does not successfully receive an FST Setup Response frame from theresponder within the STT. b)The value of the Status Code field in the received FST Setup Response frame from theresponder is different from SUCCESS.c)A state-specific exception in Table10-15 takes place.5)The initiator shall move to the Setup Completion state if none of conditions 4(a), 4(b), and 4(c)is met.6)The responder shall not move to the Setup Completion state if at least one of the followingconditions is met:a)The responder does not receive the acknowledgment to its transmitted FST SetupResponse frameb)The value of the Status Code field in the FST Setup Response frame it transmitted to theinitiator was different from SUCCESSc)The value of the Setup and Operation subfields within the Session Transition element inthe transmitted FST Setup Response frame results in a status different from any of therows shown in Figure10-16, in which case the responder shall set the Status Code fieldwith the transmitted FST Setup Response to 37 (   The request has been declined   )d)The resulting status of the Operation subfield in the New Band field is 0.7)The responder shall move to the Setup Completion state if none of conditions 6(a), 6(b), 6(c)and 6(d) is met. Table 10-15  Exceptions for the initiatorStateConditionMeaningNext stateInitialFST Setup Response with Status Code = 86Pending, responder in process of admitting FST session. InitialInitialFST Setup Response with Status Code = 88Pending, Block Ack window at the responder has gaps.InitialInitialFST Setup Response with Status Code = 39One or more parameters of the FST Setup Request is invalid and the responder suggests alternative parameters. InitialInitialFST Setup Response with Status Code = 37Responder rejects the request. One particular case is that values of the operating class and channel number fields within the Multi-band element, if any, received in the FST Setup Request frame is different from the value of the corresponding fields within the Multi-band element, if any, transmitted in the following FST Setup Response.Initia


page 428
If, upon transition to the Setup Completion state, the value of the LLT field within the last successful FSTSetup Request frame received by the responder or transmitted by the initiator was equal to 0, the initiatorand responder shall immediately move to the Transition Done state. If, upon transition to the Setup Completion state, the value of the LLT field within the last successful FSTSetup Request frame received by the responder or transmitted by the initiator was greater than 0, the initiatorand responder shall proceed as follows:  If the last FST Setup Request or FST Setup Response frames exchanged between the initiator andresponder included a Switching Stream element, then all the streams within the Switching Streamelement that have the LLT Type field set to 1 shall be switched using the Stream-based Link LossCountdown, and all the streams within the Switching Stream element that have the LLT Type fieldset to 0 shall be switched using the STA-based Link Loss Countdown.   If the neither the FST Setup Request nor the FST Setup Response frames exchanged between theinitiator and responder included a Switching Stream element, then the streams shall be switchedusing the STA-based Link Loss Countdown.The FST transition for the STA, if STA-based, or the stream, if stream-based, from the Setup Completionstate to the Transition Done state shall occur immediately after the corresponding Link Loss countdowntimer transitions from 1 to 0 within any of the initiator or responder of the FST session. An initiator and responder shall perform the STA-based and stream-based Link Loss Countdown as follows:  STA-based Link Loss Countdown: Both initiator and responder shall remain in the SetupCompletion state and start a Link Loss countdown timer with an initial value of LLT  32   s. TheLink Loss countdown is reloaded with the value of LLT  32   s every time that an individuallyaddressed frame is received from the peer STA of the FST session.   Stream-based Link Loss Countdown: Both the initiator and responder shall start a Link Losscountdown timer with an initial value of LLT  32   s for each stream identified within the SwitchingStream element. The Link Loss countdown for a stream is reloaded with the value of LLT  32   sInitialFST Setup Response with Status Code = 96Responder rejects the request since the initiator is a dependent STA and the request is for transitioning to a frequency band subject to DSE procedures. In the rejection, the responder can include a Timeout Interval element. InitialInitialResulting status is different from shown in Table10-16The responder is not able to complete the setup. InitialInitialResulting status of the Operation field in the New Band field is 0 in Table10-16The operation in the new band is disabled. InitialSetup CompletionFST Setup Response with Status Code = 0 and value of the LLT field within the FST Setup Request frame is greater than zero The STA is ready to switch to the new band if the link is lost in the old band.Setup CompletionSetup CompletionTransmission or reception of FST Tear Down frameTermination of FST session.InitialTable 10-15  Exceptions for the initiator  (continued)StateConditionMeaningNext stat


page 429
401every time that an individually addressed frame for that stream is received from the peer STA of theFST session. Before leaving the Setup Completion state, the initiator and responder that is performing a full FST sessiontransfer may transmit an FST Setup Response frame in the old band with a Status Code field set toPERFORMING_FST_NOW and with the RA field set to the broadcast address as to notify other STAs inthe BSS of this STA   s forthcoming full FST session transfer.Table10-16 shows the FST session status at each state transition. The Setup and Operation subfields shownin Table10-16 are present within the Session Transition element. When the value of a subfield in the FSTSetup Request is different from the value of that same subfield in the following FST Setup Response, theresulting status shall be the logical AND of the value of the corresponding subfields in both the FST SetupRequest and the FST Setup Response. Upon transition to the Transition Done state and if transparent FST is used, the association state (see 10.3.1)of the STA corresponding to the old band/channel is transferred to the STA corresponding to the new band/channel. To transition from the Transition Done state to the Transition Confirmed state, the initiator and respondershall perform the following procedure within the channel number of the operating class and band IDspecified in the Multi-band element negotiated during the FST session setup:Table 10-16  FST status at state transitionFrom StateOld band resulting statusNew band resulting statusTo StateDefinitionSetupOperationSetupOperationInitial1100InitialNew band setup and operation are disabled.Initial1110InitialNew band operation is disabled, the setup is kept alive. Initial001aa The value of this field remains unchanged during the FST session transition.1Setup CompletionFST session is operational in new band.Initial121121Setup CompletionFST session is operational in both bands. Initial10121Setup CompletionFST session is operational in new band; FST session in old band is kept alive. Setup CompletionUnchangedUnchangedUnchangedUnchangedTransition DoneNo status changes. Transition DoneUnchangedUnchangedUnchangedUnchangedTransition ConfirmedNo status changes


page 430
a)The State transition is controlled by the State Transition Timer (STT). Each STA of the FST sessionhas its own STT. The initiator and responder shall move to the Initial state when the STT movesfrom 1 to 0 (other than set to 0). The initiator shall set the STT to the value of the FSTSessionTimeOut field at successfultransmission of an FST Ack Request frame or at transmission of any individually addressed MPDUto responder. The initiator shall set the STT to zero at the transmission of an ACK sent in response toa received FST Ack Response from the responder or at reception of an ACK frame received inresponse to a frame sent to the responder. The responder shall set the STT to FSTSessionTimeOut at transmission of an FST Ack Responseframe or at transmission of any other individually addressed MPDU to the initiator. The respondershall set the STT to zero at reception of an ACK frame received in response to a transmitted FSTAck Response frame or at the reception of any individually addressed frame sent by the initiator.The responder shall transmit an FST Ack Response frame to the initiator no later thanFSTSessionTimeOut after the transmission of an ACK frame sent in response to a received FST AckRequest from the initiator. b)The SME of both the initiator and responder generates an MLME-FSTIncoming.request primitivethat includes the parameters of the FST session transfer. This primitive shall be generated to theMLME associated with the channel number, operating class, and band ID specified in the Multi-band element negotiated during the FST session setup. This primitive notifies the MLME of animpending FST session transfer. c)The initiator shall send an FST Ack Request frame or may send any other individually addressed A-MPDU, MPDU, or MMPDU to the responder. NOTE  Depending on the BSS configuration in the new band/channel, the initiator might have to associateand/or authenticate with the BSS before it is allowed to transmit a frame to the responder.d)Upon receipt of an FST Ack Request frame, the responder shall respond to the initiator with an FSTAck Response frame. NOTE  Depending on the BSS configuration in the new band/channel, the responder might have to associateand/or authenticate with the BSS before it is allowed to transmit a frame to the initiator.e)The initiator shall move to the Transition Confirmed state1)Upon transmission of an ACK frame sent in response to any individually addressed frame,including an FST Ack Response frame, received from the responder; or2)When the initiator receives an ACK frame from the responder to any non-FST Ack Requestframe the initiator transmitted to the responder. f)The responder shall move to the Transition Confirmed state1)When the responder receives an ACK frame in response to any individually addressed frame,including an FST Ack Response frame, sent to the initiator; or2)Upon transmission of an ACK frame sent in response to any individually addressed non-FSTAck Request frame. Following the transition to the Transition Confirmed state, a STA shall adopt the role indicated in the STARole field corresponding to the channel number, operating class and band ID that was last transmitted to thepeer STA within the Multi-band element. If the STA operated within a PBSS was the initiator of the FSTsession and the new role of the STA is as an IBSS STA, then the STA shall be a DFS Owner of the IBSS. In case the transition to the Transition Confirmed state was the result of a Stream-based Link LossCountdown, the stream shall remain in the Transition Confirmed state until all the streams included withinthe corresponding Switching Stream element reach the Transition Confirmed state. Once all streams withinthe corresponding Switching Stream element reach the Transition Confirmed state or the FST session ceasesto exist, the STA moves to the Initial state


page 431
403If neither the initiator nor the responder perform in the role of PCP or AP as indicated through the STA Rolefield within the Multi-band element corresponding to the new band for that STA, one of the STAs caninitialize a new BSS (10.1, Annex R) on the new band for communication between the STAs. If the value of the Switch intent field in the last Session Transition element transmitted to a responder is 1,an initiator may switch to the new band and channel indicated in the last transmitted FST Setup Requestframe and Multi-band element, respectively, if at least one of the following conditions is satisfied:  The value of the Status Code field within the FST Setup Response frame received in response to thetransmitted FST Setup Request frame is equal to 37 (   The request has been declined   ).  The initiator moves to the Initial state due to the STT at the initiator moving from 1 to 0.  The initiator moves to the Initial state due to the reception of an FST Tear Down frame from theresponder.Immediately before a initiator switches to a new band and/or channel, the initiator shall disassociate anddelete all TS and BA agreement(s) it has with a responder for which at least one of the above conditions ismet. Following the successful FST transition to a new band, the STA of the FST session shall follow the mediumaccess rules applicable on the new band.10.32.2.3 FST TS switchingIf a STA transmitting an FST Setup Request or an FST Setup Response does not intend to switch all itsstreams, then the STA shall include the Switching Stream element in the transmitted frame to indicate whichstreams are requested to be transferred to the other band/channel. If the FST Setup Request frame includes aSwitching Stream element, the FST Setup Response frame should include a Switching Stream element. Ifthe FST Setup Request frame does not include a Switching Stream element, the FST Setup Response framemay include a Switching Stream element. If the STA transmitting the Switching Stream element has not setup a stream in the band indicated in the New Band ID field within this element, it shall set the Stream ID inNew Band Valid field to 0. A STA may set up a stream in any band/channel by transmitting ADDBARequest or ADDTS Request frames that include the Multi-band element.If a STA transmits an ADDTS Request frame to another STA with which it has established an FST sessionand the ADDTS Request frame is transmitted in a band or channel different from the band or channel towhich the ADDTS Request is intended to apply, the ADDTS Request frame shall include the Multi-bandelement with the Band ID, Operating Class, and Channel Number fields set to indicate to which channel theADDTS Request frame applies. In addition, if these STAs use the nontransparent mode for FST sessiontransfer, the STA transmitting the ADDTS Request frame sets the STA MAC Address Present field to 1 andthe STA MAC Address field to the MAC address that the STA uses in the band and channel number that areindicated in the Multi-band element contained in the ADDTS Request frame. Similar to the ADDTSRequest frame, the Multi-band element shall be included in the ADDBA Request, ADDTS Response,ADDBA Response, DELTS, and DELBA frames when these frames are transmitted in a band or channeldifferent from the band or channel to which they are intended to apply.When using transparent mode to transfer an FST session corresponding to a TID/TSID, the Directionsubfield within the TSPEC element, if any, used to set up the TID/TSID should not be set to indicate abidirectional link. This enables the SME to use the TID/TSID in conjunction with the source and destinationMAC addresses in both the old and new frequency band/channel to uniquely identify the FST session.If any of the ADDTS variants is used to switch the TS, the PTP TSPEC or the DMG TSPEC shall be usedwhen the TS is being established to operate in a DMG BSS, and the Basic TSPEC shall be used when the TSis being established to operate in a non-DMG BSS irrespective of the band and channel used tocommunicate the ADDTS frames and the DMG ADDTS frames


page 432
The rules defined below apply when the ADDTS frames or the DMG ADDTS frames are used to switch TS.When the ADDTS frames and the DMG ADDTS frames are used, then the ADDTS requester and theADDTS responder provide the functions defined for the ADDBA Originator and the ADDBA Recipient,respectively.If the ADDBA Recipient includes the Switching Stream element in any of the FST Setup Request or FSTSetup Response frames and if the Stream ID in New Band Valid field within the Switching Stream elementis 0, the ADDBA Originator should issue the DELBA frame to reject the BA agreements indicated in theStream ID in Old Band field. If the Originator intends to establish new BA agreements in the band indicatedin the Multi-band element sent by the Recipient and with the Recipient MAC address indicated in the Multi-band element sent by the Recipient, the Originator shall transmit an ADDBA Request frame addressed to theRecipient. The Originator may include the Multi-band element and the Ethernet type TCLAS element in the ADDBArequest frame. If the MAC Addresses of the Originator and Recipient to be used in the new band aredifferent from the MAC addresses used in the old band, then the ADDBA frame sent in the old band toestablish a Block Ack in the new band shall include the Multi-band and the TCLAS elements. The resultingBA agreement, if established, applies to the band and channel identified in the Multi-band element includedin the ADBBA frame. The BA is identified by the TID/TSID and MAC addresses of the Originator and theRecipient used in the band and channel indicated in the Multi-band element included in the ADDBA frames.The ADDBA Request frame may be issued in the old band and channel, and the corresponding ADDBAResponse frame may be transmitted in the band and channel indicated in the Multi-band element within theADDBA Request frame. The following rules for the multi-band BA establishment shall apply:1)If the TA and/or the RA fields of the ADDBA Request frame are different from the Originator MACaddress and/or the Recipient MAC address, respectively, used in the channel and band where the BAagreement should operate, then the Originator shall set the Source Address field and the DestinationAddress field of the classifier to the Originator MAC Address and the Recipient MAC address,respectively, to be used in the band and channel indicated in the Multi-band element included in theADDBA Request frame.2)If the TA and RA are equal to the Originator MAC address and the Recipient MAC address,respectively, then the Multi-band element, if any, included in the ADDBA Request frame shallindicate the band and channel over which the established BA is operating. The TCLAS element shallnot be included in this ADDBA Request frame. 3)The Multi-band element should not be included in the ADDBA Request frame if in the case (2) theADDBA Request frame is issued in the same band and channel over which the BA shall operate.4)If the TA and/or the RA fields of the ADDBA Response frame are different from the RecipientMAC address and/or the Originator MAC address, respectively, to be used in the channel and bandwhere the BA agreement should operate, then the Recipient shall set the Source Address field andthe Destination Address field of the classifier to the Recipient MAC Address and the OriginatorMAC address, respectively, to be used in the band and channel indicated in the Multi-band elementincluded in the ADDBA Response frame. The indicated band and channel shall be equal to the bandand channel indicated in the Multi-band element of the ADDBA Request frame.5)If the TA and RA fields are equal to the Recipient MAC address and the Originator MAC address,respectively, then the Multi-band element, if any, included in the ADDBA Response frame shallindicate the band and channel over which the established BA is operating. The indicated band andchannel shall be equal to the band and channel indicated in the Multi-band element of the ADDBARequest frame. The TCLAS element shall not be included in the ADDBA Response frame


page 433
4056)The Multi-band element should not be included in the ADDBA Response frame if in case 5) theADDBA Response frame is issued in the same band and channel over which the BA, if established,shall operate.10.32.3 FST teardownAt the Setup Completion state or Transition Done state, a STA may transmit an FST Tear Down frame to itspeer STA of the FST session in order to tear down an FST session that was previously set up using the FSTSetup Request/Response frame exchange. Upon transmission or reception of an FST Tear Down frame, theinitiator and responder move to the Initial state (10.32.2). When moving to the Initial state and if the value ofthe Switch intent field in the last Session Transition element transmitted to a responder is 1, the initiatorbehaves as described in 10.32.2.2. 10.32.4 On-channel Tunneling (OCT) operationOCT allows a STA of a multi-band capable device to transmit an MMPDU that was constructed by adifferent STA of the same device. An MMPDU transmitted this way is referred to as an OCT MMPDU. TheMLME of the nontransmitting STA that constructs or is the destination of an OCT MMPDU is referred to asan NT-MLME. The MLME of the STA that transmits or receives an OCT MMPDU over the air is referredto as a TR-MLME. NOTE  OCT can be used in conjunction with or independent from the FST setup protocol.Figure10-35 depicts the overall OCT procedure. In this figure, <primitive> refers to the name of any of theMLME primitives defined in 6.3 that meets all of the following conditions:  Defines request, indication, response, and confirm primitives, or just request and indicationprimitives.  Includes a peer Multi-band element. The peer Multi-band element is used to identify the peer NT-MLME.  Includes a local Multi-band element. The local Multi-band element is used to identify the local NT-MLME.An MLME primitive meeting all of the above conditions is referred to as an OCT MLME primitive.NOTE  MLME-AUTHENTICATE, MLME-ASSOCIATE, and MLME-REASSOCIATE are examples of primitivesthat are OCT MLME primitives.To transmit a tunneled MMPDU, the SME of a multi-band capable device generates an OCT MLME requestprimitive that includes the peer Multi-band element and the local Multi-band element.A NT-MLME receiving an OCT MLME request primitive shall  As defined in this standard, process the request and construct an OCT MMPDU corresponding to theprimitive in question. The NT-MLME shall not transmit any frame as a result of this primitive.   Generate an MLME-OCTunnel.request primitive with parameters including the OCT MMPDU andthe peer Multi-band element. The MLME-OCTunnel.request primitive shall be generated to the TR-MLME identified by the local Multi-band element which is contained within the OCT MMPDU.A TR-MLME receiving an MLME-OCTunnel.request primitive shall transmit an On-channel TunnelRequest frame addressed to the peer TR-MLME and which includes the tunneled MMPDU.A TR-MLME receiving an On-channel Tunnel Request frame shall generate an MLME-OCTunnel.indication primitive. The MLME-OCTunnel.indication primitive shall be generated to the NT-MLME identified by the peer Multi-band element contained within the received On-channel Tunnel Requestframe


page 434
A NT-MLME receiving an MLME-OCTunnel.indication primitive shall  As defined in this standard, process the OCT MMPDU parameter of the primitive as if the MMPDUhad been received over the air.  Generate an OCT MLME indication primitive corresponding to the frame type of tunneledMMPDU. This primitive is generated to the SME of the STA, which processes the MMPDU asdefined in this standard.In the case of a .request/.indication primitive, the process stops here. Otherwise, the process continues asdescribed below.The peer SME responds to the reception of an OCT MLME indication primitive by generating thecorresponding OCT MLME response primitive. This response includes the peer Multi-band element and thelocal Multi-band element.A NT-MLME receiving an OCT MLME response primitive shall  As defined in this standard, process the response and construct an OCT MMPDU corresponding tothe primitive in question. The NT-MLME shall not transmit any frame as a result of this primitive.  Generate an MLME-OCTunnel.request primitive with parameters including the OCT MMPDU andthe peer Multi-band element. The MLME-OCTunnel.request primitive shall be generated to the TR-MLME identified by the local Multi-band element which is contained within the OCT MMPDU.A TR-MLME receiving an MLME-OCTunnel.request primitive transmits an On-channel Tunnel Requestframe addressed to the peer TR-MLME that includes the tunneled MMPDU.A TR-MLME receiving an On-channel Tunnel Request frame generates an MLME-OCTunnel.indicationprimitive. The MLME-OCTunnel.indication primitive is generated to the NT-MLME identified by the peerMulti-band element contained within the received On-channel Tunnel Request frame.Multi-band capable deviceMulti-band capable deviceSMENT-MLMETR-MLMESMENT-MLMETR-MLMEOn-channel Tunnel RequestframeMLME-<primitive>.ind (Tunnel=TR-MLME)MLME-<primitive>.cfm(Tunnel=TR-MLME)On-channel Tunnel RequestframeMLME-OCTunnel.ind (tunneled MMPDU)MLME-<primitive>.rsp(Tunnel=TR-MLME)MLME-<primitive>.req(Tunnel=TR-MLME)MLME-OCTunnel.req (tunneled MMPDU)MLME-OCTunnel.req (tunneled MMPDU)MLME-OCTunnel.ind (tunneled MMPDU)Figure 10-35  On-channel tunneling procedur


page 435
407A NT-MLME receiving an MLME-OCTunnel.indication primitive  Processes the OCT MMPDU parameter of the primitive as if the MMPDU had been received overthe air.  Generates an OCT MLME confirm primitive corresponding to the frame type of the OCT MMPDU.This primitive is directed at the SME.10.32.5 FST payloadWhen FST action frames are forwarded by an AP, FST uses Ethertype 89-0d frames as defined in Annex H.In this case, the FST payload contains an FST Action frame body as is specified in 8.5.21.10.33  MMSL cluster operation10.33.1 IntroductionA STA is MMSL cluster capable if it includes an MMS element in its most recent transmission of(Re)Association Request, (Re)Association Response, ADDTS Request, ADDTS Response, Probe Request,Probe Response, Information Request, or Information Response frames. An MM-SME coordinated STA shall be MMSL cluster capable, except for an MM-SME that coordinatestwo STAs where one STA is a member PCP/AP in a centralized PCP/AP cluster and the other STA isassociated to the S-AP of the centralized PCP/AP cluster.NOTE  In the centralized clustering case, the two STAs in the MM-SME are communicating with different MACentities with different SMEs, so there is no individual link for MMSL.A non-MM-SME coordinated STA may be MMSL cluster capable.An MMSL cluster capable STA shall include an MMS element in transmitted (Re)Association Request and(Re)Association Response frames. As described in 4.9.3, an MM-SME may coordinate multiple MACs (and their respective STAs). Each STA coordinated by the same MM-SME may be used for the MMSL cluster setup and maintenance. The PCP may deliver an MMS element that includes a MAC address that is equal to the BSSID and otherMAC addresses that are not equal to the BSSID. The MAC addresses that are not the BSSID shall not beused to request and respond to association, reassociation, probing, and scheduling services provided by thePCP. If a non-PCP/non-AP STA has delivered an MMS element to the PCP/AP, the non-PCP/non-AP STA shallnot send an ADDTS Request frame to the PCP/AP with the TA field equal to a MAC address that was notincluded in the delivered MMS element.If an MM-SME coordinated STA is associated with a PCP/AP that allocates one single AID to all STAsadvertised in the MMS element sent by the MM-SME coordinated STA, the AID can be also used to identifythe MMSL cluster. If the AID is provided for one of the advertised STAs of the MM-SME coordinated STA,then the same AID applies to all STAs whose addresses are referenced in the delivered MMS element andthe Single AID field is set as per Table8-183t. Table10-17 covers the possible cases of the AID use for MMSL cluster identification


page 436
10.33.2 MMSL cluster setup10.33.2.1 GeneralTo establish an MMSL cluster, an MMS element of an MM-SME coordinated STA that lists its advertisedSTAs shall be delivered to the peer STA. The peer STA may be an MM-SME coordinated STA or a non-MM-SME coordinated STA. An MMSL cluster is identified by one of the following: a)Advertised MAC addresses of the MAC entities of two MM-SME coordinated STAs b)Advertised MAC addresses of the MAC entities of an MM-SME coordinated STA and of a non-MM-SME coordinated STAIn both cases, the MMS element shall be exchanged between the STAs to set up the MMSL clusteragreement. If an MMSL cluster capable non-MM-SME coordinated STA receives an ADDTS Request frame thatincludes an MMS element, the SME of the non-MM-SME coordinated STA shall include the received MMSelement in the MLME-ADDTS.response primitive used to send the ADDTS Response frame if the SMEaccepts the MMSL cluster setup. The SME of the non-MM-SME coordinated STA may set the MMSElement Owner field to    no Owner    in the MMS element included in an MLME-ASSOCIATE.requestprimitive and MLME-ADDTS.request primitive to establish the MMSL cluster with an MM-SMEcoordinated STA. The MMS element shall be exchanged between the STAs of the MMSL cluster only once per MMSL clustersetup.Table 10-17  Setting of Single AID fieldMMSL cluster configuration Is the Single AID allocated to the MM-SME coordinated STA A?Is the Single AID allocated to the MM-SME coordinated STA B?AID identification of MMSL clusterNon-PCP/non-AP MM-SME coordinated STA A is associated to PCP MM-SME coordinated STA B.YesYesYesNon-PCP/non-AP MM-SME coordinated STA A and non-PCP/non-AP MM-SME coordinated STA B are both associated to the same BSS.YesYesYesNon-PCP/non-AP MM-SME coordinated STA A is associated to a BSS and non-PCP/non-AP MM-SME coordinated STA B is not associated to the BSS.YesNoNoNon-PCP/non-AP MM-SME coordinated STA A and non-PCP/non-AP STA B are both associated to the same BSS. YesNAYesNon-PCP/non-AP MM-SME coordinated STA A is associated to a BSS and one MAC entity of non-PCP/non-AP MM-SME coordinated STA B is associated to the same BSS.YesNAYe


page 437
40910.33.2.2 MMSL cluster setup of non-PCP/non-AP MM-SME coordinated STA with PCP/APThe Association Request and Response frames are used to establish an MMSL cluster between a non-PCP/non-AP MM-SME coordinated STA and a PCP/AP. The MMS Control field within the MMS elementincluded in the Association Request and Response frame should be asserted as per 8.4.2.155. If the PCP/APis not an MM-SME coordinated STA, the PCP/AP shall include the MMS element received from the non-PCP/non-AP MM-SME coordinated STA in the Association Response frame sent as response. If the PCP/AP is an MM-SME coordinated STA, the PCP/AP should include its own MMS element that contains itsadvertised MAC entities in the Association Response frame and shall not include the MMS element receivedfrom the non-PCP/non-AP MM-SME coordinated STA in the Association Response frame. The PCP/APshall not respond with any MMS element if it is not MMSL cluster capable. The setup of the MMSL cluster fails if the Association Response frame does not contain the MMS element.10.33.2.3 MMSL cluster setup of non-PCP/non-AP STA with another non-PCP/non-AP STAIf a non-PCP/non-AP MM-SME coordinated STA associated with a PCP/AP has established an AIDidentified MMSL cluster with the PCP/AP, the non-PCP/non-AP MM-SME coordinated STA shall not use aMAC address that was not included in the MMS element delivered to the PCP/AP to establish an MMSLcluster with another non-PCP/non-AP MM-SME coordinated STA associated with the same PCP/AP.An ADDTS Request/Response frame exchange with a PTP TSPEC shall be used to establish the MMSLcluster between non-PCP/non-AP MM-SME coordinated STAs and between a non-PCP/non-AP MM-SMEcoordinated STA and a non-PCP/non-AP non-MM-SME coordinated STA.A non-PCP/non-AP MM-SME coordinated STA shall include an MMS element that contains its advertisedMAC entities in transmitted ADDTS Request frames. The MMS Control field within the transmitted MMSelement should be asserted as per 8.4.2.155. If the non-PCP/non-AP STA is not an MM-SME coordinatedSTA, the non-PCP/non-AP STA should include the MMS element with the MMS Element Owner field setto    no Owner    in the ADDTS Request frame.The non-PCP/non-AP MM-SME coordinated STA shall include its own MMS element that contains itsadvertised MAC entities in transmitted ADDTS Response frames. The MMS Control field within thetransmitted MMS element should be asserted as per 8.4.2.155. The non-MM-SME coordinated STA mayinclude the MMS element of the MM-SME coordinated STA from which it received an ADDTS Requestframe in the ADDTS Response sent as response. The non-MM-SME coordinated STA shall not respondwith any MMS element if it is not MMSL cluster capable. The setup of the MMSL cluster fails if the ADDTS Response does not contain the MMS element.10.34 DMG coexistence with non-IEEE-802.11 systemsThis subclause describes the features available in this standard to improve coexistence with other DMGsystems, including IEEE Std 802.15.3cTM.The same common channelization that is defined in other DMG standards and specifications is adopted(21.3.1). In regulatory domains where 2 or more channels are defined, a DMG STA should support at least2channels. An AP should not start an infrastructure BSS on a channel where the signal level is at or aboveaDMGDetectionThres or upon detecting a valid IEEE 802.15.3c CMS preamble at a receive level equal to orgreater than   60 dBm


page 438
If a DMG STA is capable of performing directional channel measurements (10.31) to detect non-IEEE-802.11 transmissions on a channel, it can report the results of the measurements to the DMG STA   sPCP/AP.If a DMG STA detects a non-IEEE-802.11 transmission on its channel or if the PCP/AP receives a report(10.11) from a DMG STA on a non-IEEE-802.11 transmission, the following mechanisms might be used tomitigate interference:   Change operating channel (10.9)  Beamforming (9.35)  Reduce transmit power (10.8)  Perform FST (10.32)   Move the TBTT (10.30.2), and thus the beacon interval, in the case of an AP or PCP  Change the schedule of SPs and CBAPs in the beacon interval (8.4.2.134) in the case of an AP orPCP  Defer transmission for a later time  For periods of time in the beacon interval where the DMG STA experiences poor channel quality,the DMG STA can use the TSCONST field within the DMG TSPEC element (8.4.2.136) to requestits PCP/AP to avoid scheduling an SP for that DMG STA during those periods of time in the beaconinterval.10.35 DMG relay procedures10.35.1 GeneralRelaying allows a source relay endpoint DMG STA (REDS) to transmit frames to a destination REDS withthe assistance of another DMG STA called the relay DMG STA (RDS). Relaying can improve the reliabilityof communication in a DMG BSS in case the direct link between the source REDS and the destinationREDS is disrupted. A STA is a REDS if both dot11REDSActivated and dot11RelayActivated are true. A REDS shall set theRelay Usability field within its Relay Capabilities element to 1. A STA is an RDS if bothdot11RDSActivated and dot11RelayActivated are true. An RDS shall set the Relay Supportability fieldwithin its Relay Capabilities element to 1. A STA is relay capable if dot11RelayActivated is true and it iseither a REDS or an RDS or both, and it is relay incapable otherwise.A relay capable STA shall advertise its capability by including the Relay Capabilities element in(Re)Association Request, (Re)Association Response, Probe Request, Probe Response, Information Request,and Information Response frames. An AP or relay capable PCP may include the Relay Capabilities elementin DMG Beacon frames. For a STA to operate as a REDS or an RDS in an Infrastructure BSS or PBSS, the following conditions shallbe met:   The STA is a member of the Infrastructure BSS or PBSS.   The TDDTI field within the DMG STA Capabilities element of the PCP/AP of the BSS is 1.  The Relay permission field within the Relay Capabilities element of the PCP/AP of the BSS is 1.After an RDS selection through the common relay setup procedures defined in 10.35.2 and prior to dataframe transmission, a source REDS, a destination REDS and an RDS shall establish pair-wise authenticationamong these STAs if the dot11RSNAEnabled variable for any of these STAs is true


page 439
411A source REDS, a destination REDS and an RDS can establish the types of relay operation as specified in9.39. As needed, in the following subclauses, source REDS, RDS, and destination REDS are expressed as    S   ,   R   , and    D   , respectively. Also, a direct link between STA S and STA D can be simply referred to as    S-D   link.10.35.2 Common relay setup procedures10.35.2.1 IntroductionThis subclause describes the procedures that a source REDS, a destination REDS, and an RDS employ to setup a relay operation among these STAs. These procedures are used for both link switching and linkcooperating relays, and shall be performed in the order shown in this subclause.10.35.2.2 Relay capabilities and RDS discovery proceduresA source REDS can obtain the capabilities of other STAs in the BSS following the STA   s association withthe BSS or with the transmission of an Information Request frame as described in 10.29.1.A source DMG STA that intends to set up relay operation with a destination DMG STA shall obtain thecapabilities of the destination DMG STA prior to initiating the relay setup procedure with the destinationDMG STA. The source DMG STA may attempt to set up relay operation with the destination DMG STAonly if both the source DMG STA and destination DMG STA are REDS, and there exists at least one RDSin the BSS.Upon receiving an MLME-RELAYSearch.request primitive, the source DMG STA can discover a list ofRDSs in the BSS by transmitting a Relay Search Request frame to the PCP/AP with the destination REDSAID field set to the AID of the destination DMG STA. The MLME of the PCP/AP receiving a Relay SearchRequest frame shall generate an MLME-RELAYSearch.indication primitive. Upon receiving an MLME-RELAYSearch.response primitive, the PCP/AP shall transmit a Relay Search Response frame addressed tothe requesting STA and shall include in the transmitted frame a list of RDSs in the BSS. The MLME of thesource DMG STA receiving a Relay Search Response frame shall generate an MLME-RELAYSearch.confirm primitive. After the transmission of the Relay Search Response frame to the sourceDMG STA, the PCP/AP shall transmit an unsolicited Relay Search Response frame to the destination DMGSTA with the Relay Capable STA Info field of the source DMG STA and the list of RDSs that the PCP/APincluded in the last Relay Search Response frame transmitted to the source DMG STA. 10.35.2.3 RDS selection procedureFollowing the transmission of a Relay Search Response frame, the PCP/AP should schedule within itsExtended Schedule element two SPs for each RDS included in the transmitted Relay Search Responseframe:  An SP having as source DMG STA the source REDS and as destination DMG STA the RDS, andwith the Beamforming Training field set to 1. The duration of the SP should be such that the sourceREDS and RDS can complete BF as described in 9.35.  An SP having as source DMG STA the RDS and as destination DMG STA the destination REDS,and with the Beamforming Training field set to 1. The duration of the SP should be such that theRDS and the destination REDS can complete BF as described in 9.35.After the RDS completes BF with both the source REDS and destination REDS, the source REDS shall senda Multi-Relay Channel Measurement Request frame to the RDS, which shall respond with the transmissionof a Multi-Relay Channel Measurement Report frame back to the source REDS. Following the reception o


page 440
this frame, the source REDS should perform BF with the destination REDS as described in 9.35, and onceBF is completed the source REDS shall transmit a Multi-Relay Channel Measurement Request frame to thedestination REDS. In response, the destination REDS shall transmit a Multi-Relay Channel MeasurementReport frame to the source REDS including the channel measurement information between the destinationREDS and all RDSs known to the destination REDS. To shorten the time it takes to complete this procedure,STAs can limit BF to the SLS phase only.Once this procedure is completed, the source REDS becomes aware of all the channel measurementinformation between the source REDS and zero or more RDSs and between the destination REDS and zeroor more RDSs. The source REDS shall then select a single STA to operate as the RDS between the sourceREDS and the destination REDS. The selection of the RDS is implementation-dependent, and it can bebased on information contained within an RDS   s Relay capability element and channel measurements.10.35.2.4 RLS procedureFollowing the selection of the RDS to be used between the source REDS and the destination REDS, thesource REDS receiving an MLME-RLS.request primitive initiates the RLS procedure by sending an RLSRequest frame to the selected RDS. The RLS Request frame includes the capabilities and the AIDs of thesource REDS, the destination REDS, and the RDS, and the relay transfer parameter set. Upon receiving theRLS Request frame, the RDS shall transmit an RLS Request frame to the destination REDS containing thesame information as received within the frame body of the source REDS   s RLS Request frame.The MLME of the destination REDS receiving a Relay Search Request frame shall generate an MLME-RLS.indication primitive. Upon receiving an MLME-RLS.response primitive, the destination REDS shalltransmit an RLS Response frame to the RDS with the destination status code field set to SUCCESS if thedestination REDS is willing to participate in the RLS, and set to 37 (   The request has been declined   ) if thedestination REDS is not willing to participate in the RLS. Upon receiving the RLS Response frame, the RDSshall transmit an RLS Response frame to the source REDS containing the same information as receivedwithin the destination REDS   s RLS Response frame, with the exception that the RDS shall set the relaystatus code field to SUCCESS if the RDS is willing to participate in the RLS, and shall set it to 37 (   Therequest has been declined   ) if the RDS is not willing to participate in the RLS. The MLME of the source DMG STA receiving an RLS Response frame from the RDS shall generate anMLME-RLS.confirm primitive. Upon receiving an RLS Response frame with the destination status codeand relay status code fields set to SUCCESS, the source DMG STA may transmit an RLS Announcementframe to the PCP/AP to indicate that the RLS procedure was successfully completed. If either or both of thedestination status code and relay status code fields are nonzero, the RLS procedure is unsuccessful. Upon the completion of RLS procedure, the source REDS, the destination REDS, and the RDS can redo BFamong them.10.35.3 Relay operation-type change procedureThe source REDS may change the relay operation type from link switching to link cooperating, and vice-versa, if either one of S-D, or S-R, or R-D links becomes unavailable or for other reasons. Linkunavailability can be determined by the source DMG STA not receiving expected frames from thedestination REDS. To assist in this decision, the source REDS can use the link adaptation procedure (9.39.4)to obtain the quality of a link. To change the relay operation type within an SP from link cooperating to link switching in a case that the S-D link becomes unavailable, the source REDS shall transmit a ROC Request frame to the RDS with the linkcooperating subfield set to 0 and the relay-link subfield set to 1. Upon receiving a ROC Request frame, theRDS shall transmit a ROC Request frame to the destination REDS containing the same information asreceived within the frame body of the source REDS   s ROC Request frame. Following the reception of 


page 441
413ROC Request frame, the destination REDS shall respond with a ROC Response frame to the RDS with thestatus code field set to SUCCESS if the destination REDS accepts to change the operation into linkswitching, and set to 37 (   The request has been declined   ) if the destination REDS rejects the request. Uponreceiving the ROC Response frame, the RDS shall transmit a ROC Response to the source REDS with thestatus code field set to SUCCESS only if the RDS accepts to change the operation into link switching andthe status code field set to SUCCESS in the ROC Response frame received from destination REDS.Otherwise, the RDS shall set the status code field to 37 (   The request has been declined   ). Upon reception ofa ROC Response from the RDS with the status code field set to SUCCESS, the source REDS immediatelystarts to transmit frames to the destination REDS via the RDS relay link. To change the relay operation type from link cooperating to link switching in other case that the S-R linkbecomes unavailable, the source REDS shall a ROC Request frame to the destination REDS with the linkcooperating subfield set to 0 and the relay-link subfield set to 0. Following the reception of a ROC Requestframe, the destination REDS shall respond with a ROC Response frame to the source REDS with the statuscode field indicating the acceptance or rejection of the request. Upon reception of a ROC Response from thedestination REDS with the status code field set to SUCCESS, the source REDS starts to transmit frames tothe destination REDS via the direct link in link switching mode. To change the relay operation type within an SP from link switching to link cooperating, the source REDSshall transmit a ROC Request frame to the destination REDS via the RDS with the link cooperating subfieldset to 1. Following the reception of a ROC Request frame from the RDS, the destination REDS shall respondwith a ROC Response frame to the source REDS via the RDS with the status code field indicating theacceptance or rejection of the request. Upon reception of a ROC Response frame from the RDS with thestatus code field set to SUCCESS, the source REDS immediately starts to transmit frames to the destinationREDS using the RDS in link cooperating mode. If a TPA procedure was not performed beforehand since thelink switching operation has been continued from the start of relay operation, the STA shall perform theTPA procedure before transmitting using link cooperating mode.NOTE  As described in 9.39.3.2.3, during the SP in link cooperating operation the destination REDS has its receiveantenna pattern such that it simultaneously covers the links towards both the source REDS and the RDS.10.35.4 Relay teardownA source REDS that has successfully completed the RLS procedure with a destination REDS may teardownthe relay operation between the source REDS, destination REDS and RDS. To do that, the source REDSshall transmit an RLS Teardown frame to the RDS, destination REDS and PCP/AP of the BSS. Within theRLS Teardown frame, the source REDS shall set the source AID field to the AID of the source REDS, thedestination AID field to the AID of the destination REDS and the relay AID field to the AID of the RDS.A RDS may teardown the relay operation between the source REDS, destination REDS and RDS. To dothat, the RDS shall transmit an RLS Teardown frame to the source REDS, destination REDS and PCP/AP ofthe BSS. Within the RLS Teardown frame, the RDS shall set the source AID field to the AID of the sourceREDS, the destination AID field to the AID of the destination REDS and the relay AID field to the AID ofthe RDS.10.36 Quieting adjacent DMG BSSs10.36.1 GeneralAn AP that supports QAB shall set the QAB Capability field within the AP   s Extended Capabilities elementto 1 and shall set the QAB Capability field to 0 otherwise. In addition, if an AP supports QAB, the AP shallalso support scheduling SPs as defined in 9.33.6


page 442
10.36.2 Procedure at the requester APUpon receipt of an MLME-QAB.request primitive, an AP shall perform the following procedure to start theQuiet Adjacent BSS operation (Figure10-36): a)If both the requester and responder APs are QAB capable as indicated by the QAB Capability fieldwithin the Extended Capabilities element, the requester AP sends a QAB Request frame indicatingthe duration, period, offset, and number of the quiet intervals. The requester AP may includemultiple Quiet Period Request elements in one frame targeting multiple responder APs. b)If a QAB Response frame is received with the matching dialog token and request token with a statuscode set to a value of SUCCESS, the AP has confirmed the responder AP has scheduled therequested quiet periods, and the MLME shall issue an MLME-QAB.confirm primitive indicating thesuccess of the procedure.c)If a QAB Response frame is received with the matching dialog and request token with a status codeset to a value other than SUCCESS, the procedure is considered to have failed, and the MLME shallissue an MLME-QAB.confirm primitive indicating the failure of the procedure. d)If there is no response from the recipient within dot11QABTimeout, the MLME shall issue anMLME-QAB.confirm primitive indicating the failure of the procedure with a result code ofTIMEOUT. NOTE  The GAS protocol can be used by an AP to verify the capabilities of another AP. 10.36.3 Procedure at the responder APA responder AP shall operate as follows (Figure10-36):a)When a QAB.Request frame matching the BSSID is received from another AP, the MLME shallissue an MLME-QAB.indication primitive.b)Upon receipt of the MLME-QAB.response primitive, the AP shall respond by transmitting a QABResponse frame. 1)If the result code is SUCCESS, the request is accepted. The AP shall use SPs to schedule thequiet period(s) according to the accepted request. The SPs shall have the AP as both source anddestination and the AP shall not transmit during the SP. The QAB procedure shall beterminated if the number of quiet intervals exceeds the value of the Repetition Count fieldspecified. Contained in the transmitted QAB Response frame is the copy of the request tokenand the BSSID of the AP.2)If the result code is REJECTED, the request has not been fulfilled.10.37 DMG beamformingUpon receipt of an MLME-BF-TRAINING.request primitive, a STA shall undertake beamforming trainingwith the STA indicated by the PeerSTAAddress parameter according to the procedures defined in 9.35. Thistraining shall start with the SLS and shall include the BRP if and only if the RequestBRP parameter of theMLME-BF-TRAINING.request primitive is true.A STA receiving MLME-BF-TRAINING.request primitive may act as either initiator or responder in thebeamforming training.If the STA indicated by the PeerSTAAddress parameter of a received MLME-BF-TRAINING.requestprimitive is a PCP or AP of a BSS in which a STA is a member, the STA receiving the MLME-BF-TRAINING.request primitive may perform beamforming training during the A-BFT as described in 9.35.5.Alternatively, the STA receiving the MLME-BF-TRAINING.request primitive may use an SP or a TXOP toperform ISS as described in 9.35.2.2


page 443
415A STA receiving the MLME-BF-TRAINING.request primitive shall issue an MLME-BF-TRAINING.confirm primitive on completion of the requested beamforming training or on timeout asspecified in 9.35.A STA that performs beamforming training with a peer STA at the request of the peer STA shall issue aMLME-BF-TRAINING.indication primitive on completion of that beamforming training, or on timeout asspecified in 9.35.Figure10-37 illustrates an example of the beamforming training procedure in the DTI for a case where theSTA receiving the MLME-BF-TRAINING.request primitive acts as initiator.Figure10-38 illustrates an example of the beamforming training procedure in the context of a non-PCP/non-AP STA joining an infrastructure BSS or PBSS. In this scenario, the MLME-BF-TRAINING.requestprimitive is issued by the STA attempting to associate in order that the link be trained to a degree that allowsthe over-the-air exchanges necessary for association to succeed.AP SMEAP MACAP MACAP SMEMLME-QAB.requestQAB RequestQAB ResponseMLME-QAB.indicationMLME-QAB.responseMLME-QAB.confirmQAB timerFigure 10-36  Quieting adjacent BSS operatio


page 444
SMEMACPeer SMEPeer  MACSSWSSWSSW...MLME-BF-TRAINING.requestSSWSSWSSW...SSW FeedbackSSW AckBRP frameBRP frameBRP frame...If BRP requestedMLME-BF-TRAINING.indicationMLME-BF-TRAINING.confirmISSRSSFigure 10-37  Beamforming training procedure in the DTINon-PCP/non-AP SMENon-PCP/non-AP MACPCP/AP SMEPCP/AP MACMLME-SCAN.requestDMG BeaconDMG Beacon ...MLME-BF-TRAINING.indicationMLME-BF-TRAINING.confirmScan detects a PCP or AP of interestMLME-JOIN.requestMLME-SCAN.confirmMLME-JOIN.confirmMLME-BF-TRAINING.requestSLS (possibly as responder using I-TXSS from BTI and with RSS in A-BFT or DTI), followed by BRP if requested by either side.MLME-ASSOCIATE.requestAssociation RequestMLME-ASSOCIATE.indicationMLME-ASSOCIATE.confirmAssociation ResponseMLME-ASSOCIATE.responseFigure 10-38  Beamforming training when joining an infrastructure BSS or PBS


page 445
41710.38 DMG MAC sublayer parametersThe parameters that define some of the MAC characteristics are given in Table10-18. Table 10-18  DMG MAC sublayer parameter valuesParameterValueaMaxBIDuration1000 TUsaMinChannelTimeaMaxBIDurationaMinBTIPeriod4aMinSwitchInterval2  aMinBTIPeriodaMaxSwitchInterval16  aMinSwitchIntervalaTSFResolution1   saDMGPPMinListeningTime150   saSSFramesPerSlot4aSSDuration (FSS    1)    SBIFS + FSS    TXTIME(SSW)aSSFBDurationTXTIME(SSW-Feedback)aMinSSSlotsPerABFT1aRTSTimeoutTimeTXTIME(RTS) + aAirPropagationTime + aRxRFDelay + aMACProcessingDelay aClockAccuracy   20 ppm aMinNAVTimersNumber2aCWminDMGIBSS3aMinAllocationDeliveryTime300   saMaxABFTAccessPeriod2aDtimeaSBIFSTime+TXTIME(TPA Request frame) aRelayTPATimeaSBIFSTime+2  aAirPropagationTime+2  aDtime+TXTIME(TPA Request frame)+2  TXTIME(TPA Response frame


page 446



page 447
41911. Security11.1 Framework11.1.2 Security methodsChange the second paragraph of 11.1.2 as follows:RSNA security comprises the following algorithms:  TKIP, described in 11.4.2  CCMP, described in 11.4.3  BIP, described in 11.4.4  GCMP, described in 11.4.5  RSNA establishment and termination procedures, including use of IEEE 802.1X authentication,described in 11.5 and SAE authentication described in 11.3  Key management procedures, described in 11.611.1.3 RSNA equipment and RSNA capabilitiesChange the first paragraph of 11.1.3 as follows:RSNA-capable equipment can create RSNAs. When dot11RSNAEnabled is true, RSNA-capable equipmentshall include the RSNE in Beacon, Probe Response, Information Response, and (Re)Association Requestframes and in Message 2 and Message 3 of the 4-Way Handshake; shall set the DMG Privacy subfield to 1within transmitted DMG Beacons; and may include the RSNE in DMG Beacon and Announce frames. Pre-RSNA equipment is not capable of creating RSNAs.11.1.4 RSNA establishmentChange the first paragraph of 11.1.4 as follows:An SME establishes an RSNA in one of four six ways: a)If an RSNA is based on IEEE 802.1X AKM in an ESS, an RSNA-capable STA   s SME establishesan RSNA as follows:1)It identifies the AP as RSNA-capable from the AP   s Beacon, DMG Beacon, Announce,Information Response, or Probe Response frames.2)It shall invoke Open System authentication if the STA is a non-DMG STA.Items a) 3) to 7) remain unchanged.b)If an RSNA is based on a PSK or password in an ESS, the SME establishes an RSNA as follows:1)It identifies the AP as RSNA-capable from the AP   s Beacon, DMG Beacon, Announce,Information Response, or Probe Response frames.2)If the RSNA-capable AP advertises support for SAE authentication in its Beacon or ProbeResponse frames, and the STA has a group defined in the dot11RSNAConfigDLCGroupTableand a password for the AP in the dot11RSNAConfigPasswordValueTable, the STA shallinvoke SAE authentication to establish a PMK. If the RSNA-capable AP does not advertisesupport for SAE authentication in its Beacon and Probe Response frames but advertises supportfor the alternate form of PSK authentication (see 4.10.3.4), and the STA also supports thealternate form of PSK authentication, the non-DMG STA may invoke Open Syste


page 448
authentication and use the PSK as the PMK with the key management algorithm in step 4)below.Items b) 3) to 6) remain unchanged.c)If an RSNA is based on a PSK or password in an IBSS, the SME executes the following sequence ofprocedures:1)It identifies the peer as RSNA-capable from the peer   s Beacon, DMG Beacon, Announce,Information Response, or Probe Response frames.NOTE  STAs might respond to a data MPDU from an unrecognized STA by sending a Probe Requestframe to find out whether the unrecognized STA is RSNA-capable.2)If the RSNA-capable peer advertises support for SAE authentication in its Beacon and ProbeResponse frames and the STA has a group defined in the dot11RSNAConfigDLCGroupTableand a password for the peer in the dot11RSNAConfigPasswordValueTable, the STA shallinvoke SAE authentication and establish a PMK. If the RSNA-capable peer does not advertisesupport for SAE authentication but advertises support for the alternate form of PSKauthentication (see 4.10.3.4) and the STA also supports the alternate form of PSKauthentication, the STA may optionally invoke Open System authentication if the STA is anon-DMG STA and use a PSK as the PMK with the alternate form of PSK authentication.Items c) 3) and 4) remain unchanged.d)If an RSNA is based on IEEE 802.1X AKM in an IBSS, an RSNA-capable STA   s SME establishesan RSNA as follows:1)It identifies the peer as RSNA-capable from the peer   s Beacon, DMG Beacon, Announce,Information Response, or Probe Response frames.NOTE  STAs might respond to a data MPDU from an unrecognized STA by sending a Probe Requestframe to find out whether the unrecognized STA is RSNA-capable.2)It may optionally invoke Open System authentication if the STA is a non-DMG STA.Items d) 3) to 5) remain unchanged.e)In order to associate with a PCP in a PBSS, an RSNA-capable STA   s SME establishes an RSNAwith the PCP following the RSNA establishment steps in an ESS in accordance with method a) andb) above, as appropriate, with the PCP taking the role of the AP.f)When an RSNA-capable STA chooses not to associate with a peer in a PBSS, its SME establishes anRSNA with the peer following the RSNA establishment steps in an IBSS in accordance with methodc) or d) above, as appropriate, with the caveat that the RSNA authentication and key managementalgorithm is executed only once between the peers.Insert the following paragraph after the first paragraph of 11.1.4:In a DMG BSS, IEEE 802.11 Authentication and Deauthentication shall not be used. Instead, STAs proceedimmediately with Association


page 449
42111.4 RSNA confidentiality and integrity protocols 11.4.1 OverviewChange the first paragraph of 11.4.1 as follows:This standard defines two three RSNA data confidentiality and integrity protocols: TKIP, and CCMP, andGCMP. DMG STAs claiming RSNA compliance shall support GCMP. This standard defines one integrityprotocol for management frames: BIP. 11.4.3 CTR with CBC-MAC Protocol (CCMP)11.4.3.1 GeneralChange the first paragraph of 11.4.3.1 as follows:Subclause 11.4.3 specifies the CCMP, which provides data confidentiality, authentication, integrity, andreplay protection. In a non-DMG network, CCMP is mandatory for RSN compliance.11.4.3.3 CCMP cryptographic encapsulation11.4.3.3.3 Construct AADChange item g) in the lettered list of the third paragraph of 11.4.3.3.3 as follows:g)QC    QoS Control field, if present, a 2-octet field that includes the MSDU priority. The QC TID isused in the construction of the AAD. When in a non-DMG BSS and both the STA and its peer havetheir SPP A-MSDU Capable fields equal to 1, bit 7 (the A-MSDU Present field) is used in theconstruction of the AAD. The remaining QC fields are masked to 0 for the AAD calculation (bits 4to 6, bits 8 to 15, and bit 7 when either the STA or its peer has the SPP A-MSDU Capable field equalto 0). When in a DMG BSS, the A-MSDU Present bit 7 and A-MSDU Type bit 8 are used in theconstruction of the AAD, and the remaining QC fields are masked to 0 for the AAD calculation (bits4 to 6, bits 9 to 15).11.4.4 Broadcast/Multicast Integrity Protocol (BIP)Insert the following subclauses, 11.4.5 to 11.4.5.4.4 (including Figure 11-23a to Figure 11-23d), after11.4.4.6:11.4.5 GCM with Galois Message Authentication Code (GMAC) Protocol (GCMP)11.4.5.1 GCMP overviewSubclause 11.4.5 specifies the GCMP, which provides data confidentiality, authentication, integrity, andreplay protection.GCMP is based on the GCM of the AES encryption algorithm. GCM combines Galois/Counter Mode fordata confidentiality and GMAC for authentication and integrity. GCM protects the integrity of both theMPDU Data field and selected portions of the MPDU header.The AES algorithm is defined in FIPS PUB 197-2001. All AES processing used within GCMP uses AESwith a 128-bit key and a 128-bit block size


page 450
11.4.5.3 GCMP cryptographic encapsulation11.4.5.3.1 GeneralThe GCMP cryptographic encapsulation process is depicted in Figure11-23b.MAC HeaderGCMP Header8 octetsData (PDU)>= 1 octetsMIC16 octetsFCS4 octetsPN0PN1Key IDRsvdPN2PN3PN4PN5b0b5b6 b7Key ID octetEncryptedRsvdExt IVb4Figure 11-23a  Expanded GCMP MPD


page 451
423GCMP encrypts the payload of a plaintext MPDU and encapsulates the resulting cipher text using thefollowing steps:a)Increment the PN, to obtain a fresh PN for each MPDU, so that the PN never repeats for the sametemporal key.NOTE  Retransmitted MPDUs are not modified on retransmission.b)Use the fields in the MPDU header to construct the additional authentication data (AAD) for GCM.The GCM algorithm provides integrity protection for the fields included in the AAD. MPDU headerfields that may change when retransmitted are masked to 0 when calculating the AAD.c)Construct the GCM Nonce block from the PN and A2, where A2 is MPDU Address 2.d)Place the new PN and the key identifier into the 8-octet GCMP Header.e)Use the temporal key, AAD, nonce, and MPDU data to form the cipher text and MIC. This step isknown as GCM originator processing.f)Form the encrypted MPDU by combining the original MPDU header, the GCMP header, theencrypted data and MIC, as described in 11.4.5.2.The GCM reference describes the processing of the key, nonce, AAD, and data to produce the encryptedoutput. See 11.4.5.3.2 to 11.4.5.3.6 for details of the creation of the AAD and nonce from the MPDU and theassociated MPDU-specific processing.11.4.5.3.2 PN processingEach transmitter shall maintain a single PN (48-bit counter) for each PTKSA, GTKSA, and STKSA.The PN shall be implemented as a 48-bit monotonically incrementing non-negative integer, initialized to 1when the corresponding temporal key is initialized or refreshed.The PN is incremented by a positive number for each MPDU. The PN shall never repeat for a series ofencrypted MPDUs using the same temporal key.If the PN is larger than the value of dot11PNExhaustionThreshold, an MLME-PN-Exhaustion.indicationprimitive shall be generated. 11.4.5.3.3 Construct AADThe AAD construction is as defined in 11.4.3.3.3.Plaintext MPDUConstruct AADConstruct NonceConstruct GCMP headerGCM encryption||Increment PNTKPNKeyIdMAC HeaderA2DataEncrypted Data, MICEncrypted MPDUFigure 11-23b  GCMP encapsulation block diagra


page 452
11.4.5.3.4 Construct GCM nonceThe Nonce field occupies 12 octets, and its structure is shown in Figure11-23c.The Nonce field has an internal structure of A2 || PN (   ||    is concatenation), where  MPDU address A2 field occupies octets 0 to 5. This shall be encoded with the octets ordered withA2 octet 0 at octet index 0 and A2 octet 5 at octet index 5.  The PN field occupies octets 6 to 11. The octets of PN shall be ordered so that PN0 is at octet index11 and PN5 is at octet index 6.11.4.5.3.5 Construct GCMP headerThe format of the 8-octet GCMP Header is given in 11.4.5.2. The header encodes the PN and Key ID fieldvalues used to encrypt the MPDU.11.4.5.3.6 GCM originator processingGCM is a generic authenticate-and-encrypt block cipher mode, and in this standard, GCM is used with theAES block cipher.There are four inputs to GCM originator processing:a)Key: the temporal key (16 octets).b)Nonce: the nonce (12 octets) constructed as described in 11.4.5.3.4.c)Frame body: the frame body of the MPDU.d)AAD: the AAD (22-30 octets) constructed from the MPDU header as described in 11.4.5.3.3.The GCM originator processing provides authentication and integrity of the frame body and the AAD aswell as data confidentiality of the frame body. The output from the GCM originator processing consists ofthe encrypted data and 16 additional octets of encrypted MIC.A GCMP protected individually addressed robust management frame shall be protected with the TK. 11.4.5.4 GCMP decapsulation11.4.5.4.1 GeneralFigure11-23d shows the GCMP decapsulation process.A2PNOctets:66Figure 11-23c  Nonce constructio


page 453
425GCMP decrypts the payload of a cipher text MPDU and decapsulates a plaintext MPDU using the followingsteps:a)The encrypted MPDU is parsed to construct the AAD and nonce values.b)The AAD is formed from the MPDU header of the encrypted MPDU.c)The Nonce value is constructed from the A2 and PN fields.d)The MIC is extracted for use in the GCM integrity checking.e)The GCM recipient processing uses the temporal key, AAD, nonce, MIC, and MPDU cipher textdata to recover the MPDU plaintext data as well as to check the integrity of the AAD and MPDUplaintext data.f)The received MPDU header and the MPDU plaintext data from the GCM recipient processing maybe concatenated to form a plaintext MPDU.g)The decryption processing prevents replay of MPDUs by validating that the PN in the MPDU isgreater than the replay counter maintained for the session.See 11.4.5.4.2 through 11.4.5.4.4 for details of this processing.When the received frame is a GCMP protected individually addressed robust management frame, thecontents of the MMPDU body after protection is removed and shall be delivered to the MLME rather thanthrough the MA-UNITDATA.indication primitive. 11.4.5.4.2 GCM recipient processingGCM recipient processing shall use the same parameters as GCM originator processing. A GCMP protectedindividually addressed robust management frame shall use the same TK as a Data MPDU. There are four inputs to GCM recipient processing:  Key: the temporal key (16 octets).  Nonce: the nonce (12 octets) constructed as described in 11.4.5.3.4.  Encrypted frame body: the encrypted frame body from the received MPDU. The encrypted framebody includes a 16-octet MIC.  AAD: the AAD (22-30 octets) that is the canonical MPDU header as described in 11.4.5.3.3.The GCM recipient processing checks the authentication and integrity of the frame body and the AAD aswell as decrypting the frame body. The plaintext is returned only if the MIC check is successful.Encrypted MPDUConstruct AADConstruct NonceReplay checkGCM decryption||KeyPN*MAC HeaderA2DataPlaintext DataPlaintext MPDUPNMICFigure 11-23d  GCMP decapsulation block diagra


page 454
There is one output from error-free GCM recipient processing:  Frame body: the plaintext frame body, which is 16 octets smaller than the encrypted frame body.11.4.5.4.3 Decrypted GCMP MPDUThe decapsulation process succeeds when the calculated MIC matches the MIC value obtained fromdecrypting the received encrypted MPDU. The original MPDU header is concatenated with the plaintextdata resulting from the successful GCM recipient processing to create the plaintext MPDU.11.4.5.4.4 PN and replay detectionTo effect replay detection, the receiver extracts the PN from the GCMP header. See 11.4.5.2 for adescription of how the PN is encoded in the GCMP header. The following processing rules are used to detectreplay:a)The PN values sequentially number each MPDU.b)A receiver shall maintain a separate set of PN replay counters for each PTKSA, GTKSA, andSTKSA. The receiver initializes these replay counters to 0 when it resets the temporal key for a peer.The replay counter is set to the PN value of accepted GCMP MPDUs.c)For each PTKSA, GTKSA, and STKSA, the recipient shall maintain a separate replay counter foreach possible IEEE 802.11 MSDU or A-MSDU priority (including, for example, each possible TID)and shall use the PN recovered from a received frame to detect replayed frames. A replayed frameoccurs when the PN extracted from a received frame is less than or equal to the current replaycounter value for the frame   s MSDU or A-MSDU priority (including, for example, each possibleTID) and frame type. For each IGTKSA the recipient shall maintain a single replay counter for protected group addressedrobust management frames, and shall compare the IPN recovered from a received, protected groupaddressed robust management frame to the replay counter to detect replayed frames as describedabove for data frames.If dot11RSNAProtectedManagementFramesActivated is true, the recipient shall maintain a singlereplay counter for received individually addressed robust management frames within the context ofeach Protected Management frame pairing and shall use the PN from the received frame to detectreplays. A replayed frame occurs when the PN from the frame is less than or equal to the currentmanagement frame replay counter value corresponding to the TA of the received managementframe. The transmitter shall preserve the order of protected robust management frames sent to thesame DA. d)A receiver shall discard any data MPDU that is received with its PN less than or equal to the value ofthe replay counter that is associated with the TA and priority of the received MPDU. Ifdot11RSNAProtectedManagementFramesActivated is true, a receiver shall discard any groupaddressed MMPDU that is received with its PN less than or equal to the value of the replay counterassociated with group addressed MMPDUs. If dot11RSNAProtectedManagementFramesActivatedis true, the receiver shall discard any individually addressed robust MMPDU that is received with itsPN less than or equal to the value of the replay counter associated with the TA of that individuallyaddressed MMPDU. When discarding a frame, the receiver shall increment by 1 the value ofdot11RSNAStatsGCMPReplays for data frames or dot11RSNAStatsRobustMgmtGCMPReplaysfor robust management frames.e)For MSDUs or A-MSDUs sent using the Block Ack feature, reordering of received MSDUs or A-MSDUs according to the Block Ack receiver operation (described in 9.21.4) is performed prior toreplay detection


page 455
42711.5 RSNA security association management11.5.1 Security associations11.5.1.1 Security association definitions11.5.1.1.2 PMKSAChange the second list item in the dashed list of the first paragraph of 11.5.1.1.2 as indicated:   Authenticator   s or peer   s MAC address. For multi-band RSNA, the MAC address is associated withthe operating band in use when the PMKSA is established. 11.5.1.1.6 PTKSAChange the first paragraph in 11.5.1.1.6 as follows: The PTKSA is a result of the 4-Way Handshake, FT 4-Way Handshake, FT Protocol, or FT ResourceRequest Protocol. This security association is also bidirectional. PTKSAs are cached for the life of thePMKSA or PMK-R1 security association. Because the PTKSA is tied to the PMKSA or to a PMK-R1security association, it only has the additional information from the 4-Way Handshake. For the PTKSAderived as a result of the 4-Way Handshake, there shall be only one PTKSA per band (see 11.5.19) with thesame Supplicant and Authenticator MAC addresses. For the PTKSA derived as a result of an initial mobilitydomain association or fast BSS transition, there shall be only one PTKSA with the same STA   s MACaddress and BSSID. 11.5.1.3 Security association life cycle11.5.1.3.1 GeneralChange 11.5.1.3.1 as indicated:A STA can operate in either an ESS, a PBSS, or in an IBSS, and a security association has a distinct lifecycle for each.Insert the following subclause, 11.5.1.3.5, after 11.5.1.3.4:11.5.1.3.5 Security association in a PBSSA STA and a peer establish an initial security association via the following steps:a)The STA selects an authorized PBSS by identifying a peer from a DMG Beacon, Announce, ProbeResponse, or Information Response frames. b)A STA may associate with a peer if the peer is a PCP. c)If authentication is required, the STA or the peer initiates IEEE 802.1X authentication. The EAPmethod used by IEEE Std 802.1X-2004 shall support mutual authentication. d)The last step is key management. The authentication process creates cryptographic keys sharedbetween the IEEE 802.1X AS and the STA. The AS transfers these keys to the peer and the peer andthe STA use one of  the key confirmation handshakes, e.g., the 4-Way Handshake or FT 4-WayHandshake, to complete security association establishment. The key confirmation handshakeindicates when the link has been secured by the keys and is ready to allow data traffic and protectedrobust management frames


page 456
11.5.2 RSNA selectionChange the first three paragraphs of 11.5.2 as follows:A STA prepared to establish RSNAs shall advertise its capabilities by including the RSNE in Beacon,Information Response, and Probe Response messages and may also include the RSNE in DMG Beacon andAnnounce frames. The included RSNE shall specify all the authentication and cipher suites enabled by theSTA   s policy. A STA shall not advertise any authentication or cipher suite that is not enabled.The SME shall utilize the MLME-SCAN.request primitive to identify neighboring STAs that assert robustsecurity and advertise an SSID identifying an authorized ESS, PBSS, or IBSS. A STA may decline tocommunicate with STAs that fail to advertise an RSNE in their Beacon, Information Response, and ProbeResponse frames or that do not advertise an authorized SSID. A STA may also decline to communicate withother STAs that do not advertise authorized authentication and cipher suites within their RSNEs.A STA shall advertise the same RSNE in both its Beacon, DMG Beacon, Announce, Information Response,and Probe Response frames.Insert the following subclause, 11.5.7a, after 11.5.7:11.5.7a RSNA policy selection in a PBSSRSNA policy selection in a PBSS utilizes the association procedure (10.3.1) if the initiating STA chooses toassociate with a PCP. RSNA policy selection is performed by the associating STA. The STA does this byincluding an RSNE in its (Re)Association Requests.The STA follows the procedures in 11.4.3 to select RSNA policy with the PCP, with the PCP taking the roleof the AP. If the initiating STA chooses not to associate with a peer in a PBSS, it follows the procedures in11.4.5 to select RSNA policy with the peer. 11.5.8 RSNA management of the IEEE 802.1X Controlled PortChange the second and third paragraphs of 11.5.8, and insert a new fifth paragraph as indicated below:In an ESS/PBSS, if the STA associates with the PCP/AP, the STA indicates the IEEE 802.11 link isavailable by invoking the MLME-ASSOCIATE.confirm or MLME-REASSOCIATE.confirm primitive.This signals the Supplicant that the MAC has transitioned from the disabled to enabled state. At this point,the Supplicant   s Controlled Port is blocked, and communication of all non-IEEE-802.1X MSDUs sent orreceived via the port is not authorized.In an ESS/PBSS, if the PCP/AP associates with a STA, the PCP/AP indicates that the IEEE 802.11 link isavailable by invoking the MLME-ASSOCIATE.indication or MLME-REASSOCIATE.indication primitive.At this point the Authenticator   s Controlled Port corresponding to the STA   s association is blocked, andcommunication of all non-IEEE-802.1X MSDUs sent or received via the Controlled Port is not authorized.In an IBSS, the STA shall block all IEEE 802.1X ports at initialization. Communication of all non-IEEE-802.1X MSDUs sent or received via the Controlled Port is not authorized.In a PBSS, if a STA chooses not to associate with the PCP, the STA shall block all IEEE 802.1X ports atinitialization. Communication of all non-IEEE-802.1X MSDUs sent or received via the Controlled Port isnot authorized


page 457
429Insert the following subclause, 11.5.11a, after 11.5.11:11.5.11a RSNA authentication in a PBSSIEEE 802.11 Open System authentication is not used in a PBSS. When establishing an RSNA with a PCP, a STA may associate to the PCP and initiate RSNA authenticationwith the PCP following the procedures of 11.4.8, with the PCP taking the role of the AP. When a STAchooses not to associate to a peer, it initiates RSNA authentication with the peer following the procedures of11.4.9 with the following caveat: if both peers simultaneously initiate RSNA authentication, the peer withthe lower MAC address shall abandon the authentication it initiated in favor of the authentication initiatedby the peer with the higher MAC address. Insert the following subclause, 11.5.14a, after 11.5.14:11.5.14a RSNA key management in a PBSSUpon successful association and authentication in a PBSS, a STA performs a key confirmation handshakewith the PCP, following the procedures in 11.4.10 with the PCP taking the role of the AP. If a STA choosesnot to associate to a peer, after successful authentication, it performs a key confirmation handshake with thepeer following the procedures in 11.4.11 with the following caveat: if both peers simultaneously initiate thekey confirmation handshake, the peer with the lower MAC address shall abandon the handshake it initiatedin favor of the handshake initiated by the peer with the higher MAC address.11.5.15 RSNA security association terminationInsert the following paragraphs at the end of 11.5.15:When an STA   s SME receives an MLME-PN-Exhaustion.indication primitive and the PN is associated witha PTKSA, the STA   s SME shall invoke an MLME-DISASSOCIATE.request primitive and delete thePTKSA.When a STA   s SME receives an MLME-PN-Exhaustion.indication primitive and the PN is associated with aGTKSA, the STA   s SME shall delete the GTKSA. When a STA   s SME receives an MLME-PN-Exhaustion.indication primitive and the PN is associated with aSTKSA, the STA   s SME shall invoke a STSL application teardown procedure for the STKSA and delete theSTKSA. Once the security associations have been deleted, the SME then invokes MLME-DELETEKEYS.requestprimitive to delete all temporal keys associated with the deleted security associations.Insert the following subclauses, 11.5.18 to 11.5.19.4, after 11.5.17:11.5.18 RSNA rekeyingWhen a PTKSA is deleted, a non-PCP/non-AP STA may reassociate with the same PCP/AP and/or establisha new RSNA with the PCP/AP. If the non-PCP/non-AP STA has cached one or more PMKSAs, it may skipthe PMKSA establishment and proceed with the creation of a new PTKSA by using 4-Way Handshake. When a GTKSA is deleted, an originating STA may create a new GTKSA by using 4-Way Handshake orGroup Key Handshake


page 458
When a STKSA is deleted, the STA_I may establish a new STSL with the STA_P. If the SMK between theSTA pair has not expired, the STA_I may initiate a 4-Way Handshake and create a new STKSA withSTA_P. If the SMK has expired, the STA_I shall create both a new SMKSA and a new STKSA with theSTA_P. An Authenticator/STA_I may initiate a 4-Way Handshake for the purpose of renewing the key associatedwith a PTKSA or STKSA. A supplicant/STA_P may send an EAPOL request message to the authenticator/STA_I to request rekeying. In addition, if both the Authenticator and the Supplicant support multiple keysfor individually addressed traffic, a smooth switchover to the new key is possible using the followingprocedure.The 802.11 MAC shall issue an MLME-PN-Warning.indication primitive when the Packet Numberassignment for a particular PTKSA, GTKSA, or STKSA reaches or exceeds dot11PNWarningThreshold forthe first time. The indication shall be issued only once for a given PTKSA, GTKSA, or STKSA. The SMEmay use the indication as a trigger to establish a new PTKSA, GTKSA, or STKSA before the PacketNumber space is exhausted. A PTKSA or STKSA has a limited lifetime, either in absolute time or due to exhausting the PN space. Tomaintain an uninterrupted security association, a STA should establish a new PTKSA or STKSA prior to theexpiry of the old PTKSA or STKSA.When both ends of the link support the expanded Key ID space for individually addressed traffic, it ispossible to install the new PTKSA or STKSA without data loss, provided the new PTKSA or STKSA uses adifferent Key ID from the old PTKSA or STKSA. Data loss might occur if the same Key ID is used becauseit is not possible to precisely coordinate (due to software processing delays) when the new key is used fortransmit at one end and when it is applied to receive at the other end. If a different Key ID is used for thenew PTKSA or STKSA, then provided the new key is installed at the receive side prior to its first use at thetransmit side there is no need for precise coordination. During the transition, received packets areunambiguously identified using the Key ID as belonging to either the old or new PTKSA or STKSA. 11.5.19 Multi-band RSNA 11.5.19.1 GeneralA STA is multi-band capable and RSNA-capable if the values of both its local MIB variablesdot11MultibandImplemented and dot11RSNAEnabled are true. A STA that is multi-band capable and RSNA-capable shall set the Pairwise Cipher Suite Present field of theMulti-band element to 1 and shall include the Pairwise Cipher Suite Count field and the Pairwise CipherSuite List field in the Multi-band element. The STA may include the RSNE and the Multi-band element inthe DMG Beacon and Announce frames and shall include the RSNE and the Multi-band element in Beacon,Probe Response, and Information Response frames. The included RSNE shall specify all the authenticationand cipher suites enabled by the STA   s policy for the band where this element is transmitted, and theincluded Multi-band element shall specify all the pairwise cipher suites enabled by the STA   s policy for theband specified within the Multi-band element. A STA shall not advertise any cipher suite that is not enabled.A multi-band capable and RSNA-capable STA shall include the Multi-band element in the (Re)AssociationRequest frame and in Message 2 and Message 3 of the 4-Way Handshake. In order to set up an RSNA with a peer STA for a supported band/channel, a STA that does not know thepeer   s policy for the band/channel shall first obtain the peer STA   s policy for the supported band/channel byusing a Probe Request frame or Information Request frame. The STA initiating RSNA establishment for asupported band/channel is called RSNA initiator, and the targeted STA of the RSNA establishment is calledRSNA responder


page 459
431A multi-band capable device can create its own group key(s) for one or more supported bands/channels. Ifthe STA uses different MAC addresses in different bands/channels, different GTKSAs shall be created fordifferent bands. If the STA uses a same MAC address in all supported bands/channels, a single GTKSAshall be created for all supported bands/channels. If the pairwise and group cipher suites used by a pair of multi-band capable devices to communicate witheach other in the current operating band/channel is also supported after the transfer to another band/channelthat was performed using transparent FST, the devices shall continue using the same cipher suites tocommunicate with each other after the transfer. In all other cases, a separate RSNA has to be established forthe other band/channel (see 11.5.19). 11.5.19.2 Nontransparent multi-band RSNA An RSNA initiator can establish a nontransparent (10.32) multi-band RSNA with an RSNA responder for asupported band/channel other than the current operating band/channel. The two STAs use the same PMKSAfor both the supported band/channel and the current operating band/channel and create different PTKSAs fordifferent bands/channels. If the RSNA initiator does not have an existing PMKSA with the RSNA responder, the RSNA initiator shallfirst establish a PMKSA with the RSNA responder in the current operating band/channel and then use thePMKSA to create a PTKSA with the RSNA responder for the supported band/channel. If the RSNA initiatorhas already established a PMKSA with the RSNA responder, the PMKSA shall be used to create a PTKSAbetween the two STAs for the supported band/channel. With the PMK in place, the RSNA initiator and RSNA responder can proceed in two ways depending on thesetting of the Joint Multi-band RSNA subfield within the RSN Capabilities field in the RSNE of both STAs. If the Joint Multi-band RSNA subfield within the RSN Capabilities field of either the RSNA initiator orRSNA responder is 0, the STA pair uses a 4-Way Handshake to establish a PTKSA for the current band/channel and may start a separate 4-Way Handshake in the current operating band/channel to negotiate apairwise cipher suite for the supported band/channel and establish a PTKSA for the supported band/channel.As specified in 11.6.6, Message 2 and Message 3 of the 4-Way Handshake convey the Multi-band elementassociated with the supported band/channel. The Multi-band element in Message 2 includes the selectedpairwise cipher suite for the supported band/channel. Message 3 includes the Multi-band element that theSTA would send in a Beacon, DMG Beacon, Announce, Probe Response, or Information Response frame.Message 3 may optionally include a second Multi-band element that indicates the STA   s pairwise ciphersuite assignment for the supported band/channel.If the Joint Multi-band RSNA subfield within the RSN Capabilities field is 1 for both the RSNA initiator andthe RSNA responder and at least one of the STAs uses different MAC addresses for different bands/channels, the STAs shall use a single 4-Way Handshake to negotiate pairwise cipher suites and establishPTKSAs for both the current operating band/channel and the other supported band(s)/channel(s). Asspecified in 11.6.6, Message 2 and Message 3 of the 4-Way Handshake convey the RSNE and the Multi-band element(s). The RSNE in Message 2 includes the selected pairwise cipher suite for the currentoperating band/channel, and the Multi-band element(s) in Message 2 includes the selected pairwise ciphersuite(s) for the other supported band(s)/channel(s). Message 3 includes the RSNE and the Multi-bandelement(s) that the STA would send in a Beacon, DMG Beacon, Announce, Probe Response, or InformationResponse frame. Message 3 may optionally include a second RSNE and Multi-band element(s) that indicatethe STA   s pairwise cipher suite assignments for the current operating band/channel and the other supportedband(s)/channel(s). KCK and KEK associated with the current operating band/channel shall be used in the4-Way Handshake


page 460
11.5.19.3 Transparent multi-band RSNA An RSNA initiator can establish a transparent (10.32) multi-band RSNA with an RSNA responder for boththe current operating band/channel and the other supported band(s)/channel(s) if a)Both STAs use the same MAC address in the current operating band/channel and the othersupported band(s)/channel(s); andb)At least one common pairwise cipher suite is supported by both STAs in the current operating band/channel and the other supported band(s)/channel(s). Two STAs that establish a transparent multi-band RSNA create one PMKSA and one PTKSA for both thecurrent operating band/channel and other supported band(s)/channel.A STA shall use a single PN counter (11.4.3.3 and 11.4.5.3) for transmission in both the current operatingband and the other supported band(s) when transparent multi-band RSNA is used.If the RSNA initiator does not have an existing PMKSA with the RSNA responder, the RSNA initiator shallfirst establish a PMKSA with the RSNA responder in the current operating band/channel and then use thePMKSA to create a PTKSA with the RSNA responder for all involved bands/channels. If the RSNA initiatorhas already established a PMKSA with the RSNA responder, the PMKSA shall be used to create a PTKSAbetween the two STAs for all involved bands/channels. With the PMK in place, the STA pair shall use a single 4-Way Handshake in the current operating band/channel to negotiate a pairwise cipher suite for all involved bands/channels and also establish a singlePTKSA for all involved bands/channels. As specified in 11.6.6, Message 2 and Message 3 of the 4-WayHandshake convey the RSNE and the Multi-band element(s). The RSNE and the Multi-band element(s) inMessage 2 include one selected pairwise cipher suite for all involved bands/channels. Message 3 includesthe RSNE and the Multi-band element(s) that the STA would send in a Beacon, DMG Beacon, Announce,Probe Response, or Information Response frame. Message 3 may optionally include a second RSNE andMulti-band element(s) that indicate the STA   s pairwise cipher suite assignment for all involved bands/channels. 11.5.19.4 Multi-band RSNA with TDLS in a non-DMG BSSWhen two multi-band capable devices operate in a non-DMG BSS and set up a TDLS direct link in the non-DMG BSS, the TDLS Peer Key Handshake protocol can be used to create a PTKSA for use in anothersupported band/channel that is supported by both STAs and that was indicated within both of the STA   sMulti-band element. Only TK in PTKSA is required for the supported band/channel and it shall be equal tothe TPK-TK of the TPK. If at least one of the peer STAs has a different MAC address in the supported band/channel from that of thecurrent operating band/channel, the TDLS Peer Key Handshake protocol may be used to establish a PTKSAfor the supported band/channel. In this case, the TPK key creation method shall be used to calculate adifferent PTKSA in the supported band/channel: the TDLS peer MAC addresses and cipher suite shall bereplaced by the MAC addresses and cipher suite indicated within the corresponding Multi-band elementscontained in the TDLS Setup Request and Response frames used to establish the PTKSA for the supportedband/channel. If two TDLS peer STAs use the same MAC addresses and pairwise cipher suites in the operating band/channel and in the supported band/channel, the TPKSA that is acquired by the successful completion of theTDLS Peer Key Handshake protocol may be used as the PTKSA for the supported band/channel


page 461
43311.6 Keys and key distribution11.6.2 EAPOL-Key framesInsert the following row at the end of Table 11-4:Insert the following rows in Table 11-6 in numeric order, and change the indicated Reserved row asfollows:Insert the following paragraphs (including Figure 11-39a and Figure 11-39b) at the end of 11.6.2:The format of the Multi-band GTK KDE is shown in Figure11-39a.The definitions of the Key ID, Tx, and GTK fields are the same as in the GTK KDE described above.The Band ID field contains the identification of the frequency band (see 8.4.1.45).The format of the Multi-band Key ID KDE is shown in Figure11-39b.The definitions of the Key ID and Band ID fields are the same as in the Multi-band GTK KDE describedabove.Table 11-4  Cipher suite key lengthsCipher suiteKey length (octets)TK_bits (bits)GCMP16128Table 11-6  KDEOUIData typeMeaning00-0F-AC11Multi-band GTK KDE00-0F-AC12Multi-band Key ID KDE00-0F-AC131  255ReservedKey ID (0, 1, 2, or 3)TxReserved (0)Band IDGTKbits 0-1bit 2bits 3-71 octet6 octetsFigure 11-39a  Multi-band GTK KDEKey IDReservedBand IDbits 0-1bits 2-7bits 8-15Figure 11-39b  Multi-band Key ID KD


page 462
11.6.6 4-Way Handshake11.6.6.3 4-Way Handshake Message 2Change the description of the Key Data field in 11.6.6.3 as follows:Key Data =  Included RSNE    the sending STA   s RSNE for PTK generation or peer RSNE for the currentoperating band, or;  The sending STA   s Multi-band element for PTK generation for a supported band other than thecurrent operating band if dot11MultibandImplemented is true, or;  The sending STA   s RSNE and Multi-band element(s) for generating a single PTK for all involvedbands, if dot11MultibandImplemented is true and both the Authenticator and the Supplicant use thesame MAC address in the current operating band and the other supported band(s); or;  The sending STA   s RSNE and Multi-band element(s) for generating a different PTK for eachinvolved band, if dot11MultibandImplemented is true and the Joint Multi-band RSNA subfield ofthe RSN capabilities field is 1 for both the Authenticator and the Supplicant, and either theAuthenticator or the Supplicant uses different MAC addresses for different bands.   Lifetime of SMK and SMKID for STK generation. 11.6.6.4 4-Way Handshake Message 3Change the description of the Key Data field in 11.6.6.4 as follows:Key Data =  For PTK generation for the current operating band, the AP   s Beacon/Probe Response frame   s RSNEfor the current operating band, and, optionally, a second RSNE that is the Authenticator   s pairwisecipher suite assignment for the current operating band, and, if a group cipher has been negotiated,the encapsulated GTK and the GTK   s key identifier (see 11.6.2) for the current operating band, andif management frame protection is negotiated, the IGTK KDE; or;  For PTK generation for a supported band other than the current operating band, the Authenticator   sBeacon/DMG Beacon/Announce/Probe Response/Information Response frame   s Multi-bandelement associated with the supported band, and optionally a second Multi-band element thatindicates the Authenticator   s pairwise cipher suite assignment for the supported band, and, if groupcipher for the supported band is negotiated, the Multi-band GTK KDE for the supported band ifdot11MultibandImplemented is true, or;  For generating a single PTK for all involved bands, the Authenticator   s Beacon/DMG Beacon/Announce/Probe Response/Information Response frame   s RSNE and Multi-band element(s), andoptionally, additional RSNE and Multi-band element(s) that indicate the Authenticator   s assignmentof one pairwise cipher suite for all involved bands; if a group cipher for all involved bands isnegotiated, the encapsulated GTK and the GTK   s key identifier for all involved bands, ifdot11MultibandImplemented is true and both the Authenticator and the Supplicant use the sameMAC address in the current operating band and the other supported band(s), or;  For generating different PTKs for the current operating band and other supported band(s), theAuthenticator   s Beacon/DMG Beacon/Announce/Probe Response/Information Response frame   sRSNE and Multi-band element(s), and optionally, additional RSNE and Multi-band elements thatare the Authenticator   s pairwise cipher suite assignments for one or more involved bands; if groupciphers for the involved bands are negotiated, the Multi-band GTK KDEs for the involved bands, ifdot11MultibandImplemented is true and the Joint Multi-band RSNA subfield is 1 for both theAuthenticator and Supplicant, and either the Authenticator or the Supplicant uses different MACaddresses for different bands


page 463
435  For STK generation Initiator RSNE, Lifetime of SMK is used.  If the Extended Key ID for Individually Addressed Frames subfield of the RSN Capabilities field is1 for both the Authenticator/STA_I and Supplicant/STA_P, then the Authenticator/STA_I includesthe Key ID KDE with the assigned key identifier for the current operating band; or the Authenticatorincludes the Multi-band Key ID KDE(s) with the assigned key identifier(s) for one or moresupported bands if dot11MultibandImplemented is true. 11.7 Mapping EAPOL keys to IEEE 802.11 keysInsert the following subclause, 11.7.8, after 11.7.7:11.7.8 Mapping PTK to GCMP keysSee 11.6.1.3 for the definition of the EAPOL temporal key derived from PTK.A STA shall use the temporal key as the GCMP key for MPDUs between the two communicating STAs


page 464



page 465
43713. MLME mesh procedures13.1 Mesh STA dependenciesInsert the following paragraph at the end of 13.1:When dot11DMGOptionImplemented is true, dot11MeshActivated shall be set to false


page 466



page 467
439Insert the following text, Clause 21, after Clause 20:21. Directional multi-gigabit (DMG) PHY specification21.1 DMG PHY introduction21.1.1 ScopeThe DMG PHY supports three modulation methods:   A control modulation using MCS 0 (the control PHY; see 21.4)  A single carrier (SC) modulation using MCS 1 to MCS 12 (the SC PHY; see 21.6) and MCS 25 toMCS 31 (the low-power SC PHY; see 21.7)  An OFDM modulation using MCS 13 to MCS 24 (the OFDM PHY; see 21.5)All these modulation methods share a common preamble (see 21.3.6). The services provided to the MAC by the DMG PHY consist of two protocol functions, defined as follows:a)A PHY convergence function, which adapts the capabilities of the physical medium dependent(PMD) system to the PHY service. This function is supported by the physical layer convergenceprocedure (PLCP), which defines a method of mapping the PLCP service data units (PSDU) into aframing format (PPDU) suitable for sending and receiving PSDUs between two or more STAs usingthe associated PMD systems.b)A PMD system whose function defines the characteristics and method of transmitting and receivingdata through a wireless medium between two or more STAs. Depending on the DMG MCSs, theseSTAs support a mixture of DMG SC PHY, DMG OFDM PHY, DMG low-power SC PHY, andDMG control PHY. 21.1.2 DMG PHY functionsThe DMG PHY contains three functional entities: the PHY convergence function (PLCP), the layermanagement function (PLME) and the PMD function. Each of these functions is described in detail in 21.3to 21.11. The DMG PHY service is provided to the MAC through the PHY service primitives defined inClause 12.21.1.2.1 DMG PLCP sublayerIn order to allow the MAC to operate with minimum dependence on the PMD sublayer, a PHY convergencesublayer is defined (PLCP). The PLCP sublayer simplifies the PHY service interface to the MAC services.21.1.2.2 DMG PMD sublayerThe DMG PMD sublayer provides a means to send and receive data between two or more STAs. Thissubclause is concerned with SC and OFDM modulations.21.1.2.3 PHY management entity (PLME)The PLME performs management of the local PHY functions in conjunction with the MLME


page 468
21.1.2.4 Service specification methodThe models represented by figures and state diagrams are intended to be illustrations of the functionsprovided. It is important to distinguish between a model and a real implementation. The models areoptimized for simplicity and clarity of presentation; the actual method of implementation is left to thediscretion of the DMG PHY compliant developer. The service of a layer or sublayer is the set of capabilitiesthat it offers to a user in the next higher layer (or sublayer). Abstract services are specified here bydescribing the service primitives and parameters that characterize each service. This definition isindependent of any particular implementation.21.2 DMG PHY service interface21.2.1 IntroductionThe PHY interfaces to the MAC through the TXVECTOR, RXVECTOR, and the PHYCONFIG_VECTOR.The TXVECTOR supplies the PHY with per packet transmit parameters. Using the RXVECTOR, the PHYinforms the MAC of the received packet parameters. Using the PHYCONFIG_VECTOR, the MACconfigures the PHY for operation, independent of frame transmission or reception.This interface is an extension of the generic PHY service interface defined in 7.3.4.21.2.2 TXVECTOR and RXVECTOR parametersThe parameters in Table21-1 are defined as part of the TXVECTOR parameter list in the PHY-TXSTART.request primitive and/or as part of the RXVECTOR parameter list in the PHY-RXSTART.indication primitive.Table 21-1  TXVECTOR and RXVECTOR parametersParameterValueTXVECTORRXVECTORMCSThe MCS field indicates the modulation and coding scheme used in the transmission of the packet. Values are integers in the range of 0 to 31.   An MCS value of 0 indicates the use of control PHY.  MCS values of 1 to 12 indicate use of single carrier modulations. The value is an index to Table21-18.   MCS values of 13 to 24 indicates use of OFDM modulations. The value is an index to Table21-14.  MCS values of 25 to 31 indicate use of low-power SC PHY. The value is an index to Table21-22.YYLENGTHIndicates the number of octets in the PSDU in the range of 0 to 262 143. A value of zero indicates a packet in which no data part follows the header.YYADD-PPDUEnumerated Type:  ADD-PPDU indicates that this PPDU is immediately followed by another PPDU with no IFS or preamble on the subsequent PPDU.   NO-ADD-PPDU indicates no additional PPDU follows this PPDU.Y


page 469
441PACKET-TYPEEnumerated Type:  TRN-R-PACKET indicates either a packet whose data part is followed by one or more TRN-R subfields, or a packet that is requesting TRN-R subfields to be appended to a future response packet.  TRN-T-PACKET indicates a packet whose data part is followed by one or more TRN-T subfields. This field is reserved if TRN-LEN is 0. YYTRN-LENTRN-LEN indicates the length of the training field. Values are 0-64 in multiples of 4. A value of N indicates that the AGC has 4N subfields and that the TRN-R/T field has 5N subfields (21.10.2.2.3). YYAGGREGATIONIndicates whether the PSDU contains an A-MPDU.Enumerated Type:  AGGREGATED indicates this is a packet with A-MPDU aggregation.  NOT_AGGREGATED indicates this is a packet without A-MPDU aggregation.YYRSSIThe allowed values for the RSSI parameter are in the range from 0 through RSSI maximum. This parameter is a measure by the PHY of the power observed at the antennas used to receive the current PPDU. RSSI shall be measured during the reception of the PLCP preamble. RSSI is intended to be used in a relative manner, and it shall be a monotonically increasing function of the received power.NYSNRThis parameter indicates the SNR measured during the reception of a control PHY packet. Values are   13 dB to 50.75 dB in 0.25 dB steps.NYRCPIIs a measure of the received RF power measured over the preamble of a received frame. Refer to 21.3.10 for the definition of RCPI.NYANT-CONFIGIndicates which antenna configuration(s) is to be used throughout the transmission of the packet, and when to switch between configurations.Values are implementation dependent.YNCHAN_MEASUREMENTChannel as measured during the reception of TRN-T subfields. Each measurement includes 63 complex numbers. NYTIME_OF_DEPARTURE_REQUESTEDEnumerated type:  TRUE indicates that the MAC entity requests that the PHY PLCP entity measures and reports time of departure parameters corresponding to the time when the first frame energy is sent by the transmitting port.  FALSE indicates that the MAC entity requests that the PHY PLCP entity neither measures nor reports time of departure parameters.ONRX_START_OF_FRAME_OFFSET0 to 232-1. An estimate of the offset (in 10 nanosecond units) from the point in time at which the start of the preamble corresponding to the incoming frame arrived at the receive antenna port to the point in time at which this primitive is issued to the MAC.NYDTP_TYPEEnumerated:   STATIC indicating static tone paring (see 21.5.3.2.4.6.2).  DYNAMIC indicating dynamic tone pairing (see 21.5.3.2.4.6.3).YYTable 21-1  TXVECTOR and RXVECTOR parameters  (continued)ParameterValueTXVECTORRXVECTO


page 470
21.2.3 TXSTATUS parametersThe parameters listed in Table21-2 are defined as part of the TXSTATUS parameter list in thePHYTXSTART.confirm(TXSTATUS) primitive.DTP_INDICATORTakes values 0 or 1 to indicate a DTP update (see 9.38) YYBEAM_TRACKING_REQUEST This parameter indicates whether beam tracking is requested. Enumerated type: Beam tracking requested or Beam tracking not requestedYYLAST_RSSI In the TXVECTOR, LAST_RSSI indicates the received power level of the last packet with a valid PHY header that was received a SIFS period before transmission of the current packet; otherwise, it is 0 (9.3.2.3.3).In the RXVECTOR, LAST_RSSI indicates the value of the LAST_RSSI field from the PCLP header of the received packet. Valid values are integers in the range of 0 to 15:  Values of 2 to 14 represent power levels (  71+value  2) dBm.  A value of 15 represents power greater than or equal to   42 dBm.  A value of 1 represents power less than or equal to   68 dBm.  A value of 0 indicates that the previous packet was not received a SIFS period before the current transmission. YYTurnaround Set to 1 or 0 as specified in 9.3.2.3.3.YYTable 21-2  TXSTATUS parametersParameterValueTIME_OF_DEPARTUREWhen the first frame energy is sent by the transmitting port, in units equal to 1/TIME_OF_DEPARTURE_ClockRate.This parameter is present only if TIME_OF_DEPARTURE_REQUESTED is true in the corresponding request.TIME_OF_DEPARTURE_ClockRate0 to 216-1. The clock rate, in units of MHz, is used to generate the TIME_OF_DEPARTURE value. This parameter is present only if TIME_OF_DEPARTURE_REQUESTED is true in the corresponding request.TX_START_OF_FRAME_OFFSET0 to 232-1. An estimate of the offset (in 10 nanosecond units) from the point in time at which the start of the preamble corresponding to the frame was transmitted at the transmit antenna port to the point in time at which this primitive is issued to the MAC.Table 21-1  TXVECTOR and RXVECTOR parameters  (continued)ParameterValueTXVECTORRXVECTO


page 471
44321.3 Common parameters21.3.1 ChannelizationSTAs compliant with the physical layer defined in Clause 21 operate in the channels defined in Annex E andshall support at least channel number 2. The channel center frequency is defined as: Channel center frequency = Channel starting frequency + Channel spacing  Channel numberwhere channel starting frequency, channel spacing and channel number are as defined in Annex E.21.3.2 Transmit mask The transmitted spectrum shall adhere to the transmit spectrum mask shown in the Figure21-1. The transmitspectrum shall have a 0 dBr (dB relative to the maximum spectral density of the signal) bandwidth notexceeding 1.88 GHz, -17 dBr at a 1.2 GHz offset, -22 dBr at a 2.7 GHz offset and -30dBr at a 3.06 GHzoffset and above, inside the channels allowed for the regulatory domain in which the device is transmitting.The resolution bandwidth shall be set to 1 MHz. The transmit mask shall be measured on data packets longer than 10   s without training fields. 21.3.3 Common requirements 21.3.3.1 IntroductionThis subclause describes the common requirement from all 4 DMG PHYs: CPHY, SC, OFDM, and low-power SC. For all the PHYs, all defined fields are transmitted bit 0 first in time.21.3.3.2 Transmit RF delay As defined at 17.3.8.5 and its value is implementation dependent.21.3.3.3 Center frequency tolerance 21.3.3.3.1 GeneralThe transmitter center frequency tolerance shall be    20 ppm maximum. 0.94-0.94(f-fc) GHz1.2-1.2-2.72.73.06-3.06-17dBr-30dBr-22dBrFigure 21-1  Transmit mas


page 472
21.3.3.3.2 Center frequency convergenceThe transmitter center frequency shall converge to within 1ppm of its final value within 0.9   s from the startof the packet.21.3.3.4 Symbol clock tolerance The symbol clock frequency tolerance shall be    20 ppm maximum. The transmit center frequency and the symbol clock frequency shall be derived from the same referenceoscillator.21.3.3.5 Transmit center frequency leakage The transmitter center frequency leakage shall not exceed   23 dB relative to the overall transmitted poweror, equivalently, in OFDM (MCS 13-24), +2.5 dB relative to the average power of a subcarrier, measuredover a subcarrier spacing bandwidth. 21.3.3.6 Transmit rampup and rampdown The transmit power-on ramp is defined as the time it takes for a transmitter to rise from less than 10% togreater than 90% of the average power to be transmitted in the frame. The transmit power-on ramp shall be less than 10 ns. The transmit power-down ramp is defined as the time it takes the transmitter to fall from greater than 90% toless than 10% of the maximum power to be transmitted in the frame.The transmit power-down ramp shall be less than 10 ns.21.3.3.7 Antenna settingAntenna setting shall remain constant for the transmission of the entire packet except for the case oftransmission of BRP-TX packets (see 21.10.2.2). During the transmission of BRP-TX packets, it shallremain constant for the transmission of the STF, CE field, and Data field. 21.3.3.8 Maximum input requirementThe receiver maximum input level is the maximum power level at the receive antenna(s) of the incomingsignal, in dBm, present at the input of the receiver antenna for which the error rate criterion (defined in21.3.3.9) is met. A compliant receiver shall have a receiver maximum input level at the receive antenna(s) ofat least 10 microwatts/cm2 for each of the modulation formats that the receiver supports. 21.3.3.9 Receive sensitivity For MCS 0, the PER shall be less than 5% for a PSDU length of 256 octets with the MCS dependent inputlevels listed in Table21-3 defined at the antenna port(s). For the other MCSs, the PER shall be less than 1%for a PSDU length of 4096 octets with the MCS dependent input levels listed in Table21-3 defined at theantenna port(s). NOTE  For RF power measurements performed over the air, the input level shall be corrected to compensate for theantenna gain in the implementation. The gain of the antenna is the maximum estimated gain by the manufacturer. In thecase of the phased-array antenna, the gain of the phased-array antenna is the maximum sum of estimated element gainminus 3 dB implementation loss


page 473
445Table21-3 assumes 5 dB implementation loss and 10 dB noise factor (Noise Figure). Table 21-3  Receiver sensitivityMCS indexReceive sensitivity (dBm)0  781  682  66 3  654  645  626  637  628  619  59 10  5511  5412  5313  6614  6415  6316  6217  6018  5819  5620  5421  5322  5123  4924  4725  6426  6027  5728  5729  5730  5731  5


page 474
21.3.4 Timing-related parametersTable 21-4  Timing-related parametersParameterValue NSD: Number of data subcarriers336NSP: Number of pilot subcarriers16NDC: Number of DC subcarriers3NST: Total Number of subcarriers355NSR: Number of subcarriers occupying half of the overall BW177: subcarrier frequency spacing5.15625 MHz(2640 MHz/512)Fs: OFDM sample rate2640 MHzFc: SC chip rate1760 MHz =  FsTs: OFDM Sample Time0.38 ns=1/FsTc: SC Chip Time0.57 ns=1/FcTDFT: OFDM IDFT/DFT period 0.194   sTGI: Guard Interval duration48.4 ns= TDFT/4Tseq72.7 ns=128  TcTSTF: Detection sequence duration1236 ns=17   Tseq TCE: Channel Estimation sequence duration655 ns=9  TseqTSYM: Symbol Interval0.242   s= TDFT+TGITHEADER: Header Duration0.242   s=TSYM (OFDM)0.582   s =2  512   Tc (SC)FCCP: control PHY chip rate1760 MHzTCCP: control PHY chip time0.57 ns = 1/FCCP TSTF-CP: control PHY short training field duration 3.636   s =50   TseqTCE-CP: control PHY channel estimation field duration655 ns=9   TseqTData NSYM  TSYM (OFDM)(NBLKS  512+64)  Tc (SC)NOTE  NSYM is defined in 21.5.3.2.3.3 and NBLKS  is defined in 21.6.3.2.3.3.Table 21-5  Frequently used parametersSymbolExplanationNumber of coded bits per symbolNumber of data bits per symbolNumber of coded bits per single carrierCode rateFCBPSNDBPSNBPSCN


page 475
44721.3.5 Mathematical conventions in the signal description21.3.5.1 GeneralThe transmitted signal is described in complex base-band signal notation. The actual transmitted signal isrelated to the complex baseband signal  by the following relation:whererepresents the real part of a complex variableis the center frequency of the carrierThe transmitted RF signal is generated by modulating the complex baseband signal, which consists ofseveral fields. The fields and the timing boundaries for the various fields are shown in Figure21-2.The time offset, , determines the starting time of the corresponding field. whereEach OFDM base band waveform , for the fields above, is defined via the discrete inverseFourier transform as: whereis the complex constellation point to be transmitted on subcarrier kn is the discrete time indexThe window  is user defined and is used to smooth the transition between fields. ()rt(){}()Re()exp2RFcrtrtjft={}RecfShort Training FieldCE HeaderDatatCEtHeaderTRN-R/T subfieldstTRNtDataFigure 21-2  Packet structureFieldt()()()()()()PPDUSTFCECEHeaderHeaderDataDataTRNTRNrtrtrttrttrttrtt=+   +   +   +   CESTFHeaderCECEDataHeaderHeaderTRNDataDatatTttTttTttT==+=+=+()FieldSrnT()()()()GIexp2FieldFieldSTskFskrnTwnTXjknTT   kX()FieldTswn


page 476
The base band waveform for fields defined by time domain sequences or for single carrier transmission iswhereis the constellation point nConversion from the sampled digital domain to the continuous time domain is beyond the scope of thisdocument. Filtering for pulse shaping such as in GMSK is beyond the scope of this standard. 21.3.5.2 Windowing functionThe windowing function  is used to smooth the transition between adjacent fields in the packetwhere OFDM modulation is employed. No windowing is applied to preamble fields or to SC modulatedfields. The windowing function is different from being equivalent to    1    only in the transition region.An example of a windowing function is given byThe transition region creates an overlap (with length TR) between adjacent fields. The field wave form is extended cyclically to fill the part of the transition region in which it is undefined. If thetransition region vanishes (i.e., TR=0), the windowing function degenerates to a rectangular window. Thechoice of windowing function is implementation dependent, as long as transmit EVM and transmit maskrequirements are met. 21.3.6 Common preamble21.3.6.1 GeneralThe preamble is the part of the PPDU that is used for packet detection, AGC, frequency offset estimation,synchronization, indication of modulation (SC or OFDM) and channel estimation. The format of thepreamble is common to both OFDM packets and SC packets.()()FieldcrnTxn=()xn()FieldTswnTSTFCEHeaderSymbol 1Symbol 2HeaderTSYMTRTRTFigure 21-3  Illustration of windowing function()221sin22221221sin2222RRRRRTRRRtTTtTTTwttTtTTTTtTT   +<=<            <+()FieldSrn


page 477
449The preamble is composed of two parts (Figure21-4): the Short Training field and the Channel Estimationfield. 21.3.6.2 Short Training field The Short Training field is composed of 16 repetitions of sequences Ga128(n) of length 128 defined in 21.11,followed by a single repetition of   Ga128(n). The waveform for the Short Training field is wheremod is the modulus operation21.3.6.3 Channel Estimation fieldThe Channel Estimation field is used for channel estimation, as well as indication of which modulation isgoing to be used for the packet. The Channel Estimation field is composed of a concatenation of twosequences Gu512(n) and Gv512(n), where the last 128 samples of Gu512(n) and Gv512(n) are equal to the last128 samples used in the Short Training field. They are followed by a 128 samples sequence Gv128(n) equalto the first 128 samples of both Gv512(n) and Gu512(n). The Gu512 and Gv512 sequences are defined aswhereGa128 and Gb128 are as defined in 21.11When the data field of the packet is modulated using single carrier, the Gu512 and Gv512 fields areconcatenated in the order illustrated in Figure21-5. When the data field of the packet is modulated usingOFDM, the Gu512 and Gv512 fields are concatenated in the order illustrated in Figure21-6.Ga128Ga128Ga128Ga128Ga128Ga128Ga128-Ga128Gu512Gv512Short Training Field (STF) 2176 TcChannel Estimation Field (CEF) 1152 TcGv128Figure 21-4  SC preamble()()()()()       =        ==112817,,128162exp128mod112816,,1,02exp128mod128128nnjnGannjnGanTrcSTF[][]512128128128128512128128128128GuGbGaGbGaGvGbGaGbGa=         =        


page 478
The waveform for the channel estimation sequence is Note that sequences Gu512(n) and Gv512(n) are defined for 0n511. For other n they are set to 0.21.3.6.4 Transmission of the preamble and BRP fields in an OFDM packet21.3.6.4.1 GeneralThe preamble sequence defined in the above subclauses and the BRP fields defined in 21.10.2.2.5,21.10.2.2.6, and 21.10.2.2.7 are specified at the SC chip rate (Tc). For transmission in the OFDM (nominal)sample rate, the signal is resampled with a 3/2 rate change. The resampling is done by upsampling by afactor of 3, filtering by the filter  defined in 21.3.6.3.1, and downsampling by a factor of 2 (see equationbelow). The resampling is performed using a specific filter  since the OFDM receiver needs to knowthis filter to correct for its response during channel estimation. To define the transmission of the preamblewhen the packet is an OFDM packet, the preamble waveform is defined below. Let Then: -Gb128-Ga128Gb128-Ga128-Gb128Ga128-Gb128-Ga128-Ga128Ga128Ga128Ga128-Gb128Gv512Gu512Gv128...Short Training FieldChannel Estimation FieldFigure 21-5  Channel Estimation field for SC packets -Gb128-Ga128Gb128-Ga128-Gb128Ga128-Gb128-Ga128-Ga128Ga128Ga128Ga128-Gb128Gv512Gu512Gv128Channel Estimation FieldShort Training Field...Figure 21-6  Channel Estimation field for OFDM packets()()()()()()()()()()5125125125125125125121024exp,0,1,,115125121024exp,0,1,,11512SCOFDMCEcCEcnrnTGunGvnGvnjnnrnTGvnGunGunjn=+   +   ==+   +   =FilthFilth()()(), where  is or  as appropriate.SCOFDMpreamblecSTFcCEcceCECECErnTrnTrnTtrrr=+   ()()()()()()()()()()(),1,0,212~,1,0,~0,6,3,0222102222322=      ==   ===   =nKnrnTrnkhknrnrotherwisennrnrsssscsTTOFDMpreamblesOFDMpreambleKkFiltTOFDMpreambleTOFDMpreambleTpreambleTOFDMpreambl


page 479
451whereK is the length of the filter defined in 21.3.6.4.221.3.6.4.2 hFilt definitionThe filter  is defined by the following coefficients (from h0 to h70): [-1,0,1,1,-2,-3,0,5,5,-3,-9,-4,10,14,-1,-20,-16,14,33,9,-35,-42,11,64,40,-50,-96,-15,120,126,-62,-256,-148,360,985,1267,985,360,-148,-256,-62,126,120,-15,-96,-50,40,64,11,-42,-35,9,33,14,-16,-20,-1,14,10,-4,-9,-3,5,5,0,-3,-2,1,1,0,-1]. Normalized to have a norm of  so that .21.3.7 HCS calculation for headers of control PHY, OFDM PHY, and SC PHYThe header check sequence (HCS) is a CRC of the header bits. The header is considered to be a stream ofbits b0,   ,bM-1. The CRC is based on CRC 16-CCITT. The value of the CRC field is the ones complement ofwhere is the header bits represented as polynomial (over the binary field) whereb0 is bit 0 of the header and bM-1 is bit M-1 of the headeris an initialization polynomial added to the first 16 bits of the header (setting the shiftregister bits to 1) is the CRC generating polynomial The CRC field is transmitted with x15 first.For a block diagram and an example of how to calculate the CRC, see 16.2.3.7.21.3.8 Common LDPC parity matrices21.3.8.1 GeneralFour Low-Density Parity-Check (LDPC) codes are specified, each of a different rate but with a commoncodeword size of 672 bits.Each of the parity-check matrices H is partitioned into square submatrices of size Z x Z. The submatrices areeither cyclic-permutations of the identity matrix, or null submatrices with all zero entries.A location with integer i denotes the cyclic-permutation submatrix Pi obtained from the Z x Z identity matrixby cyclically shifting the columns to the right by i elements. The matrix Po is the Z x Z identity matrix. Anempty location denotes a null submatrix of size Z x Z.Examples with Z = 4:()()0for,0~2<=nnrOFDMpreambleFilth3()()()()()16modCRCDMDIDDGD()12011MMMMDbDbDb         =+++()116MkkMIDD   =   =()161251GDDDD=+++1514011415()CRCDxDxDxDx=++


page 480
21.3.8.2 Rate-1/2 LDPC code matrix H = 336 rows x 672 columns, Z = 4221.3.8.3 Rate-5/8 LDPC code matrix H = 252 rows x 672 columns, Z = 42Table 21-6  Rate 1/2 LDPC code matrix (Each nonblank element i in the table is the cyclic permutation matrix Pi of size Z    Z; blank entries represent the zero matrix of size Z    Z)4038135183435273021363173410412718122015635414039283282902242827233123212012013223431144132224Table 21-7  Rate 5/8 LDPC code matrix (Each nonblank element i in the table is the cyclic permutation matrix Pi of size Z    Z; blank entries represent the zero matrix of size Z    Z)2036343120741341041302718122014225156354140392832829022428272423312321209120132234311442224===01000010000110000001100001000010,1000010000100001310PP


page 481
45321.3.8.4 Rate-3/4 LDPC code matrix H = 168 rows x 672 columns, Z = 4221.3.8.5 Rate-13/16 LDPC code matrix H = 126 rows x 672 columns, Z = 4221.3.9 ScramblerThe header and data fields following the scrambler initialization field (including data padding bits) shallbe scrambled by XORing each bit in turn with a length 127 periodic sequence generated by the polynomial. The PLCP header bits, with the exception of the first seven bits for SC and OFDM and thefirst five bits for control PHY, are placed one after the other, bit 7 first (bit 5 first for control PHY). Theoctets of the PSDU and the pad bits shall be placed into a bit stream with bit 0 (LSB) of each octet first andbit 7 of each octet (MSB) last. The generation of the sequence and the XOR operation are defined inFigure21-7. Table 21-8  Rate 3/4 LPDC code matrix (Each nonblank element i in the table is the cyclic permutation matrix Pi of size Z    Z; blank entries represent the zero matrix of size Z    Z)35194122404139628181732829300833221742728202724233731182311216203291229013252243431314154141813132224Table 21-9  Rate 13/16 LDPC code matrix (Each nonblank element i in the table is the cyclic permutation matrix Pi of size Z    Z; blank entries represent the zero matrix of size Z    Z)2930083322174272820272423373118231121620329122910013252243431314154214181313222474()1Sxxx=++x1x2x3x4x5x6x7Data InScrambled Data OutFigure 21-7  Data scramble


page 482
For each PPDU, the transmitter shall select a nonzero seed value for the scrambler (bits x1 through x7). Theseed value should be selected in a pseudo random fashion. The seed value is sent in the ScramblerInitialization field of the PLCP header. Each data bit in the data field of the PPDU is then XORed with thescrambler output (x4 XOR x7) and the scrambler content shifted once. 21.3.10 Received channel power indicator (RCPI) measurementThe RCPI is a measure of the received RF power in the selected channel as measured at the DMG Antennaoutput. This parameter shall be measured by the PHY of the received RF power in the channel measuredover the preamble of the received frame. RCPI shall be a monotonically increasing, logarithmic function ofthe received power level defined in dBm. The allowed values for the Received Channel Power Indicator(RCPI) parameter shall be an 8 bit value in the range from 0 to 220, with indicated values rounded to thenearest 0.5 dB as follows:  0: Power <   110 dBm  1: Power =   109.5 dBm  2: Power =   109.0 dBmAnd so on up to:  220: Power > 0 dBm  221  254: reserved  255: Measurement not availablewhere RCPI = int{(Power in dBm +110)    2} for 0 dBm > Power >   110 dBm RCPI shall equal the received RF power with an accuracy of    5 dB (95% confidence interval) within thespecified dynamic range of the receiver. The received RF power shall be determined assuming a receivernoise equivalent bandwidth equal to the channel width multiplied by 1.1. The relative error between RFpower measurements made within a 1 second interval should be less than    1 dB.21.4 DMG control PHY21.4.1 IntroductionTransmission and reception of control PHY PPDUs is mandatory. Control PHY uses the same chip rate asthe SC PHY. Control PHY is transmitted when the TXVECTOR indicates MCS 0. The modulation and coding scheme for the control PHY is shown in Table21-10. 21.4.2 Frame formatThe control PHY frame is composed of the Preamble, Header, Data field, and possibly AGC and TRN-R/Tsubfields. This is shown in Figure21-8.Table 21-10  Modulation and coding scheme for the control PHYMCS indexModulationCode rateData rate0DBPSK1/2aaCode rate and data rate may be lower due to codeword shortening.27.5 Mbps


page 483
45521.4.3 Transmission21.4.3.1 Preamble21.4.3.1.1 GeneralThe preamble is the part of the control PHY PPDU that is used for packet detection, AGC, frequency offsetestimation, synchronization, indication of frame type and channel estimation. The preamble is composed of two parts as shown in Figure21-9: the Short Training field and the ChannelEstimation field.21.4.3.1.2 Short Training fieldThe Short Training field is composed of 48 repetitions of the sequence Gb128(n) of length 128, followed bya single -Gb128(n) sequence (for synchronization) and then a single -Ga128(n) sequence. The sequencesGa128(n) and Gb128(n) are defined in 21.11. The waveform for the Short Training field is where mod is the modulus operation. Note that sequences Ga128(n) and Gb128(n) are defined for 0n127.For other n they are set to 0.21.4.3.1.3 Channel Estimation fieldThe Channel Estimation field is the same as the Channel Estimation field of the SC PHY, as defined inFigure21-5 of 21.3.6.3.PreambleHeader BlockDataTRN-R/T subfieldsAGC subfieldsFigure 21-8  Control PHY framesGU512GV512Short Training Field (STF) 5120 TcChannel Estimation Field (CEF) 1152 Tc-Gb128-Ga128Gb128Gb128Gb128Gb128Gb128GV128...Figure 21-9  Control PHY preambl


page 484
21.4.3.2 Header21.4.3.2.1 GeneralIn the control PHY, the preamble is followed by the header block. The header consists of several fields thatdefine the details of the PPDU to be transmitted. The header fields are described in Table21-11.All the numeric fields are encoded in unsigned binary, least significant bit first.Reserved bits are set to 0 by the transmitter and shall be ignored by the receiver. 21.4.3.2.2 Generation of HCS bitsThe header check sequence (HCS) is calculated over bits 0-23 and uses CRC 16-CCITT as described in21.3.7.21.4.3.2.3 Header encoding and modulationThe header bits followed by the HCS bits are prepended to the data field bits and passed into the data fieldencoder per 21.4.3.3. The minimal payload length is 14 octets.Table 21-11  Control PHY header fieldsField nameNumber of bitsStarting bitDescriptionReserved10Set to 0 (differential detector initialization).Scrambler Initialization 41Bits X1  X4 of the initial scrambler state. Length 10 5Number of data octets in the PSDU. Range 14  1023. Packet Type 115 Corresponds to the TXVECTOR parameter PACKET-TYPE.   Packet Type = 0 indicates either a packet whose data part is followed by one or more TRN-R subfields, or a packet that is requesting TRN-R subfields to be appended to a future response packet.  Packet Type = 1 indicates a packet whose data part is followed by one or more TRN-T subfields.The field is reserved when the Training Length field is 0.Training Length 5 16Length of the training field. The use of this field is defined in 21.10.2.2.3.Turnaround 1 21As defined in Table21-1.Reserved bits222Set to 0, ignored by the receiver. HCS 16 24 Header Check sequence. Calculation of the header check sequence is defined in 21.3.7


page 485
45721.4.3.3 Data field21.4.3.3.1 GeneralThe Data field consists of the payload data of the PSDU. The PSDU is scrambled, encoded, modulated andspread as described in the following subclauses.21.4.3.3.2 ScramblerThe operation of the scrambler is defined in 21.3.9. Bits x1, x2, x3, x4 of the scrambler shift register areinitialized using the bits in the scrambler initialization bits from the header, bits x5, x6, x7 are set to 1. Theheader is scrambled starting from bit 5. The scrambling of the data field continues the scrambling of theheader with no reset. 21.4.3.3.3 Encoder The control PHY header and data is encoded using an effective LDPC code rate less than or equal to   ,generated from the data PHY rate    LDPC parity check matrix, with shortening. The following steps areused for the encoding: 1) is the maximal number of data bits in each LDPC codeword. Define =5 as the lengthof the header (including header CRC), and  is the length of the additional data in the headerLDPC codeword in octets. Define the number of header and data bits in the first LDPC codeword as. The number of LDPC codewords is calculated. The number of bits in the second and any subsequent codeword (ifpresent), except the last, is 2)The number of bits in the last codeword is defined as .3)The output stream of the scrambler is broken into blocks of L = LDPFCW, LDPCW, or LDPLCW bits(depending on the codeword index) such that the mth data word is .4)Each data word is padded with zeros to create 504 total bits.5)To each data word, LCWD parity bits  are added to create thecodeword  such that .6)The output is the stream bits generated from the codewords, with the zero padding removed from allcodewords.Example: If , then , , and. In the first LDPC block the 40 header+HCS bits are encoded alongwith additional 48 bits of the data.21.4.3.3.4 ModulationThe scrambled and coded bit stream is converted into a stream of complex constellation points usingdifferential binary phase shift keying (DBPSK) as follows.The encoded bit stream is converted the nondifferential stream . Thedifferential sequence is created by setting . For the differential encoding purposes d(  1)is defined to be 1.  is the first bit of the encoded header bits.168=CWDLHDRLFDCWL()888=  +=FDCWHDRDPFCWLLL()     +=CWDCWLLengthN861()        =186CWDPCWNLengthL()DPCWCWDPLCWLNLengthL             =)2(86())()(2)(1,...,,mLmmbbb())()(2)(1,...,,mLmmCWDppp())()(2)(1)()(2)(1)(,...,,,0,...,0,,...,,mLmmmLmmmCWDpppbbbc=0)(=TmHc120=Length()7861201=     +=CWDCWLN()7861201=     +=CWDCWLN()152152)27(86120=             =DPLCWL[]01234, , , , , .....ccccc()21kskc=   ()()()1     =kdkskd()0


page 486
21.4.3.3.5 SpreadingThe constellation points are spread using the sequence Ga32(n), which is defined in 21.11.The waveform for the modulated and spread data field is where  means the largest integer smaller than a real number x and is the modulated constellationpoint k. 21.4.4 Performance requirements 21.4.4.1 Transmit requirements 21.4.4.1.1 IntroductionTransmitter performance requirements of the CPHY are defined in 21.4.4.1.2. 21.4.4.1.2 Transmit EVMThe transmit EVM accuracy test shall be performed by instrumentation capable of converting thetransmitted signal into a stream of complex samples, with sufficient accuracy in terms of I/Q arm amplitudeand phase balance, dc offsets, phase noise, etc.  The instrumentation shall perform carrier lock, symboltiming recovery, and amplitude adjustment while making the measurements. The instrumentation shallincorporate a rake receiver or equalizer to minimize error resulting from multipath. If used, the equalizershall be trained using information in the preamble (STF and/or CEF). For the CPHY EVM, the signal is firstde-spread using Ga32. The EVM is then calculated on the resulting symbols according to the formula below:where  is the number of symbols to be measured and Ns should be greater than 511, is the averagepower of the constellation,  is the complex coordinates of the measured symbol i, and is thecomplex coordinates of the ideal constellation point for the measured symbol i. The test equipment should use a root-raised cosine filter with roll-off factor of 0.25 for the pulse shapingfilter when conducting EVM measurement. The transmit pulse shaping used is left to the implementer.The EVM shall not exceed a data-rate dependent value according to Table21-12.Table 21-12  EVM requirement for control PHYMCS indexDescriptionEVM value [dB]0CPHY Modulation  6 x()dk()()[]   +   ==SNiiiiiavgsQQIIPNEVM12*2*101log20SNavgP(),iiIQ()**,iiI


page 487
45921.4.4.2 Receive requirements 21.4.4.2.1 IntroductionSubclause 21.4.4.2 describes the performance requirement from the CPHY receiver.21.4.4.2.2 CCAThe start of a valid DMG control PHY transmission at a receive level greater than the minimum sensitivityfor control PHY (  78 dBm) shall cause CCA to indicate busy with a probability > 90% within 3   s. 21.5 DMG OFDM PHY21.5.1 IntroductionTransmission and reception of OFDM PHY PPDUs is optional.21.5.2 Frame formatAn OFDM frame is composed of the Short Training Field (STF), the channel estimation field (CE), theHeader, OFDM symbols and optional training fields (see 21.10.2.2.2), as shown in Figure21-10.21.5.3 Transmission21.5.3.1 Header 21.5.3.1.1 GeneralIn the OFDM PHY, the preamble is followed by the PLCP header. The PLCP header consists of severalfields that define the details of the PPDU being transmitted. The encoding and modulation of the header isdescribed in 21.5.3.1.4.The header fields are described in Table21-13.Table 21-13  OFDM header fieldsField nameNumber of bitsStart bitDescriptionScrambler Initialization70Bits X1  X7 of the initial scrambler state. MCS57Index into the Modulation and Coding Scheme table.Length1812Number of data octets in the PSDU. Range 1  262143.Short Training FieldCEHeaderSymSymTRN-R/T subfieldsSymSymAGC subfieldsFigure 21-10  OFDM frame forma


page 488
Table 21-13  OFDM header fields  (continued)Field nameNumber of bitsStart bitDescriptio


page 489
461All the numeric fields are encoded in unsigned binary, least significant bit first.Reserved bits are set to 0 by the transmitter and shall be ignored by the receiver. If the Additional PPDU field is equal to 1, the Training Length field shall be set to 0.21.5.3.1.2 Modulation and coding schemeThe modulation and coding scheme (MCS) field specifies the modulation and code rate used in the PPDU.The modulation and coding schemes for OFDM modulations are defined in Table21-14.Last RSSI441Contains a copy of the parameter LAST_RSSI from the TXVECTOR. When set to 0, this field is reserved and ignored by the receiver.The value is an unsigned integer:   Values of 2 to 14 represent power levels (  71+value  2) dBm.  A value of 15 represents a power greater than or equal to   42 dBm.  A value of 1 represents a power less than or equal to   68 dBm.Value of 0 indicates that the previous packet was not received a SIFS period before the current transmission. Turnaround 1 45As defined in Table21-1.Reserved246Set to 0, ignored by receiverHCS1648Header check sequence. Definition of this field calculation is in 21.5.3.1.3. Table 21-14  Modulation and coding scheme for OFDMMCS indexModulationCode rateNBPSCNCBPSNDBPSData rate (Mbps)13SQPSK1/21336168693.0014SQPSK5/81336210866.2515QPSK1/226723361386.0016QPSK5/826724201732.5017QPSK3/426725042079.001816-QAM1/2413446722772.001916-QAM5/8413448403465.002016-QAM3/44134410084158.002116-QAM13/164134410924504.50Table 21-13  OFDM header fields  (continued)Field nameNumber of bitsStart bitDescriptio


page 490
A device that supports OFDM shall support MCSs 13-17 for both Tx and Rx. 21.5.3.1.3 Generation of the HCS bitsCalculation of the HCS for bits 0-47 of the header is defined in 21.3.7.21.5.3.1.4 Header encoding and modulationThe header is encoded using a single OFDM symbol. The bits are scrambled and encoded as follows:1)The 64 header bits (b1, b2,    , bLH), where LH = 64, are scrambled as described in 21.3.9, startingfrom the eighth bit, to create q=(q1,q2,   ,qLH).2)The sequence q is padded with 440 zeros to obtain a total of 504 bits,(q1,q2,   ,qLH,0LH+1,0LH+2,   0504), which are then encoded using the rate-3/4 LDPC code asdescribed in 21.5.3.2.3.3. 168 parity bits, p1,p2,   ,p168, are generated.3)A sequence c1 is generated as (q1,q2,   ,qLH,p9,p10,   p168).4)A sequence c2 is generated as (q1,q2,   ,qLH,p1,p2,   p84, p93,p94,   p168) XORed with a one-timepad sequence generated using the scrambler defined in 21.3.9, with the shift register is initialized toall ones.5)A sequence c3 is generated as (q1,q2,   ,qLH,p1,p2,   p160) XORed with the continuation of the one-time pad sequence generated in step 4).6)The sequences c1,c2 and c3 are concatenated to form the 672-bit sequencec=(c1,c2,c3,   ,c672)=(c1,c2,c3).7)The 672-bit sequence, c, is then mapped as QPSK as described in 21.5.3.2.4.3, pilots are inserted asdescribed in 21.5.3.2.5 and the resulting sequence d0,d1,...,dSD-1 is modulated as an OFDM symbolas follows: where p1 and Pk are defined in 21.5.3.2.5 and Dk is defined in 21.5.3.2.6. 21.5.3.2 Data field21.5.3.2.1 GeneralThe data field consists of the payload data of the PSDU and possible padding. The data are padded withzeros, scrambled, encoded and modulated as described in the following subclauses. The amount of paddingis defined in 21.5.3.2.3.2264-QAM5/86201612605197.502364-QAM3/46201615126237.002464-QAM13/166201616386756.75Table 21-14  Modulation and coding scheme for OFDM  (continued)MCS indexModulationCode rateNBPSCNCBPSNDBPSData rate (Mbps)()()()()()   =   +=SRSRSYMNNkGISFkkSTTonesSHeaderTqTkjPpDqTwNqTr2exp1


page 491
46321.5.3.2.2 ScramblerThe operation of the scrambler is defined in 21.3.9. The scrambling of the data field continues thescrambling of the header with no reset.21.5.3.2.3 Encoding21.5.3.2.3.1 GeneralThe data are encoded by a systematic LDPC encoder. LDPC is a block code. Each block of bits (b1, b2,...,bk)is concatenated with a block of parity bits (p1,p2,   .,pn-k) to create a codeword c=( b1, b2,...,bk,p1,p2,   .,pn-k)such that HcT=0. H is an (n-k)  n parity check matrix. The block size n is 672 bits. The code rate, R, is equalto k/n. The set of code rates is defined in Table21-15. The parity check matrices are defined in 21.5.3.2.3.2.The encoding process is defined in 21.5.3.2.3.3. 21.5.3.2.3.2 Parity check matricesSee 21.3.8.21.5.3.2.3.3 LDPC encoding processThe LDPC encoding process is composed of several steps including determining the number of padding bits,padding with zeros and the coding of every word.1)First the total number of padding bits NPAD is calculated, using the number of LDPC codeword NCWand the number of OFDM symbols NSYM:Recalculate  where LCW=672 is the LDPC codeword length, Length is the length of the PSDU defined in theheader field, R is the code rate and NCBPS is the number of code bits per symbol as defined in theMCS table.2)The PSDU is concatenated with NPAD zeros. They are scrambled using the continuation of thescrambler sequence that scrambled the PSDU. Table 21-15  LDPC code ratesCode rateCodeword sizeNumber of data bits1/26723365/86724203/467250413/166725468aBRPminOFDMblocks;aBRPminOFDMblocks8CWCWCWCWSYMCBPSSYMSYMPADSYMCBPSLengthNLRNLNNifBRPpacketandNNNRNNLength  =    =<==         CWCBPSCWLN  N = NSY


page 492
3)The output stream of the scrambler is broken into blocks of LCWD= R  LCW bits such as the m   thdata word is . 4)To each data word, n-k=LCW-R  LCW parity bits  are added to create thecodeword  such that . 5)The codewords are the concatenated one after the other to create the coded bits stream.21.5.3.2.4 Modulation mapping21.5.3.2.4.1 GeneralThe coded bits are mapped to complex constellation points for the modulation specified in the MCS asdescribed in the following subclauses.21.5.3.2.4.2 SQPSK modulationIn SQPSK (Spread QPSK) modulation, the input stream is broken into groups of NCBPS bits   . Each pair of bits  is converted into a complexconstellation point . This generates the constellation points for half theOFDM subcarriers. For the other subcarriers,  where the indicesP(k), in the range of NCBPS /2 to NCBPS-1, are as defined in 21.5.3.2.6. 21.5.3.2.4.3 QPSK modulationa)The input stream is broken into groups of NCBPS bits    . Each group of four bits is converted into two complex constellation points. The block is created.b)Each pair of constellation points  is converted into where the matrix  and the indices P(k), in the rangeof NSD /2 to NSD-1, are as defined in 21.5.3.2.5.c)The output is the stream of blocks .21.5.3.2.4.4 16-QAM modulationThe input stream is broken into groups of NCBPS bits . Each group of eight bits is converted into two complexconstellation points  such that The output is the stream of blocks . ()()()()12,,,CWDmmmLbbb()()()()12,,,mmmnkppp   ()()()()()()()121,,,,,CWDmmmmmmLnkbbbpp   =c()m=THc0()12,,SYMCBPSNNccc  ()()()()011,,,CBPSqqqNccc   ()()()2221,,0,1,,1CBPSqqNkkcck+=   ()()()()()()221121212qqqkkkdcjc+=   +   ()12,...,1,0for  conj)()()(   ==CBPSqkqkPNkdd()()()()011,,,CBPSqqqNccc   ()()()()()4414243,,,qqqqkkkkcccc+++()()()()()()()()()()()()2442214143112121,212122qqqqqqkkkkkkxcjcxcjc++++=   +   =   +   ()()()()2011,,,NCBPSqqqxxx   ()()()2221,,0,1,1SDqqNkkxxk+=   [][]TqkqkTqkPqkxxQdd)(12)(2)()()(,,+=121215Q=   ()()()()011,,,,1,,SDqqqNSYMdddqN   =()()()()011,,,CBPSqqqNccc   ()12,,2,1,0for  ,,,,,,,)(234)(224)(214)(24)(34)(24)(14)(4   =++++++++++SDqNkqNkqNkqNkqkqkqkqkNkccccccccSDSDSDSD())(12)(2,qkqkxx+()()()[]()()()[]{}()()()[]()()()[]{}121224121224101and 121224121224101)(234)(224)(224)(214)(24)(24)(12)(34)(24)(24)(14)(4)(4)(2            +            =            +            =+++++++++++++++qNkqNkqNkqNkqNkqNkqkqkqkqkqkqkqkqkSDSDSDSDSDSDcccjcccxcccjcccx()()()()1,2,1,0,,,,,(1210   =   SYMqNqqqNqxxxxS


page 493
46521.5.3.2.4.5 64-QAM modulationThe input stream is broken into groups of NCBPS bits . The constellation point for thek   th subcarrier in the q   th symbol is NOTE  This mapping provides interleaving between three LDPC codewords on a subcarrier basis.The mapping is shown in Figure21-11.21.5.3.2.4.6 Tone pairing for SQPSK and QPSK21.5.3.2.4.6.1 GeneralWhen SQPSK or QPSK modulations are employed in OFDM, bit sequences are mapped to pairs of symbols where k is in the range of  and P(k) is in the range of  in()()()()011,,,CBPSqqqNccc   ()()()()()()()()()()()()()()()()()()()()()()()()()()()()166616616242163636463646542842142212121842142212121112mod3/3,0,1,,1qqqqqqqkmmmmmmqqqqqqmmmmmmSDdccccccjccccccmkkkN+++++++++=            +         ++            +         =+=   110 110111 110110 111111 111010 111011 111010 110011 110011 010010 010110 010111 010011 011010 011110 011111 011IQc6kc6k+1c6k+2c6k+3c6k+4c6k+5-1-331-3-1110 101111 101110 100111 100010 100011 100010 101011 10175110 000111 000110 001111 001010 001011 001010 000011 000-5-7101 110100 110101 111100 111101 010100 010101 011100 011101 101100 101101 000100 000101 001100 001000 110001 110000 111001 111000 010001 010000 011001 011000 101001 101000 000001 000000 001001 001001 100000 100100 100101 100-5-73571Figure 21-11  64-QAM modulation mapping())()()(,qkPqkdd120   SDNk()12   SDSDNkP


page 494
order to exploit frequency diversity. The indices k and P(k) determine which pair of OFDM subcarriers eachpair of symbols are carried on.All DMG PHYs shall support Static Tone Pairing (STP) where a constant mapping between k and P(k) isemployed. The PHY header is always encoded using STP. A STA may employ Dynamic Tone Pairing (DTP) where the mapping between k and P(k) are determined bythe receiving STA and fed back to the transmitting STA. An STA may use DTP when transmitting to a DTP-capable STA, from which it has received DTP feedback. 21.5.3.2.4.6.2 Static tone pairing (STP)When applied to the payload, STP is indicated by the Tone Pairing Type field in the PHY header set to 0.STP is always applied to the PHY header.When STP is applied, the QPSK or SQPSK symbol-pair indices k and P(k) are such that21.5.3.2.4.6.3 Dynamic tone pairing (DTP)When applied, DTP is indicated by the Tone Pairing Type field in the PHY header set to 1. DTP can beapplied only to the payload of a PPDU employing MCS 13-17. When DTP is applied, the SQPSK symbol-pair indices, k and P(k), are such thatwhereNTPG denotes the number of tones per groupToneIndexOffset(l) denotes the starting index of the l-th group of tone pairs, for The values of NTPG and ToneIndexOffset(l) for  are derived from the DTP Reportelement (8.4.2.148) included in the last received DTP Report frame (8.5.20.9).The number of tone-pairs per group, NTPG, is derived aswhereNG is the number of DTP groups, which is equal to 42The tone index offsets, ToneIndexOffset(l), are derived as12,...,2,1,0for  2)(   =+=SDSDNkNkkP()12,...,2,1,0for    ,mod ffsetToneIndexO)(   =+=SDTPGTPGNkNkNkkP1,...,2,1,0   =TPGSDNNl1,...,2,1,0   =TPGSDNNlGSDTPGNNN2=2/)(ndexGroupPairI)(ffsetToneIndexOSDTPGNlNl+  


page 495
467whereGroupPairIndex(l) is the value of the GroupPairIndex(l) subfield of the DTP Report element21.5.3.2.5 Pilot sequencePilot tones are inserted at tones -150, -130, -110, -90, -70, -50, -30, -10, 10, 30, 50, 70, 90, 110, 130,150. Thevalues of the pilots at these tones is [-1, 1, -1, 1, 1, -1, -1, -1, -1, -1, 1, 1, 1, -1, 1, 1], respectively. The pilotsequence P is created by creating a sequence of zeros corresponding to tones -NSR to NSR. The pilots are theninserted at the corresponding tones with the values specified above. At OFDM symbol n the pilot sequence is multiplied by the value 2  pn-1, where pn is the value generated bythe shift register defined in 21.5.3.2.2 if x1,x2,   x7 are all set to 1 at the first OFDM symbol.21.5.3.2.6 OFDM modulationThe stream of complex constellation points dk is broken into groups of NSD points dm,n where m=1,2,   ,NSDand n=1,2,   ,NSYM. The baseband signal for the data phase is wherepn, P are defined in 21.5.3.2.5 is the number of active subcarriersThe header symbol uses  with ()()()()()()()=   =+         +      =SYMSRSRSYMNnNNkGISYMSFknnkSYMSTTonesSDATATTnqTkjPpDTnqTwNqTr11,12exp11TonesSTDCNNN=   ()(),,00,1,10,30,50,70,90,110,130,150Otherwise17817715117714913117612911117510991174897117369511724931171291117092knMknkDdkkkkkkkkkkkkkkkkkkMk=                  =+      +      +      +      +      +      +      +      +      =16729166112916531491645169163718916291109161111129160131149159151177kkkkkkkkkkkkkkkkkknp.1=


page 496
21.5.4 Performance requirements 21.5.4.1 Transmit requirements21.5.4.1.1 IntroductionThis subclause describes the performance requirement from the OFDM PHY transmitter.21.5.4.1.2 Transmit EVM The transmit EVM accuracy test shall be performed by instrumentation capable of converting thetransmitted signal into a stream of complex samples, with sufficient accuracy in terms of I/Q arm amplitudeand phase balance, dc offsets, phase noise, etc. The sampled signal shall be processed in a manner similar to an actual receiver, according to the followingsteps, or an equivalent procedure:a)Start of frame shall be detected.b)Transition from short sequences to channel estimation sequences shall be detected, and fine timing(with one sample resolution) shall be established.c)Frequency offsets shall be estimated and corrected.d)The frame shall be de-rotated according to estimated frequency offset.e)The complex channel response coefficients shall be estimated for each of the subcarriers usinginformation contained in the preamble (STF and/or CEF).f)For each of the OFDM symbols: transform the symbol into subcarrier received values, estimate thephase from the pilot subcarriers, derotate the subcarrier values according to estimated phase, anddivide each subcarrier value with a complex estimated channel response coefficient.g)For subcarrier, compute the Euclidean distance to the ideal location for the symbol, or pilot. h)Compute the RMS average of all errors in a packet. It is given bywhere is the number of framesi is the frame indexk is the carrier indexK is the set of pilot and data subcarriers {1,2,    , (NSR    1), (NSR + NDC),(NSR+NDC+1),   , NST}j is the symbol index is the number of symbols is the total number of subcarriersI*,Q* is the ideal constellation point for I and Q, respectivelyP0 is the average power of the constellation (I*,Q*) computed over the ith frameThe measurements shall occur only on the OFDM symbols, the measurement shall be performed on at least10 frames with 16 symbols at least in each of them. Random data shall be used.()()[]()      +   ==fSYMNiSYMDCSTNjKkfPNNNkjiQkjiQkjiIkjiINEVM1012*2*10),,(),,(),,(),,(1log20fNSYMNST


page 497
469The EVM RMS error shall not exceed an MCS dependent value as found in Table21-16.21.5.4.1.3 Tx flatness When using the OFDM PHY and only while transmitting OFDM symbols, the average energy of the OFDMSymbols constellations in each of the subcarriers with indices   146 to   2 and +2 to +145 shall deviate nomore than    2 dB from their average energy. The average energy of the constellations in each of thesubcarriers with indices   147 to   177 and +147 to +177 shall deviate no more than +2/  4 dB from theaverage energy of subcarriers with indices   177 to   2 and +2 to +177.21.5.4.1.4 Time of Departure accuracyThe Time of Departure accuracy test evaluates TIME_OF_DEPARTURE against aTxPmdTxStartRMS andaTxPmdTxStartRMS against TIME_OF_DEPARTURE_ACCURACY_TEST_THRESH as defined inAnnex T with the following test parameters:  MULTICHANNEL_SAMPLING_RATE is 2640x106 sample/s   FIRST_TRANSITION_FIELD is Short Training field   SECOND_TRANSITION_FIELD is Channel Estimation field  TRAINING_FIELD is Channel Estimation field   TIME_OF_DEPARTURE_ACCURACY_TEST_THRESH is 80 ns NOTE  The indicated windowing applies to the time of departure accuracy test equipment, and not the transmitter orreceiver.21.5.4.2 Receive requirements21.5.4.2.1 IntroductionSubclause 21.5.4.2 describes the performance requirement for an OFDM receiver. Table 21-16  EVM requirements for OFDMMCS indexModulationCoding rateEVM value [dB]13SQPSK1/2  714SQPSK 5/8  915QPSK1/2  1016QPSK5/8  1117QPSK3/4  131816QAM1/2  151916QAM5/8  172016QAM3/4  192116QAM13/16  202264QAM5/8  222364QAM3/4  242464QAM13/16  2


page 498
21.5.4.2.2 CCAThe start of a valid DMG OFDM PHY or DMG SC PHY transmission at a receive level greater than theminimum sensitivity for MCS 1 (  68 dBm) shall cause CCA to indicate busy with a probability >90%within 1   s. 21.6 DMG SC PHY21.6.1 IntroductionTransmission and reception of SC PHY PPDUs is mandatory for select MCSs.21.6.2 Frame formatA SC frame is composed of the Short Training Field (STF), the channel estimation field (CE), the Header,SC blocks and optional training fields, as shown in Figure21-12.21.6.3 Transmission21.6.3.1 Header21.6.3.1.1 GeneralIn the SC PHY, the preamble is followed by the header. The header consists of several fields that define thedetails of the PPDU to be transmitted. The encoding and modulation of the header is described in 21.6.3.1.4.The header fields are described in Table21-17.Table 21-17  SC header fieldsField nameNumber of bitsStart bitDescriptionScrambler Initialization70Bits X1  X7 of the initial scrambler state.MCS57Index into the Modulation and Coding Scheme tableLength1812Number of data octets in the PSDU.Range 1  262143Additional PPDU130Contains a copy of the parameter ADD-PPDU from the TXVECTOR. A value of 1 indicates that this PPDU is immediately followed by another PPDU with no IFS or preamble on the subsequent PPDU. A value of 0 indicates that no additional PPDU follows this PPDU. Packet Type131See definition of Packet Type field in Table21-11.Short Training FieldCEHeaderBLKBLKTRN-R/T subfieldsBLKBLKAGC subfieldsFigure 21-12  SC frame forma


page 499
471All the numeric fields are encoded in unsigned binary, least significant bit first.Reserved bits are set to 0 by the transmitter and shall be ignored by the receiver. If the Additional PPDU field is equal to 1, the Training Length field shall be set to 0.21.6.3.1.2 Modulation and coding schemeThe modulation and coding scheme defines the modulation and code rate that is used in the PPDU. Themodulation and coding schemes for SC are defined in Table21-18.MCS 4 and below are mandatory for each Tx and Rx of a device. MCS 5-12 are optional. Training Length5 32Corresponds to the TXVECTOR parameter TRN-LEN.If the Beam Tracking Request field is 0, the Training Length field indicates the length of the training field. The use of this field is defined in 21.10.2.2.3. A value of 0 indicates that no training field is present in this PPDU.If the Beam Tracking Request field is 1 and the Packet Type field is 1, the Training Length field indicates the length of the training field. If the Packet Type field is 0, the Training Length field indicates the length of the training field requested for receive training.Aggregation137Set to 1 to indicate that the PPDU in the data portion of the packet contains an A-MPDU; otherwise, set to 0.Beam Tracking Request138Corresponds to the TXVECTOR parameter BEAM_TRACKING_REQUEST.Set to 1 to indicate the need for beam tracking (9.35.7); otherwise, set to 0.The Beam Tracking Request field is reserved when the Training Length field is 0.Last RSSI 439Contains a copy of the parameter LAST_RSSI from the TXVECTOR. When set to 0, this field is reserved and ignored by the receiver.The value is an unsigned integer: Values of 2 to 14 represent power levels (  71+value  2) dBm.A value of 15 represents a power greater than or equal to   42 dBm.A value of 1 represents a power less than or equal to   68 dBm.Value of 0 indicates that the previous packet was not received a SIFS period before the current transmission. Turnaround 1 43As defined in Table21-1.Reserved444Set to 0, ignored by the receiverHCS1648Header check sequenceTable 21-17  SC header fields  (continued)Field nameNumber of bitsStart bitDescriptio


page 500
21.6.3.1.3 Generation of the HCS bitsCalculation of the HCS for bits 0-47 of the header is defined in 21.3.7.21.6.3.1.4 Header encoding and modulationThe header is encoded using a two SC block of NCBPB (see Table21-20) symbols with NGI guard symbols.The bits are scrambled and encoded as follows: 1)The input header bits (b1, b2,    , bLH), where LH = 64, are scrambled as described in 21.3.9, startingfrom the eighth bit. to create d1s=(q1,q2,   ,qLH) 2)The LDPC codeword c = (q1,q2,   ,qLH,01,02,   ,0504-LH,p1,p2,   ,p168) is created by concatenating504-LH zeros to the LH bits of d1s and then generating the parity bits p1,p2,   ,p168 such that HcT =0, where H is the parity check matrix for the rate 3/4 LDPC code specified in 21.6.3.2.3.2.3)Remove bits LH+1 through 504 and bits 665 through 672 of the codeword c to create the sequencecs1=(q1,q2,   ,qLH,p1,p2,   ,p160).4)Remove bits LH+1 through 504 and bits 657 through 664 of the codeword c to create the sequence and then XOR with a PN sequence that isgenerated from the LFSR used for data scramblings defined in 21.3.9. The LFSR is initialized to theall ones vector. 5)cs1 and cs2 are concatenated to form the sequence (cs1, cs2). The resulting 448 bits are then mappedas /2-BPSK as described in 21.6.3.2.4.2. The NGI guard symbols are then prepended to theresulting NCBPB symbols as described in 21.6.3.2.5.The same resulting NCBPB symbols are multiplied by -1 and repeated, and then prepended with NGI guardsymbols as described in 21.6.3.2.5. The resulting sequence is then appended after the sequence created instep 5). Table 21-18  Modulation and coding scheme for SCMCS indexModulationNCBPSRepetitionCode rateData rate (Mbps)1/2-BPSK121/23852/2-BPSK111/27703/2-BPSK115/8962.54/2-BPSK113/411555/2-BPSK1113/161251.256/2-QPSK211/215407/2-QPSK215/819258/2-QPSK213/423109/2-QPSK2113/162502.510/2-16QAM411/23080 11/2-16QAM415/8 385012/2-16QAM413/44620 )p,   ,p,p,p,   ,p,p,q,   ,q,(q=cs216816216115221LH2


page 501
47321.6.3.2 Data field21.6.3.2.1 GeneralThe data field consists of the payload data of the PSDU and possible padding. The data are padded withzeros, scrambled, encoded and modulated as described in the following subclauses. The amount of paddingis defined in 21.6.3.2.3.21.6.3.2.2 ScramblerThe operation of the scrambler is defined in 21.3.9. The scrambling of the PSDU continues the scramblingof the header with no reset of the scrambler.21.6.3.2.3 Encoding21.6.3.2.3.1 GeneralThe data are encoded by a systematic LDPC encoder. The LDPC is a block code. Each block of informationbits (b1, b2,...,bk) is concatenated with a block of parity bits (p1,p2,   .,pn-k) to create a codeword c=( b1,b2,...,bk,p1,p2,   .,pn-k) such that HcT=0, where H is the (n-k)  n party check matrix. The block size n is672bits. The code rate, R, is equal to k/n. The set of code rates is defined in Table21-19. The parity checkmatrices are defined in 21.6.3.2.3.2. The encoding process is defined in 21.6.3.2.3.3. 21.6.3.2.3.2 Parity check matricesSee 21.3.8.21.6.3.2.3.3 LDPC encoding process The LDPC encoding process is composed of several steps that includes deciding the number of shortening/repetition bits in every codeword, the shortening itself, the coding of each word and then any repetition ofbits.1)First the total number of data pad bits NDATA_PAD is calculated, using the number of LDPCcodewords NCW: Table 21-19  LDPC code ratesCode rateCodeword sizeNumber of data bits1/26723365/86724203/467250413/1667254


page 502
where LCW=672 is the LDPC codeword length, Length is the length of the PSDU defined in theheader field (in octets),  is the repetition factor (1 or 2), and R is the code rate. NCW min is definedfor BRP packets in Table21-23.The scrambled PSDU is concatenated with NDATA_PAD zeros. They are scrambled using thecontinuation of the scrambler sequence that scrambled the PSDU input bits.2)The procedure for converting the scrambled PSDU data to LDPC codewords depends on therepetition factor.a)If  = 1,i)The output stream of the scrambler is broken into blocks of LCWD = LCW   R bits such thatthe mth data word is .ii)To each data word, n-k=LCW-R  LCW parity bits  are added to createthe codeword  such that b)If  = 2, i)The data bits in each codeword  where  are concatenated with zeros to produce a sequence in length of .ii)The LDPC codeword  is created bygenerating the parity bits  such that , where H is the parity matrixfor rate 1/2 LDPC coding specified in 21.3.8. iii)Replace bits  through 336 of the codeword c with bits from the sequence XORed by a PN sequence that is generated from the LFSR used for datascrambling as defined in 21.3.9. The LFSR is initialized to the all ones vector andreinitialized to the same vector after every codeword. 3)The codewords are then concatenated one after the other to create the coded bits stream. 4)The number of symbol blocks, NBLKS, and the number of symbol block padding bits, NBLK_PAD,are calculated:where NCBPB is the number of coded bits per symbol block, per Table21-20 in 21.6.3.2.5.5)The coded bit stream is concatenated with NBLK_PAD zeros. They are scrambled using thecontinuation of the scrambler sequence that scrambled the PSDU input bits.minmin_8;8CWCWCWCWCWCWCWDATAPADCWLengthNLRifBRPpacketandNNNNLNNRLength=<=   ()()()()12.,,...,CWDmmmLCWbbbmN()()()()12,,,mmmnkppp   ())()(1)()(2)(1)(,...,,...,,mknmmLmmmppbbbCWD   =c()m=THc0()12,,,ZLbbb2ZCWLL=2CWL2ZL()1212,,,,0,0,,0ZZLLbbb()121212336,,,,0,0,,0,,,,ZZLLbbbppp=c12336,,,pppT=Hc01ZL+()12,,,ZLbbb()12,,...,CWCWLNcccCWCWCBPBBLKSPADBLKCBPBCWCWBLKSLNNNNNLNN   ==


page 503
47521.6.3.2.4 Modulation mapping21.6.3.2.4.1 GeneralThe coded and padded bit stream is converted into a stream of complex constellation points according to themodulation specified in the MCS table.21.6.3.2.4.2 /2-BPSK modulationIn /2-BPSK modulation, the input bit stream is mapped according to the following equation: ,where ck is the kth input coded (or scrambled pad) bit. Each output symbol is then rotated according to thefollowing equation: .NOTE  With appropriate choice of transmit filtering, /2-BPSK is equivalent to a precoded pulse-shaped MSK (e.g.,GMSK). The precoder is simply , where bin,k is the scrambled input stream, bin,-1 is0, and bout,k is the input to the (G)MSK modulator.21.6.3.2.4.3 /2-QPSK modulationIn /2-QPSK modulation, the input bit stream is grouped into sets of 2 bits and mapped according to thefollowing equation: , where k is the output symbol index,k= 0, 1,    . Each output symbol is then rotated according to the following equation: . 12~   =kkcs/2jkkksse Figure 21-13  BPSK constellation bit encoding,...1,0,1,,,==   kbbbkinkinkout()()()()      +   =+4exp121221~122jcjckskk/2jkkksse1-1-jjC(2k)=1,C(2k+1)=1C(2k)=1,C(2k+1)=0C(2k)=0,C(2k+1)=0C(2k)=0,C(2k+1)=1Figure 21-14  QPSK constellation bit encodin


page 504
21.6.3.2.4.4 /2-16QAM modulationIn /2-16QAM modulation, the input bit stream is grouped into sets of 4 bits and mapped according to thefollowing equation: where k is the output symbol index, k =0, 1,    . Each output symbol is then rotated according to thefollowing equation: . The constellation bit encoding is depicted on Figure21-15.21.6.3.2.5 Symbol blocking and guard insertionEach group of NCBPB bits is pre-pended by /2-BPSK symbols generated by the 64 point GolaysequenceGa64 defined in 21.11. NCBPB values are shown in Table21-20. The starting index for the firstsymbol for /2 rotation is 0.If the Additional PPDU field within the PLCP header is equal to 0, the final block transmitted is followed bythe same Golay sequence guard interval. If the Additional PPDU field within the PLCP header is equal to 1,the final block transmitted of the last PPDU in an A-PPDU is followed by the same Golay sequence guardinterval.Table 21-20  Values of NCBPBSymbol mappingNCBPB/2-BPSK448/2-QPSK896/2-16QAM1792()()()()()()(){}121224121224101~3424241444            +            =++++kkkkkkccjcjcccks()()2/~kjeksks=11 1110 1111 1010 1001 1000 1001 1100 1100 0101 0111 0110 0100 0001 0011 0010 00IQc4kc4k+1c4k+2c4k+313-1-331-3-1Figure 21-15  16-QAM constellation bit encodin


page 505
47721.6.4 Performance requirements 21.6.4.1 Transmit requirements 21.6.4.1.1 Transmit EVM The transmit EVM accuracy test shall be performed by instrumentation capable of converting thetransmitted signal into a stream of complex samples, with sufficient accuracy in terms of I/Q arm amplitudeand phase balance, dc offsets, phase noise, etc. The instrumentation shall perform carrier lock, symbol timing recovery and amplitude adjustment andequalization while making the measurements. The equalizer shall be trained using information in the SCpreamble (STF and/or CEF). For the SC PHY EVM, measuring Ns samples at the sample rate, the measuredsymbols should not contain the first and the last hundred symbols of a given packet (ramp up/down). TheEVM is calculated according to the formula below: where Ns is the number of samples to be measured and Ns shall be 1000, Pavg is the average power of theconstellation,  is the complex coordinates of the measured symbol i,  is the complexcoordinates of the ideal constellation point for the measured symbol i, and (Io, Qo) is the complex DC termchosen to minimize EVM.The test equipment should use a root-raised cosine filter with roll-off factor of 0.25 for the pulse shapingfilter when conducting EVM measurement. The transmit pulse shaping used is left to the implementer.The relative constellation error (EVM) shall not exceed an MCS dependent value according to Table21-21.Table 21-21  EVM requirements for SC PHYMCS indexModulationCoding rateEVM value [dB]1/2-BPSK1/2 with repetition  62/2-BPSK1/2  73/2-BPSK5/8  94/2-BPSK3/4  105/2-BPSK13/16  12Figure 21-16  Block transmission()()[]      +      ==SNiiiiiavgsQQQIIIPNEVM120*20*101log20(),iiIQ()**,iiI


page 506
21.6.4.1.2 Time of Departure accuracyThe Time of Departure accuracy test evaluates TIME_OF_DEPARTURE against aTxPmdTxStartRMS andaTxPmdTxStartRMS against TIME_OF_DEPARTURE_ACCURACY_TEST_THRESH as defined inAnnex T with the following test parameters:  MULTICHANNEL_SAMPLING_RATE is 1760x106 sample/s   FIRST_TRANSITION_FIELD is Short Training field   SECOND_TRANSITION_FIELD is Channel Estimation field  TRAINING_FIELD is Channel Estimation field   TIME_OF_DEPARTURE_ACCURACY_TEST_THRESH is 80 ns NOTE  The indicated windowing applies to the time of departure accuracy test equipment, and not the transmitter orreceiver.21.6.4.2 Receive requirements21.6.4.2.1 IntroductionThis subclause describes the receiver requirements of the DMG SC PHY. 21.6.4.2.2 CCAThe start of a valid DMG SC PHY transmission at a receive level greater than the minimum sensitivity forMCS 1 (  68 dBm) shall cause CCA to indicate busy with a probability > 90% within 1   s. The receiver shallhold the carrier sense signal busy for any signal 20 dB above the minimum sensitivity for MCS 1. 21.7 DMG low-power SC PHY21.7.1 IntroductionThe DMG low-power SC PHY is an optional SC mode that can provide lower processing powerrequirements for DMG transceivers. 6/2-QPSK1/2  117/2-QPSK5/8  128/2-QPSK3/4  139/2-QPSK13/16  1510/2-16QAM1/2  1911/2-16QAM5/8  2012/2-16QAM3/4  21Table 21-21  EVM requirements for SC PHY  (continued)MCS indexModulationCoding rateEVM value [dB


page 507
47921.7.2 Transmission21.7.2.1 PreambleThe DMG low-power SC PHY uses the same preamble as the DMG SC PHY.21.7.2.2 Header21.7.2.2.1 GeneralThe DMG low-power SC PHY header fields are the same fields as in the DMG SC PHY (see Table21-17 in21.6.3.1).The DMG low-power SC PHY modulation and coding schemes are listed in Table21-22.21.7.2.2.2 Header encoding and modulationThe low-power SC PHY header is encoded using the following scheme:1)The header is scrambled as described in 21.3.9.2)The resulting 8 octets are encoded using a RS(24,8) generating 24 octets.3)The resulting 24 octets are encoded in the block code (16,8) described in 21.7.2.3.3.3 generating48octets.4)One zero octet is appended to the end of the 48 octets generating 49 octets.5)Each set of 7 octets is interleaved using a uniform interleaver defined in step 6) of 21.7.2.3.3. 6)The resulting 49 octets are blocked as described in 21.7.2.3.5 and transmitted using /2-BPSK asdescribed in 21.6.3.2.4.2.21.7.2.3 Data field21.7.2.3.1 GeneralThe data field consists of the payload data of the PSDU and possible padding. The data are padded withzeros, scrambled, encoded and modulated as described in the following subclauses. Table 21-22  Low-power SC modulation and coding schemesMCSModulationEffective code rateCoding schemeNCPBRate (Mbps)25/2-BPSK13/28RS(224,208)+Block-Code(16,8)39262626/2-BPSK13/21RS(224,208)+Block-Code(12,8)39283427/2-BPSK52/63RS(224,208)+SPC(9,8)392111228/2-QPSK13/28RS(224,208)+Block-Code(16,8)392125129/2-QPSK13/21RS(224,208)+Block-Code(12,8)392166830/2-QPSK52/63RS(224,208)+SPC(9,8)392222431/2-QPSK13/14RS(224,208)+Block-Code(8,8)392250


page 508
21.7.2.3.2 ScramblerThe operation of the scrambler is defined in 21.3.9. The scrambling of the PSDU continues the scramblingof the header with no reset of the scrambler. The padding bits are also scrambled.21.7.2.3.3 Encoding21.7.2.3.3.1 GeneralData is encoded using an outer RS(224,208) block code and a short inner code. The inner code is a (16,8)block code for MCSs 25 and 28, a (12,8) block code for MCSs 26 and 29, and a (9,8) single parity check(SPC) block code for MCSs 27 and 30 and the identity block-code for MCS 31. The encoding is furtherdetailed in the following steps:1)First, the number of block padding bits is calculated:a)The total number of Reed Solomon codewords is  and the totalnumber of RS encoded symbols is given by ;b)After Reed Solomon encoding, the data is encoded with a short block code (N,8) where Ncantake one of the following values 8, 9, 12, or 16 depending on the MCS as shown inTable21-22. Therefore:i)The total number of encoded bits is ;ii)The total number of 512 (in length) blocks (each containing 392 data symbols) is. If BRP packet and , where . The total number of zero block paddingbits is .2)The data is broken into blocks of length 208  8 bits (except for possibly the last block).3)Each block is encoded using the RS(224,208) block code as described in 21.7.2.3.3.2, exceptperhaps the last block, which is encoded by a shortened version of the code (i.e., if the last blocklength is K, the shortened block code is RS(16+K,K).4)The Reed Solomon encoded data stream is further encoded using the block code(N,8) as describedin 21.7.2.3.3.3.5)The coded bit stream is concatenated with  zeros. They are scrambled with thecontinuation of the scrambler sequence that scrambled the PSDU input bits.6)Each set of 7 octets is interleaved using a uniform interleaver of 7 rows and 8 columns. The 7 octetsare written row wise and read column wise, i.e., the index i of a bit after interleaving is related to theindex k of a bit before interleaving by the following rule:   where the function floor(.) denotes the largestinteger not exceeding the function parameter.7)The resulting bit stream is modulated and then blocked as described in 21.7.2.3.4 and 21.7.2.3.5.21.7.2.3.3.2 RS encodingThe RS block code is based on the polynomialWhere  is a root of the primitive polynomial . We assume that anoctet  (b0 is the LSB) represented by the polynomial 


page 509
481The RS is a systematic block code. Given a block of octets , the additional parityoctets  is calculated by setting , where  and and where the calculation is performed over . The parity octets r are appended tothe uncoded block m to generate the encoded RS block .21.7.2.3.3.3 (N,8) Block-codingEvery octet  is encoded into an N-bit codeword  suchthat , where the generator matrix  is given by the following expressions for N=8, 9,12, and 16, respectively: G8x8 is the identity matrix.21.7.2.3.4 ModulationThe same /2-BPSK described in 21.6.3.2.4.2 and /2-QPSK described in 21.6.3.2.4.2 are used in the DMGlow-power SC PHY.21.7.2.3.5 BlockingThe blocking for the low-power SC is illustrated in Figure21-17. The data is partitioned into blocks oflength 512 wherein each 512-block is constructed from 8 subblocks. Each subblock is of length 64. The firstsubblock is a G64, which is the /2-BPSK symbols sequence generated by the 64 point Golay sequence Ga64defined in 21.11. The starting index for the first symbol /2 rotation is 0, and subblocks 2 to 8 are()120,,MMmmm      =m()0,1415,,rrr=r()()()xgxxxmod16mr=()==150kkkxrxr()   ==10Mkkkxmxm()82GF()12015140,,,,,,MMmmmrrr      816 1 0 0 0 0 0 0 0 0 1 1 0 1 0 1 00 1 0 0 0 0 0 0 0 0 1 1 0 1 0 10 0 1 0 0 0 0 0 1 0 0 1 1 0 1 00 0 0 1 0 0 0 0 0 1 0 0 1 1 0 10 0 0 0 1 0 0 0 1 0 1 0 0 1 1 00 0 0 0 0 1 0 0 0 1 0 1 0 0 1 10 0 0 0xG= 0 0 1 0 1 0 1 0 1 0 0 10 0 0 0 0 0 0 1 1 1 0 1 0 1 0 


page 510
constructed in the same way, i.e., a data portion of 56 symbols followed by a guard interval of 8 symbols.The last 512-block in the transmission shall be followed by Ga64. Note that each 512-block carries392symbols of data and 120 symbols of guard.The G8 guard interval is a copy of the last 8 samples of Ga64.NOTE  A STA may estimate the channel impulse response from the CEF, and decides whether to equalize using the512-block or the short 64-subblock. For example, if the channel impulse response energy is almost concentrated in8taps, a 64-equalizer can be used; otherwise, a 512-equalizer is used.21.8 PLCP transmit procedureThe PLCP transmit procedure is shown in Figure21-18. In order to transmit data, a PHY-TXSTART.requestprimitive shall be enabled so that the PHY entity shall be in the transmit state. Further, the PHY shall be setto operate at the appropriate frequency through station management via the PLME, as specified in 21.12.Other transmit parameters, such as MCS and transmit power, are set via the PHY-SAP with the PHY-TXSTART.request(TXVECTOR), as described in 21.2.2. The PLCP shall then issue a PMD_TXSTART.request primitive, and transmission of the PLCP preambleshall start, based on the parameters passed in the PHY-TXSTART.request primitive. The preamble format(control PHY, SC or OFDM) depend on the MCS in the PHY_TXSTART.req. The PLCP shall calculate thelength of the packet according the MCS and the length specified in the PHY_TXSTART.request primitive,adding padding bits if necessary.The PHY continues with the encoding and transmission of the header according to thePHY_TXSTART.req(TXVECTOR) parameters. The PHY proceeds with PSDU transmission through aseries of data octet transfers from the MAC. The data are encoded as described in 21.4.3.2.3, 21.5.3.2.3, and21.6.3.2.3. The encoded data are then modulated as described in 21.4, 21.5, 21.6, and 21.7, depending on theMCS requested in the PHY_TXSTART.req. Transmission can be prematurely terminated by the MACthrough the primitive PHY-TXEND.request. PHY-TXSTART shall be disabled by receiving a PHY-TXEND.request primitive.Transmission of the PSDU is completed with the transmission of the last bits of the (encoded) PSDU. If noTRN-T/R fields are specified in the PHY-TXSTART.req, the PLCP shall issue PMD-TXEND after thetransmission of the last bits. If TRN-T and TRN-R are requested in the PHY-TXSTART.req, thetransmission continues with the transmission of AGC subfields and TRN-T/R subfields. The PCLP issuesthe PMD-TXEND after the transmission of the last TRN-T/R subfield, and then it issues aPHY_TXEND.confirm primitive to the MAC. The packet transmission shall be completed, and the PHYentity shall enter the receive state (i.e., PHYTXSTART shall be disabled). Each PHY-TXEND.requestprimitive is acknowledged with a PHY-TXEND.confirm primitive from the PHY.  d56G8d56G8d56G8Ga64Sub-block1Sub-block2Sub-block3Sub-block8...Block -1512 chipsBlock -2512 chipsBlock -3512 chips...Block -N512 chipsGa64Figure 21-17  Blocking for low-power S


page 511
483A typical transmit state machine is shown in Figure21-19.MACPHYPLCPPHYPMDPHY_TXSTART.req(TXVECTOR)PMD_PWRLEVEL.reqPMD_TX_PARAMETERS.reqPMD_ANT_SETUP.reqPMD_DATA.reqMPDUPSDUHeaderSTF + CEHeaderScrambling + encodingC-PSDUBit PaddingIF neededSTF+CEHeaderData (Variable length) PHY_TXSTART.confPHY_DATA.reqPHY_DATA.confPHY_DATA.reqPHY_DATA.confPHY_TXEND.reqPHY_TXEND.confControl PHY bits, SC blocks or OFDM symbolsPMD_TXENDAGC TRN-T/RAGC TRN-T/RPMD__TXSTART.requestPHY_TXPLCPEND.indFigure 21-18  PLCP transmit procedur


page 512
InitializePMD_PWRLEVEL.reqPMD_TX_PARAMETERS.reqPMD_ANT_SETUP.reqPMD_DATA.reqTransmit Control PHY STFTx CTL PHY STFTransmit OFDM/SC STFTx SC/OFDM PHY STFTransmit Control PHY STFTx CTL PHY STFTransmit SCl PHY CEFTx SC CEFTransmit OFDM PHY CEFTx OFDM CEFTransmit OFDM PHY HeaderTx OFDM Header Transmit OFDM PHY HeaderTx SC HeaderGet PSDU OctetDecrement LengthPrepare CP HeaderEncode and Transmit CP header word.Tx CP headerGet PSDU OctetDecrement LengthPrepare CP dataEncode and transmit CP LDPC code word.Decrement NcwTX CP dataSwitch RX stateGet PSDU OctetDecrement Bytes in CWDecrement LengthPrepare SC dataEncode and TX SC LDPC code word, decrement NCWTX SC DataGet PSDU OctetDecrement Bytes in CWDecrement LengthPrepare OFDM dataPad with zeros to a full CW if necessaryCW Zero PadPad with zeros to a full SC blk if necessaryBLK Zero PadEncode and TX OFDM LDPC code word, decrement NCWTX OFDM DataPad with zeros to a full CW if necessaryCW Zero PadNcs>0Ncw>0Ncw>1Ncw=0CW not FullMCS=0MCS>0MCS<1212<MCS<25Ncw=0Ncw>1CW not Full,Length >0 CW not Full,Length >0 Figure 21-19  Typical Tx state machine (Training Length=0 is assumed; some optional features such as SC low-power PHY are not shown


page 513
48521.9 PLCP receive procedureA typical PLCP receive procedure is shown in Figure21-20.Upon receiving the STF, PMD_RSSI.ind shall report received signal strength to the PCLP, this indicatesactivity to the MAC through PHY_CCA.ind(BUSY).  After the PHY-CCA.indication(BUSY) is issued, the PHY entity shall search for the CE field and beginreceiving the CE field. During the reception of the CE field, the PMD indicates to the PLCP the type of PHYof the packet. The PHY demodulates the header according to the PHY type determined during the PLCP. Ifthe CE field indicated a SC PHY, the receiver is capable of receiving low-power SC PHY, anddot11LowPowerSCPHYActivated is true, then the PHY shall attempt to demodulate both a SC header andan SC low-power header. The PLCP shall decode the header and indicate to the PMD the MCS, length andother parameters needed for the demodulation of the packet. At the end of the data portion of the packet, thePHY shall indicate PHY_RXEND.ind(No_Error) to the MAC. If the header indicated the presence oftraining field, the PMD shall continue to receive these training fields after the data portion of the packet.After the end of these fields, the PMD shall send the measurements to the PLCP using thePMD_CHAN_MEAS.ind. After the end of the training fields, the PHY shall indicate PHY_CCA.ind(Idle).In the case of signal loss before the decoding of the header or in the case of an invalid header, the PHY shallmaintain PHY_CCA.ind(BUSY) for any signal 20 dB higher from the receive sensitivity of MCS 1. In thecase of signal loss after decoding of a valid header, the PHY shall indicate PHY_CCA.ind(BUSY) for theexpected duration of the packet, including AGC and TRN-T/R fields.MACPHYPLCPPHYPMDMPDUPSDUHeaderHeaderDecoded and descrambledC-PSDUBit PaddingIF neededPHY_CCA.ind(STATUS=busy)PHY_DATA.indPHY_CCA.ind(IDLE)PHY_RXEND.ind(NoError)PHY_RXSTART.ind(RXVECTOR)PHY_DATA.indCS/CCA stateRX statePMD_RSSI.indPMD_PHY_TYPE.indSTFHeaderData (Variable length) Control PHY bits, SC blocks or OFDM symbolsAGC TRN-T/RCEPMD_CHAN_MEAS.indFigure 21-20  PLCP receive procedur


page 514
A typical receive state machine is shown in Figure21-21.CCA/CSRx IdleProcess CEFCP CCA STFDetect CE typeSC/OFDM STFCheck CRCRx SC HeaderCheck CRCRx OFDM HeaderSupported MCSRx SC HeaderSupported MCSRx OFDM HeaderRx SymbolRx BLKDecode and Descramble.Decrement LengthDecode BLKDecode and Descramble.Decrement LengthDecode SymbolPHY_RXEND.ind(no_error)PHY_CCA.ind(IDLE)End of PSDUProcess AGC and TRN-R/T fields.TRNWait till End of Packet TimeEnd of Packet WaitCheck CRC Rx CP Header BLKDecrementCoded bit counterRx BitSC/OFDM STFCTRL   PHY STFSC CEFOFDM CEFBad CRCBad CRCBad CRCCRC OKCRC OKCRC OKPHY_CCA.ind (IDLE)UnsupportedMCSSignal LostSignal LostSignal LostBLK CNT>0Sym CNT>0Sym CNT=0TRN Length>0BLK CNT=0TRN Length>0PHY_RXEND.ind(Carrier Lost)Nbits>0Nbit=0TRN Length>0BLK CNT=0TRN Length=0SYM  CNT=0TRN Length=0Nbit=0TRN Length=0Nbit=0TRN Length>0PHY_CCA.ind (IDLE)Figure 21-21  Typical Rx state machine (some optional features such as  low-power SC PHY are not shown


page 515
48721.10 Beamforming21.10.1 Beamforming conceptBeamforming enables a pair of STAs to train their transmit and receive antennas for subsequentcommunication. A beamformed link is established following the successful completion of BF training,which is described in 9.35.DMG STAs use a quasi-omni antenna pattern. The antenna gain of the main beam of a quasi-omni antennapattern shall be at most 15 dB lower than the antenna gain in the main beam for a directional pattern. 21.10.2 Beamforming PHY frame format21.10.2.1 TX sector sweepThe packets sent during TX sector sweep are control PHY packets as defined in 21.4.21.10.2.2 Beam refinement 21.10.2.2.1 GeneralBeam refinement is a process where a STA can improve its antenna configuration (or antenna weightvectors) both for transmission and reception. If the SLS beamforming training did not include an RSS, as inthe case where both devices have more than one transmit sector per antenna, beam refinement can serve asthe first receive antenna configuration training. The procedure of beam refinement is described in 9.35.6.4.In the beam refinement procedure, BRP packets are used to train the receiver and transmitter antenna. Thereare two types of BRP packets: BRP-RX packets and BRP-TX packets:   BRP-RX packets are packets that have TRN-R training sequences appended to them. These packetsenable receiver antenna weight vector training.   BRP-TX packets are packets that have TRN-T training sequences appended to them. Thetransmitting STA may change antenna configuration at the beginning of each sequence. Thereceiving STA performs measurements on these sequences and sends feedback to the STA thattransmits the BRP-TX packet. 21.10.2.2.2 BRP packet structureEach BRP packet is composed of an STF, a CE field, and a data field followed by a training field containingan AGC training field and a receiver training field. STFCEHeaderDataAGCTRN-R/TFigure 21-22  BRP packet structur


page 516
21.10.2.2.3 BRP packet header fieldsThe Packet Type and Training Length fields present within the SC header, control PHY header, LP SC PHYheader, and OFDM header are used to indicate that a packet is BRP packet and the length of the trainingfields, respectively. A value of 0x0 in the Packet Type field indicates a BRP-RX packet (TRN-R field is present).A value of 0x1 in the Packet Type field indicates a BRP-TX packet (TRN-T field is present).A value of N in the Training Length field indicates that the AGC has 4N subfields and that the TRN-R/Tfield has 5N subfields. The value N in the Training Length field of a BRP-RX packet is equal to the value of the L-RX fieldrequested by the intended receiver of the BRP-RX packet at a previously received BRP Request field (see7.3a.4).21.10.2.2.4 BRP packet durationThe minimum duration of the data field of a BRP packet when sent in an SC PHY is aBRPminSCblocks SCblocks (see 21.6.3.2.5) and, if needed, the data field of the packet shall be extended by extra zero padding togenerate the required number of SC blocks. Table21-23 contains the values of NCWmin for each MCSnecessary to compute the padding described in 21.6.3.2.3.3.The minimum duration of the data field of a BRP packet when sent in an OFDM PHY isaBRPminOFDMblocks OFDM blocks and, if needed, the data field of the packet shall be extended by extrazero padding to generate the required number of OFDM symbols. Table 21-23  Zero filling for SC BRP packetsMCS indexModulationNCBPSRepetitionCode rateData rate (Mbps)NCWmin1/2-BPSK121/2385122/2-BPSK111/2770123/2-BPSK115/8962.5124/2-BPSK113/41155125/2-BPSK1113/161251.25126/2-QPSK211/21540237/2-QPSK215/81925238/2-QPSK213/42310239/2-QPSK2113/162502.52310/2-16QAM411/23080 4611/2-16QAM415/8 38504612/2-16QAM413/446204


page 517
489The minimum duration of the data field of a BRP packet when sent with the low-power SC PHY is low-power SC blocks (see 21.7.2.3.3). 21.10.2.2.5 Beam refinement AGC field The beam refinement AGC fields are composed of 4N repetitions of the sequence [Ga64 Ga64 Ga64 Ga64Ga64] when the packet is transmitted using the OFDM or SC PHY and [Gb64 Gb64 Gb64 Gb64 Gb64] whenthe packet is transmitted using the control PHY. The sequences Ga64 and Gb64 are defined in 21.11. Thesequences are transmitted using rotated /2-BPSK modulation. Any transmit signal transients that occur dueto this TX AWV configuration change shall completely settle by the end of the first Ga64 or Gb64subsequence. In a BRP-TX packet, the transmitter may change the TX AWV configuration at the beginning of each AGCsubfield. The set of AWVs used for the AGC subfields should be the same as that used for the TRN-Tsubfields. In a BRP-RX packet, the transmitter shall use the same TX AWV as in the preamble and datafields of the packet. 21.10.2.2.6 Beam refinement TRN-R field The TRN-R fields enable receiver AWV training. The TRN-R fields have the form shown in Figure21-23.Each subfield CE matches the Channel Estimation field defined in 21.3.6.3. The 4N subfields R1 throughR4N each consist of the sequence [Ga128 -Gb128 Ga128 Gb128 Ga128]. The sequences Ga128 and Gb128 aredefined in Table21-24 and Table21-25, respectively, in 21.11. The sequences are transmitted using rotated/2-BPSK modulation. 21.10.2.2.7 Beam refinement TRN-T field The TRN-T field enables transmitter AWV training. The TRN-T fields have the form shown in Figure21-24.Each subfield CE matches the Channel Estimation field defined in 21.3.6.3. The 4N subfields T1 throughT4N each consist of the sequence [Ga128 -Gb128 Ga128 Gb128 Ga128]. The sequences Ga128 and Gb128 aredefined in Table21-24 and Table21-25, respectively, in 21.11. The sequences are transmitted using rotated/2-BPSK modulation. When transmitting the CE subfield, the transmitter shall use the same AWV as in thepreamble and data fields of the packet. Any transmit signal transients that occur due to TX AWVconfiguration changes between subfields shall settle by the end of the first 64 samples of the subfield. 21.10.2.2.8 Channel measurementThe good autocorrelation properties of the Golay sequence enable reconstructing part of the impulseresponse of the channel between the transmitter and the receiver. The receiver should find the tap withlargest amplitude in the channel during the CE field of the BRP-RX. It selects thereafter the set of taps thatis measured around the tap with the largest amplitude, according to the value ofdot11ChanMeasFBCKNtaps. It can select a contiguous set of taps or select a noncontiguous set of taps,CER1R2R3R4CER5R6R7R8   Figure 21-23  TRN-R field definitionCET1T2T3T4CET5T6T7T8   Figure 21-24  TRN-T field definitio


page 518
and include the tap delays subfield as part of the subfield measurement. It then measures the phase andamplitude of the corresponding channel taps in each of the TRN-T field repetition (except for those using theCE AWV configuration). The beam refinement feedback subfield k-1 is the relative amplitude and phase ofthis tap in the k   th repetition compared to this tap in the first TRN-T subfield. 21.10.2.2.9 BRP resampling in an OFDM packetThe BRP AGC, CE, and Tn/Rn fields are specified at the SC chip rate (Tc). When appended to an OFDMpacket, the signal is resampled as defined in 21.3.3.2. 21.11 Golay sequencesThe following Golay sequences are used in the preamble, in the single carrier guard interval and in beamrefinement TRN-R/T and AGC fields: Ga128(n), Gb128(n), Ga64(n), Gb64(n), Ga32(n), Gb32(n). These are 3pairs of complementary sequences. The subscript denotes the length of the sequences. These sequences aregenerated using the following recursive procedure:Note that  are zero for  and for .Ga128(n)=A7(128-n), Gb128(n)=B7(128-n) when the procedure uses Dk = [1 8 2 4 16 32 64] (k=1,2,   ,7) andWk = [-1 -1 -1 -1 +1 -1 -1].Ga64(n)=A6(64-n), Gb64(n)=B6(64-n) when the procedure uses Dk= [2 1 4 8 16 32] and Wk =[1 1 -1 -1 1 -1].Ga32(n)=A5(32-n), Gb32(n)=B5(32-n) when the procedure uses Dk=[1 4 8 2 16] and Wk =[-1 1 -1 1 -1].The sequences are defined in Table21-24, Table21-25, Table21-26, Table21-27, Table21-28, andTable21-29. The sequences in the tables are normative, the description above is informative.Table 21-24  The sequence Ga128(n)The Sequence Ga128(n), to be transmitted from left to right, up to down+1 +1 -1 -1 -1 -1 -1 -1 -1 +1 -1 +1 +1 -1 -1 +1 +1 +1 -1 -1 +1 +1 +1 +1 -1 +1 -1 +1 -1 +1 +1 -1-1 -1 +1 +1 +1 +1 +1 +1 +1 -1 +1 -1 -1 +1 +1 -1 +1 +1 -1 -1 +1 +1 +1 +1 -1 +1 -1 +1 -1 +1 +1 -1+1 +1 -1 -1 -1 -1 -1 -1 -1 +1 -1 +1 +1 -1 -1 +1 +1 +1 -1 -1 +1 +1 +1 +1 -1 +1 -1 +1 -1 +1 +1 -1+1 +1 -1 -1 -1 -1 -1 -1 -1 +1 -1 +1 +1 -1 -1 +1 -1 -1 +1 +1 -1 -1 -1 -1 +1 -1 +1 -1 +1 -1 -1 +1Table 21-25  The sequence Gb128(n)The Sequence Gb128(n), to be transmitted from left to right, up to down-1 -1 +1 +1 +1 +1 +1 +1 +1 -1 +1 -1 -1 +1 +1 -1 -1 -1 +1 +1 -1 -1 -1 -1 +1 -1 +1 -1 +1 -1 -1 +1+1 +1 -1 -1 -1 -1 -1 -1 -1 +1 -1 +1 +1 -1 -1 +1 -1 -1 +1 +1 -1 -1 -1 -1 +1 -1 +1 -1 +1 -1 -1 +1+1 +1 -1 -1 -1 -1 -1 -1 -1 +1 -1 +1 +1 -1 -1 +1 +1 +1 -1 -1 +1 +1 +1 +1 -1 +1 -1 +1 -1 +1 +1 -1+1 +1 -1 -1 -1 -1 -1 -1 -1 +1 -1 +1 +1 -1 -1 +1 -1 -1 +1 +1 -1 -1 -1 -1 +1 -1 +1 -1 +1 -1 -1 +1()()()()()()()()()()kkkkkkkkkkDnBnAWnBDnBnAWnAnnBnnA      =   +===            111100()()nBnAkk,0<nkn


page 519
49121.12 DMG PLME21.12.1 PLME_SAP sublayer management primitivesTable21-30 lists the MIB attributes that may be accessed by the PHY entities and the intra-layer of higherlevel LMEs. These attributes are accessed via the PLME-GET, PLME-SET, PLME-RESET, and PLME-CHARACTERISTICS primitives defined in 10.4.21.12.2 DMG PHY MIBAll DMG PHY MIB attributes are defined in Annex C, with specific values defined in Table21-30. Thecolumn titled    Operational semantics    in Table21-30 contains two types: static and dynamic. Static MIBattributes are fixed and cannot be modified for a given PHY implementation. Dynamic MIB attributes canbe modified by some management entity.Table 21-26  The sequence Ga64(n)The Sequence Ga64(n), to be transmitted from left to right, up to down-1 -1 +1 -1 +1 -1 -1 -1 +1 +1 -1 +1 +1 -1 -1 -1 -1 -1 +1 -1 +1 -1 -1 -1 -1 -1 +1 -1 -1 +1 +1 +1-1 -1 +1 -1 +1 -1 -1 -1 +1 +1 -1 +1 +1 -1 -1 -1 +1 +1 -1 +1 -1 +1 +1 +1 +1 +1 -1 +1 +1 -1 -1 -1Table 21-27  The sequence Gb64(n)The sequence Gb64(n), to be transmitted from left to right, up to down+1 +1 -1 +1 -1 +1 +1 +1 -1 -1 +1 -1 -1 +1 +1 +1 +1 +1 -1 +1 -1 +1 +1 +1 +1 +1 -1 +1 +1 -1 -1 -1-1 -1 +1 -1 +1 -1 -1 -1 +1 +1 -1 +1 +1 -1 -1 -1 +1 +1 -1 +1 -1 +1 +1 +1 +1 +1 -1 +1 +1 -1 -1 -1Table 21-28  The sequence Ga32(n)The Sequence Ga32(n), to be transmitted from left to right+1 +1 +1 +1 +1 -1 +1 -1 -1 -1 +1 +1 +1 -1 -1 +1 +1 +1 -1 -1 +1 -1 -1 +1 -1 -1 -1 -1 +1 -1 +1 -1Table 21-29  The sequence Gb32(n)The Sequence Gb32(n), to be transmitted from left to right-1 -1 -1 -1 -1 +1 -1 +1 +1 +1 -1 -1 -1 +1 +1 -1 +1 +1 -1 -1 +1 -1 -1 +1 -1 -1 -1 -1 +1 -1 +1 -


page 520
21.12.3 TXTIME calculationThe value of the TXTIME parameter returned by the PLME-TXTIME.confirm primitive shall be calculatedaccording to the following equations.For the DMG OFDM PHY and for the DMG SC PHY ( is Training Length field defined in the header   see, for example, Table21-13): where =aBRPminSCblocks, =aSCBlockSize, =aSCGILength, =aBRPminOFDMblocks, and.For the DMG control PHY:where calculation is defined in 21.4.3.3.3.21.12.4 PHY characteristicsThe static DMG PHY characteristics, provided through the PLME-CHARACTERISTICS service primitive,shall be as shown in Table21-31. The definitions for these characteristics are given in 10.4.Table 21-30  DMG PHY MIB attribute default valuesManaged objectDefault value/rangeOperational semanticsdot11PHYOperationTabledot11PHYtypeDMGStaticdot11PHYDMGTabledot11LowPowerSCPHYImplementedBooleanStaticdot11LowPowerSCPHYActivatedBoolean DynamicTable 21-31  DMG PHY characteristicsPHY parameterValueaRIFSTime1   saSIFSTime3   sTRNN(){}{}0max,0and SCmax,0andOFDMSTFCEheaderDataTRNSTFCEheaderDataCTRNTRNUnitTRNSTFCEheaderDataSYMTRNTRNUnitTRNTXTIMETTTTNTTTTTNTNTTTTTNTN      =+++=+++  +  +  >+++  +  >CUnitTRNTT  =   ckaBRPTRNBlo()()1186816832STFCPCECPCWCTRNTRNUnitTXTIMETTLengthNTNT         =++  +     +      +  CW


page 521
493aRxRFDelay<< 1   saRxPLCPDelayImplementation dependent as long as the requirements of aSIFSTime and aSlotTtime are met.aRxTxTurnaroundTime< 1   saCCATime< 3   saRxTxSwitchTime< 1   saPHY-RX-START-DelayControl PHY: 10  s; SC and SC LP PHY: 3.6  s; OFDM PHY: 3.3  s aMACProcessingDelayImplementation dependent as long as the requirements of aSIFSTime and aSlotTtime are met.aTxPLCPDelayImplementation dependent as long as the requirements of aRxTxTurnaroundTime are met.aTxRampOnTimeImplementation dependent as long as the requirements of aRxTxTurnaroundTime are met.aTxRFDelayImplementation dependent as long as the requirements of aRxTxTurnaroundTime are met. aDataPreambleLength1891 nsaControlPHYPreambleLength4291 nsaSBIFSTime1   saSBIFSAccuracy[0, +0.03]   s aAirPropagationTime< 100 nsaDMGDetectionThres  48 dBmaBRPIFS40   saSlotTime5   saCWmin15 aCWmax1023aBRPminSCblocks18aBRPminOFDMblocks20aBRPTRNBlock 4992aSCGILength64aSCBlockSize512aPPDUMaxTime2 msaPSDUMaxLength262143 octetsTable 21-31  DMG PHY characteristics  (continued)PHY parameterValu


page 522
21.13 DMG PMD sublayer21.13.1 Scope and field of applicationThe PMD services provided to the PLCP for the DMG PHY are described in this subclause. Also defined inthis subclause are the functional, electrical, and RF characteristics required for interoperability ofimplementations conforming to this standard. The relationship of this standard to the entire DMG PHY isshown in Figure21-25.21.13.2 Overview of serviceThe DMG PMD sublayer accepts PLCP sublayer service primitives and provides the actual means by whichdata are transmitted or received from the medium. The combined function of the DMG PMD sublayerprimitives and parameters for the receive function results in a data stream, timing information, andassociated receive signal parameters being delivered to the PLCP sublayer. A similar functionality isprovided for data transmission.21.13.3 Overview of interactionsThe primitives provided by the DMG PMD fall into two basic categories:a)Service primitives that support PLCP peer-to-peer interactionsb)Service primitives that have local significance and support sublayer-to-sublayer interactions21.13.4 Basic service and options21.13.4.1 Status of service primitivesAll of the service primitives described in 21.13.4 are mandatory, unless otherwise specified.21.13.4.2 PMD_SAP peer-to-peer service primitivesTable21-32 indicates the primitives for peer-to-peer interactions.Table 21-32  PMD_SAP peer-to-peer service primitivesPrimitiveRequestIndicateConfirmResponsePMD_DATAXX    PHY layerPHY managementStation managementDMG PLCP SublayerDMG PMD SublayerPMD_SAPFigure 21-25  PMD layer reference mode


page 523
49521.13.4.3 PMD_SAP sublayer-to-sublayer service primitivesTable21-33 indicates the primitives for sublayer-to-sublayer interactions. 21.13.5 PMD_SAP detailed service specification21.13.5.1 Introduction to PMD_SAP service specificationSubclause 21.13.5 describes the services provided by each PMD primitive.21.13.5.2 PMD_DATA.request21.13.5.2.1 FunctionThis primitive defines the transfer of data from the PLCP sublayer to the PMD entity.21.13.5.2.2 Semantics of the service primitiveThis primitive shall provide the following parameters: PMD_DATA.request (TXD_UNIT)The TXD_UNIT parameter shall be the n-bit combination of 0 and 1 for one modulation symbol. Thisparameter represents a single block of data that, in turn, shall be used by the PHY to be encoded into atransmitted symbol.21.13.5.2.3 When generatedThis primitive shall be generated by the PLCP sublayer to request transmission of one symbol.21.13.5.2.4 Effect of receiptThe PMD performs transmission of the data.21.13.5.3 PMD_DATA.indication21.13.5.3.1 FunctionThis primitive defines the transfer of data from the PMD entity to the PLCP sublayer.Table 21-33  PMD_SAP sublayer-to-sublayer service primitivesPrimitiveRequestIndicateConfirmResponsePMD_TXSTARTX      PMD_TXENDX  X  PMD_RCPI  X    PMD_TXPWRLVLX      PMD_RSSI  X   


page 524
21.13.5.3.2 Semantics of the service primitiveThis primitive shall provide the following parameter: PMD_DATA.indication(RXD_UNIT)The RXD_UNIT parameter shall be 0 or 1 and shall represent either a SIGNAL field bit or a data field bitafter the decoding of the FEC by the PMD entity.21.13.5.3.3 When generatedThis primitive, generated by the PMD entity, forwards received data to the PLCP sublayer.21.13.5.3.4 Effect of receiptThe PLCP sublayer decodes the bits that it receives from the PMD and either interprets them as part of itsown signaling or passes them to the MAC sublayer as part of the PSDU after any necessary additionalprocessing (e.g., descrambling).21.13.5.4 PMD_TXSTART.request21.13.5.4.1 FunctionThis primitive, generated by the PHY PLCP sublayer, initiates PPDU transmission by the PMD layer.21.13.5.4.2 Semantics of the service primitiveThis primitive has no parameters.21.13.5.4.3 When generatedThis primitive shall be generated by the PLCP sublayer to initiate the PMD layer transmission of the PPDU.The PHY-TXSTART.request primitive shall be provided to the PLCP sublayer prior to issuing thePMD_TXSTART command.21.13.5.4.4 Effect of receiptPMD_TXSTART initiates transmission of a PPDU by the PMD sublayer.21.13.5.5 PMD_TXEND.request21.13.5.5.1 FunctionThis primitive, generated by the PHY PLCP sublayer, ends PPDU transmission by the PMD layer.21.13.5.5.2 Semantics of the service primitiveThis primitive has no parameters.21.13.5.5.3 When generatedThis primitive shall be generated by the PLCP sublayer to terminate the PMD layer transmission of thePPDU


page 525
49721.13.5.5.4 Effect of receiptPMD_TXEND terminates transmission of a PPDU by the PMD sublayer.21.13.5.6 PMD_TXEND.confirm21.13.5.6.1 FunctionThis primitive, generated by the PMD entity, indicates the end of PPDU transmission by the PMD layer. It isgenerated at the 1 s boundary following the trailing boundary of the last symbol transmitted.21.13.5.6.2 Semantics of the service primitiveThis primitive has no parameters.21.13.5.6.3 When generatedThis primitive shall be generated by the PMD entity at the 1 s boundary following the trailing boundary ofthe last symbol transmitted.21.13.5.6.4 Effect of receiptThe PLCP sublayer determines that transmission of the last symbol of the PPDU is complete. Thiscompletion is used as a timing reference in the PLCP state machines.21.13.5.7 PMD_RCPI.indication21.13.5.7.1 FunctionThis primitive, generated by the PMD sublayer, provides the received channel power indicator to the PLCPand MAC entity.21.13.5.7.2 Semantics of the service primitiveThe primitive shall provide the following parameter: PMD_RCPI.indication(RCPI).The RCPI is a measure of the channel power received by the DMG PHY. RCPI measurement and parametervalues are defined in 21.3.10.21.13.5.7.3 When generatedThis primitive shall be generated by the PMD when the DMG PHY is in the receive state. It is generated atthe end of the last received symbol.21.13.5.7.4 Effect of receiptThis parameter shall be provided to the PLCP layer for information only. The RCPI might be used inconjunction with RSSI to measure input signal quality


page 526
21.13.5.8 PMD_TXPWRLVL.request21.13.5.8.1 FunctionThis primitive, generated by the PHY PLCP sublayer, selects the power level used by the PHY fortransmission.21.13.5.8.2 Semantics of the service primitiveThis primitive shall provide the following parameter: PMD_TXPWRLVL.request (TXPWR_LEVEL)TXPWR_LEVEL selects which of the transmit power levels should be used for the current packettransmission. The number of available power levels shall be determined by the MIB parameteraNumberSupportedPowerLevels. The number of available power levels are determined by the PLCP. 21.13.5.8.3 When generatedThis primitive shall be generated by the PLCP sublayer to select a specific transmit power. This primitiveshall be applied prior to setting PMD_TXSTART into the transmit state.21.13.5.8.4 Effect of receiptPMD_TXPWRLVL immediately sets the transmit power level to the level given by TXPWR_LEVEL.21.13.5.9 PMD_RSSI.indication21.13.5.9.1 FunctionThis primitive, generated by the PMD sublayer, provides the receive signal strength to the PLCP and MACentity.21.13.5.9.2 Semantics of the service primitiveThis primitive shall provide the following parameter: PMD_RSSI.indication (RSSI)The RSSI shall be a measure of the RF energy received by the DMG PHY. RSSI indications of up to 8 bits(256 levels) are supported.21.13.5.9.3 When generatedThis primitive shall be generated by the PMD after the reception of the DMG training fields.21.13.5.9.4 Effect of receiptThis parameter shall be provided to the PLCP layer for information only. The RSSI may be used as part of aCCA scheme


page 527
499Annex B(normative) Protocol Implementation Conformance Statement (PICS) proformaB.4 PICS proformaB.4.3 IUT configurationChange the IUT configuration table as follows (note that the entire table is not shown here):ItemIUT configurationReferencesStatusSupport*CF2.1Operation in an infrastructure BSS4.3CF2&(not CF25):MCF2&CF25:OYes  No  N/A *CF2.4Operation in a PBSS4.3.2aCF2&(not CF25):O*CF2.4.1Operation as a PCP4.3.2aCF2&CF25:MYes  No *CF2.4.2Operation not as a PCP4.3.2aCF2&CF25:MYes  No * CF4Direct sequence spread spectrum (DSSS) PHY for the 2.4 GHz band  O.2CF7:MYes  No * CF6Orthogonal frequency division multiplexing (OFDM) PHY  O.2CF16.2:MYes  No * CF7High-speed High rate direct sequence spread spectrum (HR/DSSS) PHY   O.2CF9:MYes  No * CF9Extended Rate PHY (ERP)Clause 19O.2CF16.1:MYes  No * CF10Is spectrum management operation supported?8.4.1.4, 10.6(CF6 OR CF16.2 OR CF25):OYes  No * CF11Is operating classes capability implemented?8.4.2.13, 18.3.8.4.2, 18.3.8.7, 18.4.2, Annex D, Annex E(CF6 OR CF16.2 OR CF25)& CF8&CF10:OYes  No  N/A * CF12Quality of service (QoS) supported9.19, 9.21, 4.3.10, 4.3.15.3O(CF16 OR CF21 OR CF22):M CF25:MYes  No  N/A * CF16.1HT operation in 2.4 GHz bandClause 20CF16: O.6Yes  No * CF16.2HT operation in 5 GHz bandClause 20CF16: O.6Yes  N


page 528
B.4.4 MAC protocolB.4.4.1 MAC protocol capabilitiesChange the MAC protocol capabilities table as follows (note that the entire table is not shown):* CF25DMG features8.4.2.130O.2Yes  No * CF26Multi-band operation 8.5.21, 10.32At least two of CF4, CF6, CF15, CF17, CF25: OYes  No  N/A * CF27Non-DMG STAO.5Yes  No  N/A * CF28DMG STAO.5Yes  No  N/A ItemProtocol capabilityReferencesStatusSupportPC1Authentication service4.5.4.2, 4.5.4.3, 11.1, 10.20, Annex J(not CF2.3)&CF27:M Yes  No *PC4Point coordinator (PC)9.2, 9.4, Annex JCF27&CF1:OYes  No  N/A *PC5Contention-free (CF)-Pollable9.2, 9.4, Annex JCF27&CF2.1:OYes  No  N/A PC11.7Passive scanning10.1.4(CF2.1 or CF2.2 or CF2.4.2):MYes  No  N/A PC11.8Active scanning10.1.4(CF2.1 or CF2.2 or CF2.4.2):MYes  No  N/A PC12Infrastructure power management 10.2.1, Annex JCF27:MYes  No PC14Association and reassociation4.5, 10.3, 10.3.5, 10.20, Annex J(CF27 and not CF2.3):M Yes  No  N/A PC34.1.2.3Galois/Counter Mode with GMAC Protocol (GCMP) data confidentiality protocol11.4.5(CF25 and PC34):MYes  No  N/A PC34.1.13RSNA rekeying11.5.15 PC34:OYes  No  N/A PC34.1.14Multi-band RSNA11.5.19CF26&PC34:MYes  No  N/A ItemIUT configurationReferencesStatusSuppor


page 529
501B.4.4.2 MAC framesChange the MAC frames table as follows:PC35.12QoS procedures for fast basic service set (BSS) transition12.11(CF12&PC35 or CF25&PC35):MYes  No  N/A *PC37Power save multi-poll (PSMP)8.5.12.4, 9.26CF27:OYes  No *PC40Multi-band Operation10.32CF26:OYes  No  N/A *PC40.1FST Setup10.32.2.1, 10.32.2.2, 8.4.2.140, 8.5.21.2, 8.5.21.3, 8.5.21.5, 8.5.21.6, 8.4.2.153, 8.4.2.154PC39:MYes  No  N/A PC40.2FST TS switching10.32.2.3, 8.5.3.2.2, 8.5.3.3.2, 8.5.3.4, 8.5.5.2, 8.5.5.3, 8.5.5.4, 8.4.2.32, 8.4.2.143PC39.1:MYes  No  N/A PC40.3FST Tear DownPC40.3.1Transmission of FST Tear Down10.32.3, 8.5.21.4PC39.1:OYes  No  N/A PC40.3.2Reception of FST Tear Down10.32.3, 8.5.21.4PC39.1:MYes  No  N/A PC41MMSL cluster operation10.33O Yes  No  N/A PC42Quieting adjacent BSS operation10.36OYes  No  N/A ItemMAC frameReferencesStatusSupportIs the transmission of the following MAC frames supported?Clause 8, Annex JFT1Association RequestClause 8CF2.1:MCF2.4.2:OYes  No  N/A FT2Association ResponseClause 8(CF1 OR CF2.4.1):MYes  No  N/A ItemProtocol capabilityReferencesStatusSuppor


page 530
FT3Reassociation RequestClause 8CF2.1:MCF2.4.2:OYes  No  N/A FT4Reassociation ResponseClause 8(CF1 OR CF2.4.1):MYes  No  N/A FT5Probe RequestClause 8(CF2.1 OR CF2.2 OR CF2.4):MYes  No  N/A FT6Probe ResponseClause 8(not CF2.3):MYes  No  N/A FT7BeaconClause 8(not CF2.3):MCF27:MYes  No  N/A FT8ATIMClause 8(CF2.1 OR CF2.2 OR CF2.4):MYes  No  N/A FT9DisassociationClause 8(not CF2.3):MYes  No  N/A FT10AuthenticationClause 8(not CF2.3):MCF27:MYes  No  N/A FT11DeauthenticationClause 8(not CF2.3):MCF27:MYes  No  N/A FT12Power save (PS)-PollClause 8CF27&CF2.1:MYes  No  N/A FT13RTSClause 8MYes  No FT14CTSClause 8CF27:MYes  No FT15Acknowledgment (ACK)Clause 8MYes  No FT16CF-EndClause 8CF27&PC4:MCF28:MYes  No  N/A FT17CF-End+CF-AckClause 8CF27&PC4:MYes  No  N/A FT18DataClause 8CF27:MYes  No FT19Data+CF-AckClause 8CF27&(PC4 OR PC5):MYes  No  N/A FT20Data+CF-PollClause 8CF27&PC4.3:MYes  No  N/A FT21Data+CF-Ack+CF-PollClause 8CF27&PC4.3:MYes  No  N/A FT22NullClause 8CF27:MYes  No FT23CF-Ack (no data)Clause 8CF27&(PC4 OR PC5):MYes  No  N/A FT24CF-Poll (no data)Clause 8CF27&PC4.3:MYes  No  N/A FT25CF-Ack+CF-Poll (no data)Clause 8CF27&PC4.3:MYes  No  N/A ItemMAC frameReferencesStatusSuppor


page 531
503FT26Timing Advertisement frameClause 8OYes  No  N/A FT27QoS Data Clause 8CF28:MYes  No FT28QoS Null (no data)Clause 8CF28:MYes  No FT29BlockAckReqClause 8CF28:MYes  No FT30BlockAck Clause 8CF28:MYes  No FT31Poll Clause 8CF28:MYes  No FT32SPR Clause 8CF28:MYes  No FT33Grant Clause 8CF28:MYes  No FT34DMG CTS Clause 8CF28:MYes  No FT35DMG DTS Clause 8CF28:MYes  No FT36SSW Clause 8CF28:MYes  No FT37SSW-Feedback Clause 8CF28:MYes  No FT38SSW-ACK Clause 8CF28:MYes  No FT39DMG Beacon Clause 8CF28:MYes  No Is the reception of the following MAC frames supported?Clause 8, Annex JFR1Association RequestClause 8(CF1 OR CF2.4.1):MYes  No  N/A FR2Association ResponseClause 8(CF2.1 OR CF2.4.2):MYes  No  N/A FR3Reassociation RequestClause 8(CF1 OR CF2.4.1):MYes  No  N/A FR4Reassociation ResponseClause 8(CF2.1 OR CF2.4.2):MYes  No  N/A FR5Probe RequestClause 8(not CF2.3):MYes  No  N/A FR6Probe ResponseClause 8(not CF2.3):MYes  No  N/A FR7BeaconClause 8(not CF2.3):MCF27:MYes  No  N/A FR8ATIMClause 8(CF2.2 OR CF2.4):MYes  No  N/A FR9DisassociationClause 8(not CF2.3):MYes  No  N/A FR10Authentication Clause 8(not CF2.3):MCF27:MYes  No  N/A FR11Deauthentication Clause 8(not CF2.3):MCF27:MYes  No  N/A FR12PS-Poll Clause 8CF27&CF1:MYes  No  N/A ItemMAC frameReferencesStatusSuppor


page 532
FR13RTSClause 8MYes  No FR14CTS Clause 8CF27:MYes  No FR15ACKClause 8MYes  No FR16CF-End Clause 8(not CF2.3):MCF27:MYes  No  N/A FR17CF-End+CF-Ack Clause 8(not CF2.3):MCF27:MYes  No  N/A FR18Data Clause 8CF27:MYes  No FR19Data+CF-Ack Clause 8(not CF2.3):MCF27:MYes  No  N/A FR20Data+CF-Poll Clause 8CF27&PC5:MYes  No  N/A FR21Data+CF-Ack+CF-Poll Clause 8CF27&PC5:MYes  No  N/A FR22Null Clause 8CF27:MYes  No FR23CF-Ack (no data) Clause 8CF27&(PC4 OR PC5):MYes  No  N/A FR24CF-Poll (no data) Clause 8CF27&PC5:MYes  No  N/A FR25CF-Ack+CF-Poll (no data) Clause 8CF27&PC5:MYes  No  N/A FR26Timing Advertisement frameClause 8OYes  No  N/A FR27QoS Data Clause 8CF28:MYes  No FR28QoS Null (no data) Clause 8CF28:MYes  No FR29BlockAckReq Clause 8CF28:MYes  No FR30BlockAck Clause 8CF28:MYes  No FR31Poll Clause 8CF28:MYes  No FR32SPR Clause 8CF28:MYes  No FR33Grant Clause 8CF28:MYes  No FR34DMG CTS Clause 8CF28:MYes  No FR35DMG DTS Clause 8CF28:MYes  No FR36CF-End Clause 8CF28:MYes  No FR37SSW Clause 8CF28:MYes  No FR38SSW-Feedback Clause 8CF28:MYes  No FR39SSW-ACK Clause 8CF28:MYes  No FR40DMG Beacon Clause 8CF28:MYes  No ItemMAC frameReferencesStatusSuppor


page 533
505B.4.14 QoS base functionalityChange the QoS base functionality table as follows:ItemProtocol capabilityReferencesStatusSupportQB1QoS frame format8.3.1.2  8.3.1.4, 8.3.2.1, 8.3.3.2, 8.3.3.5  8.3.3.8, 8.3.3.10, 8.3.3.13CF12:MYes  No  N/A QB1.1QoS frame format8.3.1.2  8.3.1.4, 8.3.2.1, 8.3.3.2, 8.3.3.5  8.3.3.8, 8.3.3.10, 8.3.3.13CF27&CF12:MYes  No  N/A QB1.2QoS frame format8.3.1.2, 8.3.1.4, 8.3.1.8, 8.3.1.9, 8.3.1.11  8.3.1.19, 8.3.2.1, 8.3.4.1, 8.3.3.5  8.3.3.8, 8.3.3.10, 8.3.3.13CF28&CF25:MYes  No  N/A QB2Per traffic identifier (TID) duplicate detection8.2.4.4, 8.2.4.5, 9.3.2.10CF12 OR CF25:MYes  No  N/A QB3Decode of no-acknowledgment policy in QoS data frames8.2.4.5.4, 9.19.2.4, 9.19.2.5, 9.19.4.2, 9.19.4.3CF12 OR CF25:MYes  No  N/A QB4Block Acknowledgments (Block Acks)QB4.1Immediate Block Ack8.3.1.8.1, 8.3.1.8.2, 8.3.1.9.1, 8.3.1.9.2, 8.5.5, 9.21 (except 9.21.7 and 9.21.8), 10.5CF12:OCF16 OR CF25:MYes  No  N/A QB4.2Delayed Block Ack8.3.1.8.1, 8.3.1.8.2, 8.3.1.9.1, 8.3.1.9.2, 8.5.5, 9.21 (except 9.21.7 and 9.21.8), 10.5CF12:OYes  No  N/A QB4.3Compressed Block Ack8.3.1.8.3CF12:OCF16:MYes o No o N/A oQB4.3.1Compressed Block Ack8.3.1.8.3CF12:OCF16 OR CF25:MYes  No  N/A QB4.3.2Extended Compressed Block Ack8.3.1.8.6CF25:OYes  No  N/A QB4.4MultiTID Block Ack8.3.1.8.4CF12:OCF16: MYes  No  N/


page 534
B.4.15 QoS enhanced distributed channel access (EDCA)Change the QoS EDCA table as follows:QB5Automatic power-save delivery (APSD)8.5.3, 10.2.1(CF1&CF12):O(CF2&CF12):OYes  No  N/A QB6Direct-link setup (DLS)8.4.2.21, 8.5.4, 6.3.14, 10.7(CF1&CF12):M(CF2.1&CF12):OYes  No  N/A ItemProtocol capabilityReferencesStatusSupportQD1Support for four transmit queues with a separate channel access entity associated with each9.2.4.2, 9.19.2.1CF27&CF12:MYes  No  N/A QD2Per-channel access function differentiated channel access 9.19.2.2, 9.19.2.3, 9.19.2.5CF27&CF12:MYes  No  N/A QD3Multiple frame transmission support9.19.2.4CF12 OR CF25:OYes  No  N/A QD4Maintenance of within-queue ordering, exhaustive retransmission when sending non-QoS data frames9.19.2.6CF12 OR CF25:MYes  No  N/A QD5Interpretation of admission control mandatory (ACM) bit in EDCA Parameter Set element8.4.2.15, 9.19.4.2(CF2.1 & (CF12 OR CF25)):M(CF2.4.2 & CF25):MYes  No  N/A QD6Contention-based admission control9.19.4.2, 8.4.2.16, 8.4.2.17, 8.5.3.2  8.5.3.4, 10.4(CF1 & (CF12 OR CF25)):O(CF2.1 & (CF12 OR CF25)):O(CF2.4.1 & CF25):O(CF2.4.2 & CF25):OYes  No  N/A QD7Power management in an infrastructure BSS or in an IBSS10.2(CF1&CF12):O(CF2&CF12):OYes  No  N/A QD8Default EDCA parameters for communications outside context of BBSS8.4.2.31, 9.19.2.2CF2.3:MYes  No  N/A ItemProtocol capabilityReferencesStatusSuppor


page 535
507B.4.17 Radio management extensionsChange the radio management extensions table as follows (note that the entire table is not shown here):ItemProtocol capabilityReferencesStatusSupportRM2.4Link Measurement Report frame 8.5.7.5CF13:MYes o No o N/A oRM2.4.1Link Measurement Report frame8.5.7.5 CF27&CF13:MYes  No  N/A RM2.4.2Link Measurement Report frame8.5.7.5, 8.4.2.151, 8.4.2.152, 9.37CF28&(CF13 AND CF25):MYes  No  N/A *RM10Transmit Stream/Category Measurement Type10.11, 10.11.9.8(CF13 AND (CF12 OR CF25)):OYes  No  N/A RM14.1Respond with RCPI element when requested10.1.4.3.3(CF13 AND (CF12 OR CF25) AND CF1):MYes  No  N/A RM14.2Measurement of RCPI on Probe Request frames10.1.4.3.3(CF13 AND (CF12 OR CF25) AND CF1):OYes  No  N/A RM24BSS Available Admission Capacity8.4.2.45(CF1 AND (CF12 OR CF25) AND CF13):MYes  No  N/A RM25BSS AC Access Delay 8.3.3.2, 8.3.3.10, 8.4.2.46CF27&(CF1 AND CF12 AND CF13):MYes  No  N/A RM26BSS AC Access Delay 8.3.4.1, 8.3.3.10, 8.4.2.46CF28&(CF1 AND CF25 AND CF13):MYes  No  N/A RM27Directional channel quality measurement10.11, 10.31RM27.1Directional Channel Quality Request8.4.2.23.16, 10.31(CF13 AND DMG-M19):OYes  No  N/A RM27.2Directional Channel Quality Response8.4.2.24.15, 10.31(CF13 AND DMG-M19):MYes  No  N/A RM28Directional measurement type10.11RM28.1Directional Measurement Request8.4.2.23.17(CF13 AND CF25):OYes  No  N/A RM28.2Directional Measurement Response8.4.2.24.16(CF13 AND CF25):OYes  No  N/A RM29Directional statistics measurement type10.1


page 536
Insert the following subclauses, B.4.26 to B.4.26.2, after B.4.25:B.4.26 DMG featuresRM29.1Directional Statistics Measurement Type8.4.2.23.18(CF13 AND CF25):OYes  No  N/A RM29.2Directional Statistics Measurement Type8.4.2.24.17(CF13 AND CF25):OYes  No  N/A B.4.26.1 DMG MAC featuresItemProtocol capabilityReferencesStatusSupportAre the following MAC protocol features supported?DMG-M1DMG capabilities signalingDMG-M1.1DMG Capabilities element8.4.2.137CF25:MYes  No  N/A  DMG-M1.2Signaling of STA capabilities in Probe Request, (Re)Association Request frames8.4.2.137, 8.3.3.9, 8.3.3.5, 8.3.3.7(CF25 AND (CF2.1 OR CF2.2 OR CF2.4.2)):MYes  No  N/A DMG-M1.3Signaling of STA and BSS capabilities in DMG Beacon, Probe Response, (Re)Association Response frames8.4.2.137, 8.3.4.1, 8.3.3.10, 8.3.3.6, 8.3.3.8(CF25 AND (CF1 OR CF2.4.1)):MYes  No  N/A DMG-M2Signaling of DMG operation8.3.2.138(CF25 AND (CF1 OR CF2.4.1)):MYes  No  N/A DMG-M3MSDU aggregationDMG-M3.1Reception of  Basic A-MSDUs8.2.4.5, 8.3.2.2.2CF25:MYes  No  N/A DMG-M3.2Basic A-MSDU format8.3.2.2.2CF25:MYes  No  N/A DMG-M3.3Basic A-MSDU content8.3.2.2.2CF25:MYes  No  N/A DMG-M3.4Transmission of Basic A-MSDUs8.3.2.2.2, 8.2.4.5CF25:OYes  No  N/A *DMG-M3.5Reception of Short A-MSDU8.2.4.5, 8.3.2.2.3CF25:OYes  No  N/A DMG-M3.6Short A-MSDU format8.3.2.2.3(DMG-M3.5 OR DMG-M3.8):MYes  No  N/A ItemProtocol capabilityReferencesStatusSuppor


page 537
509DMG-M3.7Short A-MSDU content8.3.2.2.3(DMG-M3.5 OR DMG-M3.8):MYes  No  N/A *DMG-M3.8Transmission of Short A-MSDU8.3.2.2.3, 8.2.4.5CF25:OYes  No  N/A DMG-M3.9Negotiation of Short A-MSDU usage8.4.2.32CF25:MYes  No  N/A DMG-M4MPDU aggregationDMG-M4.1Reception of A-MPDU8.4.2.137.2, 10.3, 9.12.2, 8.4.2.148CF25:MYes  No  N/A DMG-M4.2A-MPDU format8.6.1CF25:MYes  No  N/A DMG-M4.3A-MPDU content8.6.3CF25:MYes  No  N/A DMG-M4.4Transmission of A-MPDU8.4.2.111.2, 11.3, 8.4.2.148CF25:OYes  No  N/A DMG-M5A-PPDU aggregation9.13a*DMG-M5.1Reception of A-PPDU8.4.2.137.2CF25:OYes  No  N/A DMG-M5.2A-PPDU format21.5.2, 21.6.2(DMG-M5.1 OR DMG-M5.3):MYes  No  N/A *DMG-M5.3Transmission of A-PPDU8.4.2.137.2CF25:OYes  No  N/A *DMG-M6Reverse direction aggregation exchanges9.25, 8.4.2.137.2CF25:OYes  No  N/A DMG-M6.1Constraints regarding responses9.25.4DMG-M6:MYes  No  N/A DMG-M7DMG channel accessDMG-M7.1ATI transmissionDMG-M7.1.1Transmission of Request9.33.3CF25 AND (CF1 OR CF2.4.1):OYes  No  N/A DMG-M7.1.2Reception of Request9.33.3CF25 AND (CF2.1 OR CF2.4.2):MYes  No  N/A DMG-M7.1.3Transmission of Response9.33.3CF25 AND (CF2.1 OR CF2.4.2):MYes  No  N/A DMG-M7.1.4Reception of Response9.33.3CF25 AND (CF1 OR CF2.4.1):MYes  No  N/A B.4.26.1 DMG MAC features  (continued)ItemProtocol capabilityReferencesStatusSuppor


page 538
DMG-M7.2DTI transmission9.33.4CF25:MYes  No  N/A DMG-M7.3Time allocation*DMG-M7.3.1Service period (SP) allocation9.33.6.2, 8.4.2.141, 8.4.2.143CF25 AND (CF1 OR CF2.4.1):OYes  No  N/A *DMG-M7.3.2CBAP allocation9.33.6.3, 8.4.2.141CF25 AND (CF1 OR CF2.4.1):OYes  No  N/A DMG-M7.3.3Interpretation of allocation 9.33.6.2, 9.33.6.3, 8.4.2.141CF25 AND (CF1 OR CF2.1 OR CF2.2 OR CF2.4.1 OR CF2.4.2):MYes  No  N/A *DMG-M7.4Contention-based access period9.33.5, 9.33.6.3CF25:MYes  No  N/A DMG-M7.4.1Distributed coordination function (DCF)DMG-M7.4.1.1Network allocation vector (NAV) function9.3.2.2, 9.3.4, 9.33.10DMG-M7.4:MYes  No  N/A DMG-M7.4.1.2Interframe space usage and timing9.3.2.4, 9.3.4, 9.3.7DMG-M7.4:MYes  No  N/A DMG-M7.4.1.3Random Backoff function9.3.3DMG-M7.4:MYes  No  N/A DMG-M7.4.1.4DCF Access procedure9.3, 9.3.4.2, 9.3.4.5DMG-M7.4:MYes  No  N/A DMG-M7.4.1.5Random Backoff procedure9.3, 9.3.4.3DMG-M7.4:MYes  No  N/A DMG-M7.4.1.6Recovery procedures and retransmit limits9.3.4.4DMG-M7.4:MYes  No  N/A DMG-M7.4.1.7Request to send (RTS)/DMG clear to send (DMG CTS) procedure9.3.2.5, 9.33.10, 9.3.2.6, 9.3.2.7DMG-M7.4:MYes  No  N/A DMG-M7.4.1.8Directed MAC protocol data unit (MPDU) transfer9.3.5DMG-M7.4:MYes  No  N/A DMG-M7.4.1.9Group addressed MPDU transfer9.3.6DMG-M7.4:MYes  No  N/A DMG-M7.4.1.10MAC-level acknowledgment9.3.2.3, 9.3.2.9DMG-M7.4:MYes  No  N/A DMG-M7.4.1.11Duplicate detection and recovery9.3.2.11DMG-M7.4:MYes  No  N/A DMG-M7.4.2Enhanced DCF (EDCA)B.4.26.1 DMG MAC features  (continued)ItemProtocol capabilityReferencesStatusSuppor


page 539
511*DMG-M7.4.2.1Support for one transmit queue with AC_BE access category9.2.4.2, 9.19.2.1DMG-M7.4:MYes  No  N/A DMG-M7.4.2.2Support for four transmit queues with a separate channel access entity associated with each9.2.4.2, 9.19.2.1DMG-M7.4.2.1:OYes  No  N/A DMG-M7.4.2.3AC_BE access category and differentiated channel access 9.19.2.2, 9.19.2.3, 9.19.2.5DMG-M7.4.2.1:MYes  No  N/A DMG-M7.5Pseudo-static allocationDMG-M7.5.1Scheduling of pseudo-static allocation9.33.6.2, 8.4.2.115, 8.4.2.143, 9.33.6.5, 10.4.13.2DMG-M7.3.1:OYes  No  N/A DMG-M7.5.2Operation within pseudo-static allocation9.33.6.2, 9.33.6.4, 8.4.2.141, 8.4.2.143CF25 AND (CF1 OR CF2.1 OR CF2.4.1 OR CF2.4.2):MYes  No  N/A DMG-M7.6Guard time9.33.6.5DMG-M7.3.1:MYes  No  N/A DMG-M7.7DMG protected period*DMG-M7.7.1Establishment of DMG protected period with RTS at source DMG STA9.33.6.6DMG-M7.3.1:OYes  No  N/A *DMG-M7.7.2Acceptance to establish DMG protected period with DMG CTS at destination DMG STA9.33.6.6DMG-M7.3.1:MYes  No  N/A DMG-M7.7.3Transmission of DMG DTS at destination DMG STA9.33.6.6DMG-M7.7.2:OYes  No  N/A DMG-M7.7.4Reception of DMG DTS at source DMG STA9.33.6.6DMG-M7.7.1:MYes  No  N/A DMG-M7.8Service period recovery9.33.6.7DMG-M7.3.1&(CF1 OR CF2.4.1):OYes  No  N/A DMG-M7.9Dynamic allocation of service period9.33.7DMG-M7.9.1Polling period (PP)9.33.7.2, 8.4.2.142 DMG-M7.9.1.1Transmission of Poll8.3.1.11CF25 AND (CF1 OR CF2.4.1):OYes  No  N/A DMG-M7.9.1.2Reception of Poll8.3.1.11CF25 AND (CF2.1 OR CF2.4.2):MYes  No  N/A DMG-M7.9.1.3Transmission of SPR8.3.1.12CF25 AND (CF2.1 OR CF2.4.2):MYes  No  N/A B.4.26.1 DMG MAC features  (continued)ItemProtocol capabilityReferencesStatusSuppor


page 540
DMG-M7.9.1.4Reception of SPR8.3.1.12CF25 AND (CF1 OR CF2.4.1):MYes  No  N/A DMG-M7.9.2Grant period (GP)9.33.7.3DMG-M7.9.2.1Transmission of Grant8.3.1.13CF25 AND (CF1 OR CF2.4.1):OYes  No  N/A DMG-M7.9.2.2Reception of Grant8.3.1.13CF25 AND (CF2.1 OR CF2.4.2):MYes  No  N/A DMG-M7.10Dynamic truncation of service period9.33.8DMG-M7.10.1Transmission of CF-End8.3.1.16CF25:OYes  No  N/A DMG-M7.10.2Reception of CF-End8.3.1.16CF25:MYes  No  N/A DMG-M7.11Dynamic extension of service period9.33.9DMG-M7.11.1Transmission of SPR8.3.1.12CF25 AND (CF2.1 OR CF2.4.2):OYes  No  N/A DMG-M7.11.2Reception of SPR8.3.1.12CF25 AND (CF1 OR CF2.4.1):MYes  No  N/A DMG-M7.11.3Transmission of Grant8.3.1.13CF25 AND (CF1 OR CF2.4.1):OYes  No  N/A DMG-M7.11.4Reception of Grant8.3.1.13CF25 AND (CF2.1 OR CF2.4.2):MYes  No  N/A DMG-M7.12 Isochronous and Asynchronous TS supportDMG-M7.12.1Isochronous operation10.4.13.2, 8.4.2.141, 8.4.2.143DMG-M7.3.1 AND (CF1 OR CF2.1 OR CF2.4.1 OR CF2.4.2):M Yes  No  N/A DMG-M7.12.2Asynchronous operation 10.4.13.3, 8.4.2.141, 8.4.2.143, 8.3.1.12DMG-M7.3.1 AND (CF1 OR CF2.1 OR CF2.4.1 OR CF2.4.2):M Yes  No  N/A DMG-M8PCP/AP clusteringDMG-M8.1S-AP in centralized PCP/AP cluster9.34CF25:OYes  No  N/A B.4.26.1 DMG MAC features  (continued)ItemProtocol capabilityReferencesStatusSuppor


page 541
513DMG-M8.2Except when centralized PCP/AP clusters on all channels supported by the PCP/AP in the operating class, join a centralized PCP/AP cluster or cease activity on channel9.34.2.2CF25 AND (CF1 OR CF2.4.1) AND NOT DMG-M8.1:MYes  No  N/A DMG-M8.3Other PCP/AP clustering9.34CF25:OYes  No  N/A DMG-M9DMG beamformingDMG-M9.1Sector level sweep9.35.2, 9.35.6.2CF25:MYes  No  N/A DMG-M9.2Beamforming in BTI9.35.4CF25:MYes  No  N/A DMG-M9.3Beamforming in A-BFT9.35.5CF25:MYes  No  N/A DMG-M9.4BRP setup9.35.3.2CF25:MYes  No  N/A DMG-M9.5MID9.35.6.3.3CF25:OYes  No  N/A DMG-M9.6BC9.35.6.3.4CF25:OYes  No  N/A DMG-M9.7BRP*DMG-M9.7.1BRP with BS-FBCK9.35.3, 9.35.6.4CF25:MYes  No  N/A DMG-M9.7.2BRP with channel measurement9.35.3, 9.35.6.4DMG-M9.7.1:OYes  No  N/A DMG-M9.8Beam tracking9.35.7CF25:MYes  No  N/A DMG-M10DMG Block ACK with flow control9.36, 8.4.2.137.2CF25:OYes  No  N/A DMG-M11DMG link adaptation9.37CF25:OYes  No  N/A DMG-M12DMG dynamic tone pairing (DTP)9.38, 8.4.2.137.2CF25:OYes  No  N/A DMG-M13Timing synchronization function (TSF) in a PBSSDMG-M13.1Timing in a PBSS network10.1.2.1, 10.1.5CF2.4.1&CF25:MYes  No  N/A DMG-M13.2PBSS initialization10.1.4CF2.4.1&CF25:MYes  No  N/A DMG-M14Power managementDMG-M14.1STA power management without wakeup schedule10.2.5.2.2, 10.2.5.2.4CF25:MYes  No  N/A B.4.26.1 DMG MAC features  (continued)ItemProtocol capabilityReferencesStatusSuppor


page 542
DMG-M14.2STA power management with wakeup schedule10.2.5.2.3, 10.2.5.2.4, 8.4.2.140CF25:OYes  No  N/A DMG-M14.3PCP power management10.2.5.3, 8.4.2.140CF25:OYes  No  N/A DMG-M15Authentication and associationDMG-M15.1Association state10.3.1MYes  No DMG-M15.2STA association procedure10.3.3.2CF2.1 & CF25:MCF2.4.2 & CF25:OYes  No  N/A DMG-M15.3PCP/AP association procedure10.3.3.3CF1 & CF25:MCF2.4.1 & CF25:OYes  No  N/A DMG-M15.4Communicating PBSS information10.3.5(CF2.4.1 OR CF2.4.2) & CF25:MYes  No  N/A DMG-M16DMG beamformed link and BSS maintenanceDMG-M16.1Beamformed link maintenance*DMG-M16.1.1Negotiation of dot11BeamLinkMaintenanceTime timer8.4a.6CF25:MYes  No  N/A DMG-M16.1.2Beamformed link maintenance procedure10.28.1DMG-M16.1.1:OYes  No  N/A DMG-M16.2PCP handover10.28.2CF25:OYes  No  N/A DMG-M17DMG BSS Peer and Service Discovery10.29CF25:OYes  No  N/A DMG-M18Changing DMG BSS parameters10.30CF25:OYes  No  N/A *DMG-M19Spatial sharing and interference mitigation10.31CF25:OYes  No  N/A DMG-M20DMG Coexistence with other DMG systems 10.34CF25:O Yes  No  N/A DMG-M21Traffic specification (TSPEC and DMG TSPEC) and associated frame formats8.5.3CF25:MYes  No  N/A DMG-M22DMG frame formatsDMG-M22.1DMG Action field8.5.20.1CF25:MYes  No  N/A DMG-M22.2Announce frame8.5.22.2CF25:MYes  No  N/A DMG-M22.3Power Save Configuration8.5.20.2, 8.5.20.3CF25:MYes  No  N/A B.4.26.1 DMG MAC features  (continued)ItemProtocol capabilityReferencesStatusSuppor


page 543
515DMG-M22.4Information Request/Response8.5.20.4, 8.5.20.5CF25:MYes  No  N/A DMG-M22.5BRP8.5.22.3CF25:MYes  No  N/A DMG-M22.6Handover8.5.20.6, 8.5.20.7DMG-M16.2:MYes  No  N/A DMG-M22.7DTP8.5.20.8, 8.5.20.9DMG-M12:MYes  No  N/A DMG-M22.8DMG relay8.5.20.10    8.5.20.24DMG-M23:MYes  No  N/A DMG-M23DMG relay9.39, 10.35CF25:OYes  No  N/A B.4.26.2 DMG PHY featuresItemProtocol capabilityReferencesStatusSupportAre the following PHY protocol features supported?DMG-P1PHY operating modesDMG-P1.1Operation according to Clause 2121CF25:MYes  No  N/A DMG-P2PLCP frame format*DMG-P2.1Control PHY PLCP format21.4CF25:MYes  No  N/A *DMG-P2.2SC PHY PLCP format21.6CF25:MYes  No  N/A *DMG-P2.3OFDM PHY PLCP format21.5CF25:OYes  No  N/A *DMG-P2.4Low-power SC PHY PLCP format21.7CF25:OYes  No  N/A DMG-P2.5Modulation and coding schemes (MCS)DMG-P2.5.1MCS 0 of control PHYDMG-P2.1:MYes  No  N/A DMG-P2.5.2MCS 1-12 of SC PHYDMG-P2.5.2.1MCS 1-4DMG-P2.2:MYes  No  N/A DMG-P2.5.2.2MCS 5-12DMG-P2.2:OYes  No  N/A DMG-P2.5.3MCS 13-24 of OFDM PHYB.4.26.1 DMG MAC features  (continued)ItemProtocol capabilityReferencesStatusSuppor


page 544
DMG-P2.5.3.1MCS 13-17DMG-P2.3:MYes  No  N/A DMG-P2.5.3.2MCS 18-24DMG-P2.3:OYes  No  N/A DMG-P2.5.4MCS 25-31 of low-power SC PHYDMG-P2.4:MYes  No  N/A DMG-P2.6Common preamble format21.3.6CF25:MYes  No  N/A DMG-P2.7Use of LDPC codes21.3.8CF25:MYes  No  N/A B.4.26.2 DMG PHY features  (continued)ItemProtocol capabilityReferencesStatusSuppor


page 545
517Annex C(normative) ASN.1 encoding of the MAC and PHY MIBC.3 MIB DetailInsert the following comment in numeric order in the    dot11smt OBJECT IDENTIFIER    list in the   Major sections    part of C.3:-- Added for 802.11ad-- dot11DMGSTAConfigTable::= { dot11smt 27 }Insert the following comment at the end of the    MAC GROUPS    list in the    Major sections    of C.3:-- Added for 802.11ad-- dot11DMGOperationTable::= { dot11mac 8 }-- dot11DMGCountersTable::= { dot11mac 9 }Insert the following comment at the end of the    PHY GROUPS    list in the    Major sections    of C.3:-- Added for 802.11ad-- dot11PHYDMGTable::= { dot11phy 19 }-- dot11DMGBeamformingConfigTable ::= { dot11phy 22 }Change the end of the    Dot11StationConfigEntry    of the    dot11StationConfig TABLE    in C.3 as follows:dot11RobustAVStreamingImplementedTruthValue,dot11MultibandImplementedTruthValue}Change the definition of    dot11BeaconPeriod    in the    Dot11StationConfig TABLE    in C.3 as follows:dot11BeaconPeriod OBJECT-TYPESYNTAX Unsigned32 (1..65535)MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by an external management entity.Changes take effect for the next MLME-START.request primitive.For non-DMG STAs, Tthis attribute specifies the number of TUs that a station uses for scheduling Beacon transmissions. For DMG STAs, this attribute specifies the number of TUs that a station uses for scheduling BTI and/or ATI in the beacon interval. This value i


page 546
transmitted in Beacon and Probe Response frames."::= { dot11StationConfigEntry 12 } Insert the following object at the end of the    dot11StationConfig TABLE    element definitions in C.3:dot11MultibandImplemented OBJECT-TYPESYNTAX TruthValue MAX-ACCESS read-onlySTATUS currentDESCRIPTION"This is a capability variable.Its value is determined by device capabilities.Multiband Support ActivatedThis attribute, when true, indicates that the STA is capable of operating in multiple bands.Otherwise, it is false. The default value of this attribute is false."DEFVAL { false }::= {  dot11StationConfigEntry 144 }Change the definitions of    dot11BeaconRprtPhyType,       dot11FrameRprtPhyType,    and   dot11RMNeighborReportPhyType    in C.3 as follows:dot11BeaconRprtPhyType OBJECT-TYPE SYNTAX INTEGER {fhss(1),dsss(2),irbaseband(3),ofdm(4),hrdsss(5),erp(6),ht(7),dmg(8) }UNITS "dot11PHYType"MAX-ACCESS read-only STATUS current DESCRIPTION "This is a status variable.It is written by the SME when a measurement report is completed.This attribute indicates the PHY Type for this row of Beacon Report."::= { dot11BeaconReportEntry 9 }dot11FrameRprtPhyType OBJECT-TYPESYNTAX INTEGER {fhss(1),dsss(2),irbaseband(3)


page 547
519ofdm(4),hrdsss(5),erp(6),ht(7),dmg(8) }UNITS "dot11PHYType"MAX-ACCESS read-createSTATUS currentDESCRIPTION"This is a status variable.It is written by the SME when a measurement report is completed.This attribute indicates the PHY used for frame reception in this row of the frame report."::= { dot11FrameReportEntry 10 }dot11RMNeighborReportPhyType OBJECT-TYPESYNTAX INTEGER {fhss(1),dsss(2),irbaseband(3),ofdm(4),hrdsss(5),erp(6),ht(7),dmg(8) }UNITS "dot11PHYType"MAX-ACCESS read-createSTATUS currentDESCRIPTION"This is a status variable.It is written by the SME when a measurement report is completed.This attribute indicates the PHY Type of the neighbor AP identified by this BSSID."::= { dot11RMNeighborReportEntry 15 }Change the definition of    dot11PhyType    in the    dot11PhyOperation TABLE    in C.3 as follows:dot11PHYType OBJECT-TYPESYNTAX INTEGER { fhss(1), dsss(2), irbaseband(3), ofdm(4),hrdsss(5),erp(6),ht(7),dmg(8) }MAX-ACCESS read-onl


page 548
STATUS currentDESCRIPTION"This is a status variable.It is written by the PHY.This is an 8-bit integer value that identifies the PHY type supported by the attached PLCP and PMD. Currently defined valuesand their corresponding PHY types are:FHSS 2.4 GHz = 01, DSSS 2.4 GHz = 02, IR Baseband = 03,OFDM = 04, HRDSSS = 05, ERP = 06, HT = 07, DMG = 08"::= { dot11PhyOperationEntry 1 }Change the definition of    dot11EDCATableTXOPLimit    in the    SMT EDCA Config TABLE    in C.3 asfollows:dot11EDCATableTXOPLimit OBJECT-TYPESYNTAX Unsigned32 (0..65535)MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the MAC upon receiving an EDCA Parameter Set in a Beacon frame.Changes take effect as soon as practical in the implementation.This attribute specifies the maximum number of microseconds of an EDCA TXOP for a given AC. The default value for this attribute is1) 0 for all PHYs, if dot11EDCATableIndex is 1 or 2; this implies that the sender can send one MSDU in an EDCA TXOP,2) 3008 microseconds for Clause 18, Clause 21, and Clause 19 PHY and 6016 microseconds for Clause 17 PHY, if dot11EDCATableIndex is 3,3) 1504 microseconds for Clause 18, Clause 21, and Clause 19) PHY and 3264 microseconds for Clause 17 PHY, if dot11EDCATableIndex is 4."::= { dot11EDCAEntry 5 }Insert the following table (   dot11DMGSTAConfigTable   ) after the    dot11HTStationConfig TABLE    inC.3:-- *******************************************************************-- * dot11DMGSTAConfigTable TABLE -- *******************************************************************dot11DMGSTAConfigTable OBJECT-TYPE SYNTAX SEQUENCE OF Dot11DMGSTAConfigEntryMAX-ACCESS not-accessible STATUS current DESCRIPTION "This is a table management object


page 549
521 The dot11DMGSTAConfig Table" ::= { dot11smt 27 } dot11DMGSTAConfigEntry OBJECT-TYPESYNTAX Dot11DMGSTAConfigEntry MAX-ACCESS not-accessible STATUS current DESCRIPTION "This is an entry in the dot11DMGSTAConfig Table. ifIndex - Each IEEE 802.11 interface is represented by an ifEntry.  Interface tables in this MIB module are indexed by ifIndex." INDEX { ifIndex }     ::= { dot11DMGSTAConfigTable 1 } Dot11DMGSTAConfigEntry ::= SEQUENCE {dot11DMGOptionImplementedTruthValue,dot11RelayActivatedTruthValue,dot11REDSActivatedTruthValue,dot11RDSActivatedTruthValue,dot11MultipleMACActivatedTruthValue,dot11ClusteringActivatedTruthValue}dot11DMGOptionImplemented OBJECT-TYPESYNTAX TruthValue MAX-ACCESS read-only STATUS currentDESCRIPTION"This is a capability variable.Its value is determined by device capabilities.DMG Capable ObjectThis attribute, when true, indicates the STA is DMGcapable.  This attribute, when false, indicates the STA is notDMG capable.  The default value of this attribute is false."DEFVAL { false }    ::= { dot11DMGSTAConfigEntry 1 }dot11RelayActivated OBJECT-TYPESYNTAX TruthValue MAX-ACCESS read-onlySTATUS currentDESCRIPTION"This is a capability variable.Its value is determined by device capabilities.This attribute, when true, indicates the DMG STA is Relaycapable.  This attribute, when false, indicates the STA is no


page 550
Relay capable.  The default value of this attribute is false."DEFVAL { false }    ::= { dot11DMGSTAConfigEntry 2 }dot11REDSActivated OBJECT-TYPESYNTAX TruthValue MAX-ACCESS read-onlySTATUS currentDESCRIPTION"This is a capability variable.Its value is determined by device capabilities.This attribute, when true, indicates the DMG STA is capableof operating as a REDS. This attribute, when false, indicates the STA is not capable of operating as a REDS."DEFVAL { false }    ::= { dot11DMGSTAConfigEntry 3 }dot11RDSActivated OBJECT-TYPESYNTAX TruthValue MAX-ACCESS read-onlySTATUS currentDESCRIPTION"This is a capability variable.Its value is determined by device capabilities.This attribute, when true, indicates the DMG STA is capableof operating as a RDS. This attribute, when false, indicates the STA is not capable of operating as a RDS."DEFVAL { false }    ::= { dot11DMGSTAConfigEntry 4 }dot11MultipleMACActivated OBJECT-TYPESYNTAX TruthValue MAX-ACCESS read-onlySTATUS currentDESCRIPTION"This is a capability variable.Its value is determined by device capabilities.If dot11MultipleMACActivated is true, the STA is capable of managing more than one MAC address."DEFVAL { false }    ::= { dot11DMGSTAConfigEntry 5 }dot11ClusteringActivated OBJECT-TYPESYNTAX TruthValue MAX-ACCESS read-onlySTATUS currentDESCRIPTIO


page 551
523"This is a capability variable.Its value is determined by device capabilities.If dot11ClusteringActivated is true, the STA is capable of supporting PCP/AP Clustering."DEFVAL { false }    ::= { dot11DMGSTAConfigEntry 6 }-- *******************************************************************-- * End of dot11DMGSTAConfigTable TABLE-- *******************************************************************Insert the following tables (   dot11 Phy DMG TABLE    and    dot11DMGBeamformingConfig TABLE   )after the    dot11 Phy HT TABLE    in C.3:-- *******************************************************************-- * dot11 Phy DMG TABLE-- *******************************************************************dot11PHYDMGTable OBJECT-TYPESYNTAX SEQUENCE OF Dot11PHYDMGEntryMAX-ACCESS not-accessibleSTATUS currentDESCRIPTION"Entry of attributes for dot11PhyDMGTable. Implemented as a table indexed on ifIndex to allow for multiple instances on an Agent."::= { dot11phy 19 }dot11PHYDMGEntry OBJECT-TYPESYNTAX Dot11PHYDMGEntryMAX-ACCESS not-accessibleSTATUS currentDESCRIPTION"An entry in the dot11PHYDMGEntry Table. ifIndex - Each IEEE 802.11 interface is represented by an ifEntry. Interface tables in this MIB module are indexed by ifIndex."INDEX {ifIndex}::= { dot11PHYDMGTable 1 }Dot11PHYDMGEntry ::= SEQUENCE { dot11LowPowerSCPHYImplementedTruthValue,dot11LowPowerSCPHYActivatedTruthValue }dot11LowPowerSCPHYImplemented OBJECT-TYPESYNTAX TruthValueMAX-ACCESS read-onlySTATUS currentDESCRIPTION"This is a capability variable


page 552
Its value is determined by device capabilities.This attribute, when true, indicates that the low power SC PHY is implemented."DEFVAL { false }::= { dot11PHYDMGEntry 1 }dot11LowPowerSCPHYActivated OBJECT-TYPESYNTAX TruthValueMAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by an external management entity.Changes take effect as soon as practical in the implementation.This attribute, when true, indicates that the low power SC PHY is activated."DEFVAL { false }::= { dot11PHYDMGEntry 2 }-- *******************************************************************-- * End of dot11 PHY DMG TABLE-- *******************************************************************-- *******************************************************************-- * dot11DMGBeamformingConfig TABLE -- *******************************************************************dot11DMGBeamformingConfigTable OBJECT-TYPE SYNTAX SEQUENCE OF Dot11DMGBeamformingConfigEntryMAX-ACCESS not-accessible STATUS current DESCRIPTION "This is a Table management object. The dot11DMGBeamformingConfig Table" ::= { dot11phy 22 } dot11DMGBeamformingConfigEntry OBJECT-TYPESYNTAX Dot11DMGBeamformingConfigEntry MAX-ACCESS not-accessible STATUS current DESCRIPTION "This is an entry in the dot11DMGBeamformingConfig Table. ifIndex - Each IEEE 802.11 interface is represented by an ifEntry.  Interface tables in this MIB module are indexed by ifIndex." INDEX { ifIndex }     ::= { dot11DMGBeamformingConfigTable 1 


page 553
525Dot11DMGBeamformingConfigEntry ::= SEQUENCE {dot11MaxBFTimeUnsigned32,dot11BFTXSSTimeUnsigned32,dot11MaximalSectorScanUnsigned32,dot11ABFTRTXSSSwitchUnsigned32,dot11RSSRetryLimitUnsigned32,dot11RSSBackoffUnsigned32,dot11BFRetryLimitUnsigned32,dot11BeamLinkMaintenanceTimeUnsigned32,dot11AntennaSwitchingTimeUnsigned32,dot11ChanMeasFBCKNtapsUnsigned32}dot11MaxBFTime OBJECT-TYPESYNTAX Unsigned32 (1..16) UNITS "Beacon Interval" MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Maximum Beamforming Time (in units of beacon interval)."DEFVAL { 4 }    ::= { dot11DMGBeamformingConfigEntry 1 }dot11BFTXSSTime OBJECT-TYPESYNTAX Unsigned32 (1..256)UNITS "milliseconds"MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Timeout until the initiator restarts ISS (in Milliseconds)."DEFVAL { 100 }    ::= { dot11DMGBeamformingConfigEntry 2 }dot11MaximalSectorScan OBJECT-TYPESYNTAX Unsigned32 (1..32) UNITS "Beacon Interval" MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity


page 554
Changes take effect as soon as practical in the implementation.Maximal Sector Scan (in units of beacon interval)."DEFVAL { 8 }    ::= { dot11DMGBeamformingConfigEntry 3 }dot11ABFTRTXSSSwitch OBJECT-TYPESYNTAX Unsigned32 (1..32) MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.A-BFT Transmit Sector Sweep Switch (in units of beacon interval)."DEFVAL { 4 }    ::= { dot11DMGBeamformingConfigEntry 4 }dot11RSSRetryLimit OBJECT-TYPESYNTAX Unsigned32 (1..32) MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Responder Sector Sweep Retry Limit"DEFVAL { 8 }    ::= { dot11DMGBeamformingConfigEntry 5 }dot11RSSBackoff OBJECT-TYPESYNTAX Unsigned32 (1..32) MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Responder Sector Sweep Backoff"DEFVAL { 8 }    ::= { dot11DMGBeamformingConfigEntry 6 }dot11BFRetryLimit OBJECT-TYPESYNTAX Unsigned32 (1..32) MAX-ACCESS read-writeSTATUS currentDESCRIPTIO


page 555
527"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Beamforming Retry Limit"DEFVAL { 8 }    ::= { dot11DMGBeamformingConfigEntry 7 }dot11BeamLinkMaintenanceTime OBJECT-TYPESYNTAX Unsigned32 (0..64000000)UNITS "microseconds"MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the MAC or SME.Changes take effect as soon as practical in the implementation.Beam Link Maintenance Timedot11BeamLinkMaintenanceTime = BeamLink_Maintenance_Unit * BeamLink_Maintenance_Value. Otherwise, the dot11BeamLinkMaintenanceTime is left undefined. An undefined value of the dot11BeamLinkMaintenanceTime indicates that the STA does not participate in beamformed link maintenance."DEFVAL { 0 }    ::= { dot11DMGBeamformingConfigEntry 8 }dot11AntennaSwitchingTime OBJECT-TYPESYNTAX Unsigned32 (0..64000000)UNITS "microseconds"MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable. It is written by the MAC or SME.Changes take effect as soon as practical in the implementation."DEFVAL { 0 }::= { dot11DMGBeamformingConfigEntry 9 }dot11ChanMeasFBCKNtaps OBJECT-TYPESYNTAX Unsigned32 (0..64000000)MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable. It is written by the MAC or SME.Changes take effect as soon as practical in the implementation.Number of channel measurement taps."DEFVAL { 0 }::= { dot11DMGBeamformingConfigEntry 10 


page 556
-- *******************************************************************-- * End of dot11DMGBeamformingConfig TABLE-- *******************************************************************Insert the following tables (   dot11DMGOperation TABLE    and    dot11DMGCounters TABLE   ) after the   dot11ResourceInfo TABLE    in C.3, i:-- *******************************************************************-- * dot11DMGOperation TABLE -- *******************************************************************dot11DMGOperationTable OBJECT-TYPE SYNTAX SEQUENCE OF Dot11DMGOperationEntryMAX-ACCESS not-accessible STATUS current DESCRIPTION "This is a Table management object. The dot11DMGOperation Table" ::= { dot11mac 8 } dot11DMGOperationEntry OBJECT-TYPESYNTAX Dot11DMGOperationEntry MAX-ACCESS not-accessible STATUS current DESCRIPTION "This is an entry in the dot11DMGBeamformingConfig Table. ifIndex - Each IEEE 802.11 interface is represented by an ifEntry.  Interface tables in this MIB module are indexed by ifIndex." INDEX { ifIndex }     ::= { dot11DMGOperationTable 1 } Dot11DMGOperationEntry ::= SEQUENCE {dot11MaxLostBeaconsUnsigned32,dot11MinBHIDurationUnsigned32,dot11PSRequestSuspensionIntervalUnsigned32,dot11AssocRespConfirmTimeUnsigned32,dot11BroadcastSTAInfoDurationUnsigned32,dot11NbrOfChangeBeaconsUnsigned32,dot11ImplicitHandoverLostBeaconsUnsigned32,dot11MinPPDurationUnsigned32,dot11SPIdleTimeoutUnsigned32,dot11QABTimeoutUnsigned32,dot11ClusterEnableTimeUnsigned32,dot11PNWarningThresholdUnsigned32,dot11BeaconSPDurationUnsigned32,dot11PNExhaustionThresholdUnsigned32,dot11MaxNumberOfClusteringMonitoringPeriodsUnsigned32,dot11DMGEcssPolicyDetailUpdateDurationMaxUnsigned32


page 557
529dot11DMGEcssClusterReportDurationMinUnsigned32,dot11DMGProbeDelayUnsigned32}dot11MaxLostBeacons OBJECT-TYPESYNTAX Unsigned32 (1..32) MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Maximum Number of Lost Beacons"DEFVAL { 4 }    ::= { dot11DMGOperationEntry 1 }dot11MinBHIDuration OBJECT-TYPESYNTAX Unsigned32 (1..100000) UNITS "microseconds"MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Minimum Beacon Header Interval duration (in microseconds)"DEFVAL { 5000 }    ::= { dot11DMGOperationEntry 2 }dot11PSRequestSuspensionInterval OBJECT-TYPESYNTAX Unsigned32 (1..64) MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.PS Request Suspension Interval (in units of beacon interval)"DEFVAL { 8 }    ::= { dot11DMGOperationEntry 3 }dot11AssocRespConfirmTime OBJECT-TYPESYNTAX Unsigned32 (1..8000) UNITS "milliseconds"MAX-ACCESS read-writeSTATUS currentDESCRIPTIO


page 558
"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Association Response Confirmation Time (in Milliseconds)."DEFVAL { 1000 }    ::= { dot11DMGOperationEntry 4 }dot11BroadcastSTAInfoDuration OBJECT-TYPESYNTAX Unsigned32 (1..512) MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Broadcast STA Information Duration (in units of beacon interval)."DEFVAL { 32 }    ::= { dot11DMGOperationEntry 5 }dot11NbrOfChangeBeacons OBJECT-TYPESYNTAX Unsigned32 (1..32) MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Number of Change Beacons (in units of beacon interval)."DEFVAL { 4 }    ::= { dot11DMGOperationEntry 6 }dot11ImplicitHandoverLostBeacons OBJECT-TYPESYNTAX Unsigned32 (1..32) MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Implicit Handover Lost Beacons (in units of beacon interval)."DEFVAL { 8 }    ::= { dot11DMGOperationEntry 7 }dot11MinPPDuration OBJECT-TYPESYNTAX Unsigned32 (1..100000)UNITS "microseconds


page 559
531MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.The MinPPDuration subfield indicates the minimum duration of the PP and GP as part of the dynamic allocation of service period mechanism (in microseconds)."DEFVAL { 200 }    ::= { dot11DMGOperationEntry 8 }dot11SPIdleTimeout OBJECT-TYPESYNTAX Unsigned32 (1..100000) UNITS "microseconds"MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.The SPIdleTimeout subfield indicates time during which a STA expects to receive a frame from its partner STA (in microseconds)."DEFVAL { 200 }    ::= { dot11DMGOperationEntry 9 }dot11QABTimeout OBJECT-TYPESYNTAX Unsigned32 (1..64000)UNITS "milliseconds"MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Quiet Adjacent BSS Operation Timeout (in milliseconds)"DEFVAL { 1000 }    ::= { dot11DMGOperationEntry 10 }dot11ClusterEnableTime OBJECT-TYPESYNTAX Unsigned32 (1..32)MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity


page 560
Changes take effect as soon as practical in the implementation.Frequency with which a non-PCP/non-AP is allowed to retransmit a cluster request element to its PCP/AP (in units of beacon interval)."DEFVAL { 8 }    ::= { dot11DMGOperationEntry 11 }dot11PNWarningThreshold OBJECT-TYPESYNTAX Unsigned32 (1..4294967295)MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Threshold used for generating a warning to the MLME about a potential PN exhaustion (in units of packet number)."DEFVAL { 4294967295 }    ::= { dot11DMGOperationEntry 12 }dot11BeaconSPDuration OBJECT-TYPESYNTAX Unsigned32 (1..100000)UNITS "microseconds"MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.The size of a Beacon SP used for PCP/AP clustering (in microseconds)."DEFVAL { 600 }    ::= { dot11DMGOperationEntry 13 }dot11PNExhaustionThreshold OBJECT-TYPESYNTAX Unsigned32 (1..4294967295)MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Threshold used for indicating an imminent PN exhaustion (in units of packet number)."DEFVAL { 4294967295 }    ::= { dot11DMGOperationEntry 14 


page 561
533dot11MaxNumberOfClusteringMonitoringPeriods OBJECT-TYPESYNTAX Unsigned32 (1..16)MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Number of clustering monitoring periods until determination of the loss of an S-PCP/S-AP."DEFVAL { 3 }    ::= { dot11DMGOperationEntry 15 }dot11DMGEcssPolicyDetailUpdateDurationMax OBJECT-TYPESYNTAX Unsigned32 (10..30000)MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Maximum duration in units of TU between attempts by a member PCP/AP in a centralized PCP/AP cluster to receive a DMG Beacon frame from the S-AP of the centralized PCP/AP cluster"DEFVAL { 1000 }::= { dot11DMGOperationEntry 16 }dot11DMGEcssClusterReportDurationMin OBJECT-TYPESYNTAX Unsigned32 (100..36000000)MAX-ACCESS read-writeSTATUS currentDESCRIPTION"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Minimum duration in units of TU between the transmission of interference reports by a member PCP/AP in a centralized PCP/AP cluster to the S-AP of the centralized PCP/AP cluster"DEFVAL { 1000 }::= { dot11DMGOperationEntry 17 }dot11DMGProbeDelay OBJECT-TYPESYNTAX Unsigned32 (0..10000)MAX-ACCESS read-writeSTATUS currentDESCRIPTIO


page 562
"This is a control variable.It is written by the SME or an external management entity.Changes take effect as soon as practical in the implementation.Delay, in microseconds, to be used by a DMG STA prior to transmitting a Probe frame."DEFVAL { 0 }::= { dot11DMGOperationEntry 18 }-- *******************************************************************-- * End of dot11DMGOperation TABLE-- *******************************************************************-- *******************************************************************-- * dot11DMGCounters TABLE -- *******************************************************************dot11DMGCountersTable OBJECT-TYPE SYNTAX SEQUENCE OF Dot11DMGCountersEntryMAX-ACCESS not-accessible STATUS current DESCRIPTION         "This is a Table management object.        The dot11DMGCountersTable Table" ::= { dot11mac 9 } dot11DMGCountersEntry OBJECT-TYPESYNTAX Dot11DMGCountersEntry MAX-ACCESS not-accessible STATUS current DESCRIPTION "This is an entry in the dot11DMGCountersTable Table. ifIndex - Each IEEE 802.11 interface is represented by an ifEntry.  Interface tables in this MIB module are indexed by ifIndex." INDEX { ifIndex }     ::= { dot11DMGCountersTable 1 } Dot11DMGCountersEntry ::= SEQUENCE {dot11RSNAStatsGCMPReplaysUnsigned32,dot11RSNAStatsRobustMgmtGCMPReplaysUnsigned32}dot11RSNAStatsGCMPReplays OBJECT-TYPESYNTAX Unsigned32 (0..4294967295)MAX-ACCESS read-onlySTATUS currentDESCRIPTION"This is a status variable


page 563
535It is written by the SME or an external management entity.Counter for the number of times an MPDU of type Data is discarded due to PN violation."DEFVAL { 0 }    ::= { dot11DMGCountersEntry 1 }dot11RSNAStatsRobustMgmtGCMPReplays OBJECT-TYPESYNTAX Unsigned32 (0..4294967295)MAX-ACCESS read-onlySTATUS currentDESCRIPTION"This is a status variable.It is written by the SME or an external management entity.Counter for the number of times an MPDU of type Management is discarded due to PN violation."DEFVAL { 0 }    ::= { dot11DMGCountersEntry 2 }-- *******************************************************************-- * End of dot11DMGCounters TABLE-- *******************************************************************Insert the following groups (   dot11DMGComplianceGroup,      dot11DMGOperationsComplianceGroup,       dot11DMGBeamformingComplianceGroup,    and   dot11DMGCountersComplianceGroup   ) into the    Groups - units of conformance    section after   dot11PasswordAuthComplianceGroup    (dot11Groups 62) in C.3: dot11DMGComplianceGroup OBJECT-GROUPOBJECTS {dot11MultibandImplemented, dot11DMGOptionImplemented, dot11RelayActivated, dot11REDSActivated, dot11RDSActivated,dot11RSNAProtectedManagementFramesActivated,dot11MultipleMACActivated,dot11ClusteringActivated,dot11LowPowerSCPHYImplemented,dot11LowPowerSCPHYActivated}STATUS currentDESCRIPTION"Attributes that configure the DMG Group for IEEE 802.11."::= { dot11Groups 64 }dot11DMGOperationsComplianceGroup OBJECT-GROUPOBJECTS {dot11MaxLostBeacons, dot11MinBHIDuration,dot11PSRequestSuspensionInterval, dot11AssocRespConfirmTime,dot11BroadcastSTAInfoDuration, dot11NbrOfChangeBeacons,dot11ImplicitHandoverLostBeacons, dot11MinPPDuration,dot11SPIdleTimeout, dot11QABTimeout, dot11ClusterEnableTime


page 564
dot11PNWarningThreshold, dot11BeaconSPDuration,dot11PNExhaustionThreshold,dot11MaxNumberOfClusteringMonitoringPeriods,dot11DMGEcssPolicyDetailUpdateDurationMax,dot11DMGEcssClusterReportDurationMin,dot11DMGProbeDelay}STATUS currentDESCRIPTION"Attributes that configure the DMG Operation for IEEE 802.11."::= { dot11Groups 65 }dot11DMGBeamformingComplianceGroup OBJECT-GROUPOBJECTS {dot11MaxBFTime, dot11BFTXSSTime, dot11MaximalSectorScan,dot11ABFTRTXSSSwitch, dot11RSSRetryLimit, dot11RSSBackoff,dot11BFRetryLimit, dot11BFTXSSTime, dot11BeamLinkMaintenanceTime}STATUS currentDESCRIPTION"Attributes that configure the DMG Beamforming functionality for IEEE 802.11."::= { dot11Groups 66 }dot11DMGCountersComplianceGroup OBJECT-GROUPOBJECTS {dot11RSNAStatsGCMPReplays,dot11RSNAStatsRobustMgmtGCMPReplays}STATUS currentDESCRIPTION"Attributes that are used as counters for a DMG capable Stationfor IEEE 802.11."::= { dot11Groups 67 }Insert the following groups after    GROUP dot11TransmitBeamformingGroup    in the   dot11Compliance    module of the    Compliance Statements    section of C.3:GROUP dot11DMGComplianceGroupDESCRIPTION"Implementation of this group is required when the objectdot11PHYType has the value of DMG.This group is mutually exclusive to the following groups:dot11PhyIRComplianceGroupdot11PhyFHSSComplianceGroup2dot11PhyDSSSComplianceGroupdot11PhyOFDMComplianceGroup3dot11PhyHRDSSSComplianceGroupdot11PhyERPComplianceGroupdot11PhyHTComplianceGroup


page 565
537GROUP dot11DMGOperationsComplianceGroupDESCRIPTION"DMG Operations Compliance Group"GROUP dot11DMGBeamformingComplianceGroupDESCRIPTION"DMG Beamforming Compliance Group"GROUP dot11DMGCountersComplianceGroupDESCRIPTION"DMG Counters Compliance Group."In the    dot11Compliance    module of the    Compliance Statements    section of C.3, insert the followingtext: dot11DMGComplianceGroup as the last line for the description of mutually exclusive groups for the following groups: dot11PhyDSSSComplianceGroupdot11PhyIRComplianceGroupdot11PhyFHSSComplianceGroup2dot11PhyOFDMComplianceGroup3dot11PhyHRDSSSComplianceGroupdot11PhyERPComplianceGroupdot11PhyHTComplianceGroupInsert the following compliance statement (   Compliance Statements    DMG   ) after the    ComplianceStatements    AVS    section in C.3:-- *******************************************************************-- * Compliance Statements - DMG-- *******************************************************************dot11DMGCompliance MODULE-COMPLIANCESTATUS currentDESCRIPTION"The compliance statement for SNMPv2 entities that implement the IEEE 802.11 MIB for DMG operation."MODULE -- this moduleMANDATORY-GROUPS {dot11DMGComplianceGroup, dot11DMGOperationsComplianceGroup, dot11DMGBeamformingComplianceGroup,dot11DMGCountersComplianceGroup }::= { dot11Compliances 9 }-- *******************************************************************-- * End of 802.11 MIB-- ******************************************************************


page 566
EN


page 567
539Annex E(normative) Country elements and operating classesE.1 Country information and operating classesInsert the following row in numeric order into Table E-1, and update the last Reserved row accordingly:Insert the following row in numeric order into Table E-2, and update the Reserved row accordingly:Insert the following row in numeric order into Table E-3, and update the Reserved row accordingly:Table E-1  Operating classes in the United StatesOperating classGlobal operating class (see Table E-4)Channel starting frequency (GHz)Channel spacing (MHz)Channel setBehavior limits set3418056.1621601, 2, 3  Table E-2  Operating classes in EuropeOperating classGlobal operating class (see Table E-4)Channel starting frequency (GHz)Channel spacing (MHz)Channel setBehavior limits set1818056.1621601, 2, 3, 4  Table E-3  Operating classes in JapanOperating classGlobal operating class (see Table E-4)Channel starting frequency (GHz)Channel spacing (MHz)Channel setBehavior limits set5918056.1621601, 2, 3, 4 


page 568
Change Table E-4 as follows (note that the entire table is not shown here):Table E-4  Global operating classesOperating classNonglobal operating class(es)Channel starting frequency (GHz)Channel spacing (MHz)Channel setBehavior limits set128  179191  ReservedReservedReservedReserved180E-1-34, E-2-18, E-3-5956.1621601, 2, 3, 4  181  191  ReservedReservedReservedReserve


page 569
541Annex H(normative) Usage of Ethertype 89-0dChange Table H-1 as follows:Table H-1  Payload Type field valuesProtocol namePayload typeSubclauseRemote Request/Response112.10.3TDLS210.22.2FST310.32.5Reserved34  25


page 570



page 571
543Annex L(informative) Change the annex title as follows:Examples of encoding a frame for OFDM PHYs and DMG PHYsInsert the following subclauses, L.4 to L.8.4.6 (including Figure L-1 to Figure L-17 and Table L-43 toTable L-46), after L.3.6:L.4 DMG example data vectorsSubclauses L.5 to L.8 contain example data vectors for the DMG PHY (see Clause 21). All of the exampledata text files referenced by these subclauses are contained in a single ZIP file,DMGEncodingExamples.zip, that is embedded in document 11-12/0751r0 (see https://mentor.ieee.org/802.11/dcn/12/11-12-0751-00-00ad-dmg-encoding-examples.docx).For each described node there is a cross-reference in this annex that is of the formReference: <filename.txt>where the named text file is one of the files in the ZIP file embedded in 11-12/0751r0.Depending on the node being illustrated, the text file may represent bit data, symbol data, or sample data:  For bit data, the text file contains a time ordered sequence of 1 and 0 characters, separated by spacesand without any carriage control characters.  For symbol data, the text file contains a time ordered sequence of signed integers, separated byspaces and without any carriage control characters.  For sample data, the text file contains a time ordered sequence of complex values, formatted as  <real>  <imag>j, separated by spaces and without any carriage control characters.When referencing specific bits, symbols, or samples in the files, they are considered to be numbered startingfrom 1.This formatting of the text files has been chosen to facilitate import into other tools. For example, the filescan be read using the MATLAB dlmread('filename') command.For CPHY, SC PHY and low-power (LP) SC PHY modulation samples, no spectrum shaping has beenapplied to the data because the implementation of spectrum shaping is not defined in this standard. ForOFDM PHY modulation samples, no symbol shaping has been applied to the data because theimplementation of OFDM symbol shaping is not defined in this standard


page 572
L.5 DMG Example 1    CPHY encodingL.5.1 CPHY preambleThe CPHY preamble Short Training Field (STF) and Channel Equalization Field (CEF) are each constructedfrom a concatenation of real valued bipolar Golay sequences that is /2-BPSK modulated.The CPHY preamble is 7552 samples long.Reference: CPHY_Preamble Samples.txtGb128Gb128Gb128-Gb128-Ga128Gv128Short Training Field (STF)48 x Gb128 + 1 x -Gb128 + 1 x -Ga128= 6400 TcChannel Equalization Field (CEF)  1152 Tc/2 rotation(symbols already bipolar)Gu512Gv512-Gb128-Ga128Gb128-Ga128-Gb128Ga128-Gb128-Ga128-Gb128Gb128Gb1287552 /2-BPSK symbolsFigure L-1  CPHY preamble expressed in Ga128 and Gb128 sequence


page 573
545L.5.2 CPHY headerL.5.2.1 CPHY header and payload bitsFigureL-2 node . The 5 octets of header data followed by the payload data. The first 6 octets of the datapayload are used to complete the construction of the single LDPC codeword of the CPHY header. For thisexample, the CPHY header bit fields are set as listed in TableL-43.Figure L-2  CPHY header coding and modulationHeaderPreamblePayloadparitydatadataparitydataPad zeros to 504 bits   Rate LDPCStrip zeros410 bits5 bits16 bitsScrambler InitializationPacket typeLength12Training LengthReserved bitsHCSdata payloadLHDR= 5 octets (40 bits)LFDCW = 6 octets (48 bits)LDPFCW=(5 + 6) x 8 = 88 bitsscrambled headerinitscrambled data payloadscrambler32x spreadingwith Ga32and /2 rotationTurnaround1Reserved (diff detector init)10256 Diff encoded bitsDifferential encoder8192 /2-DBPSK symbols2134


page 574
The data payload octets are provided by a count, modulo 256, starting at 0. The resulting header and payloadsequence is 1000 bits long, of which the first 88 bits are encoded in the header modulation block. For thisexample, with a payload of 120 octets, LDPFCW = 88, LDPCW = 152 and LDPLCW = 152.These numbers illustrate that the payload is not simply packed 168 bits at a time into the LDPC encoding,with the last few bits (modulo 168) in the last packet getting disproportionate coding gain. The specifiedcalculation ensures that the excess coding gain is spread evenly across all the packets, so the number ofpayload bits in each packet varies between approximately 120 and the maximum 168.Reference: Bits 1 to 88 of the file CPHY_Header and Payload bits.txtL.5.2.2 CPHY scrambled header and payload bitsFigureL-2 node . The 5 header plus 6 data = 11 octets after scrambling.Reference: Bits 1 to 88 of the file CPHY_Scrambled Header and Payload bits.txtL.5.2.3 CPHY LDPC encoded header bitsFigureL-2 node . In this example there are 7 LDPC codewords, the first (after zero stripping) produces 88+ 168 = 256 bits, the remaining 6 each produce 152 + 168 = 320 bits, so there is a total of 256 + 6 x 320 =2176 bits after LDPC encoding, of which the first 256 bits correspond to the LDPC encoded header.Reference: Bits 1 to 256 of the file CPHY_LDPC Encoded Header and Payload bits.txtL.5.2.4 CPHY differentially encoded header symbolsFigureL-2 node . The 256 LDPC encoded header bits are differentially encoded.Reference: Symbols 1 to 256 of the file CPHY_Diff Encoded Header and Payload symbols.txtL.5.2.5 CPHY header samplesFigureL-2 node . The 256 differentially encoded bipolar symbol values are spread using the Ga32 Golaysequence, then /2 rotated to produce 8192 chips at Fc = 1760 MHz.Reference: Samples 1 to 8192 of the file CPHY_Header and Payload samples.txtTable L-43  CPHY header settingsFieldValueScrambler Initialization2Length120Packet Type0Training Length0Turnaround0Reserved bits


page 575
547L.5.3 CPHY payloadL.5.3.1 CPHY payload bitsFigureL-3 node .Reference: Bits 89 to 1000 of the file CPHY_Header and Payload bits.txtL.5.3.2 CPHY scrambled payload bitsFigureL-3 node .Reference: Bits 89 to 1000 of the file CPHY_Scrambled Header and Payload bits.txtL.5.3.3 CPHY LDPC encoded payload bitsFigureL-3 node .Reference: Bits 257 to 2176 of the file CPHY_LDPC Encoded Header and Payload bits.txtL.5.3.4 CPHY differentially encoded payload symbolsFigureL-3 node .Reference: Symbols 257 to 2176 of the file CPHY_Diff Encoded Header and Data symbols.txtdataparitydatapayloadLDPCW= ~120...168 bitsLDPLCW= ~120...168 bitsPad zeros to 504 bits   Rate LDPCStrip zeros                    PayloaddataparitydataPad zeros to 504 bits   Rate LDPCStrip zerosparitydataparitydatascramblermiddle packets scrambled data payloadlast packet scrambled data payloadscrambler32x spreading with Ga32and /2 rotationDiff encoded bitsDifferential encoder32x spreading with Ga32and /2 rotationDiff encoded bitsDifferential encoderHeader12453Figure L-3  CPHY payload coding and modulatio


page 576
L.5.3.5 CPHY payload samplesFigureL-3 node .In this example, the 320 differentially encoded bipolar symbol values from each of the 6 payload bearingLDPC codewords, including the last one, gives a total of 6 x 320 = 1920 symbols which are then spreadusing the Ga32 Golay sequence and /2 rotated to produce 61440 chips at Fc = 1.76 GHz.  Reference: Samples 8193 to 69632 of the file CPHY_Header and Payload samples.txtL.6 DMG Example 2    SC PHY encodingL.6.1 sC PHY PreambleThe SCPHY preamble Short Training Field (STF) and Channel Equalization Field (CEF) are eachconstructed from a concatenation of real valued bipolar Golay sequences that is /2-BPSK modulated.The preamble is 3328 samples long.Reference: SCPHY_Preamble Samples.txtGa128-Ga128Gv128Short Training Field (STF)16 x Ga128+ 1 x -Ga128= 2176 Tc Channel Equalization Field (CEF)  1152 Tc/2 rotation(symbols already bipolar)Gu512Gv512-Gb128-Ga128Gb128-Ga128-Gb128Ga128-Gb128-Ga128-Gb1283328 /2-BPSK symbolsGa128Ga128Ga128Ga128Ga128Figure L-4  SC PHY preamble expressed in Ga128 and Gb128 sequence


page 577
549L.6.2 SC PHY headerL.6.2.1 SC PHY header bitsFigureL-5 node . The 8 octets of header data. For this example, the SC PHY header bit fields are set aslisted in TableL-44.Reference: SCPHY_MCS2_Header bits.txtFigure L-5  SC PHY header coding and modulationTurnaroundLast RSSIBeam Tracking RequestHeaderparityPreamble448 bits7 bits18 bits5 bits16 bitsScrambler InitializationPacket typeLength11Training LengthHCS5 bitsMCSAdditional PPDU11Aggregation4 bitsReservedscrambled headerscrambler64 bits504   64 = 440 padding zeros64 bits504   64 = 440 padding zeros   LDPCscram. init.64 bitsparity64 bitsparityXOR with PN Sequencecs2cs1No change448 x BPSK mapped symbolsBPSK mapping448 x /2-BPSK symbolsGI448 x /2-BPSK symbolsx -1GIGI448 x BPSK symbolsGI/2 rotationGuard interval is always BPSK4 bits1Payload12356448 x BPSK symbols


page 578
L.6.2.2 SC PHY scrambled header bitsFigureL-5 node . The header bits after scrambling bits 8 to 64 of the header using the seed 66 (0x42).Reference: SCPHY_MCS2_Scrambled Header bits.txtL.6.2.3 SC PHY LDPC encoded header bitsFigureL-5 node . The scrambled header data after LDPC encoding but prior to zero stripping.Reference: SCPHY_MCS2_LDPC Encoded Header bits.txtL.6.2.4 SC PHY LDPC data shortened bitsFigureL-5 node . The dimension of SCPHY modulation blocks requires that the CS1 and CS2 sequencesare each 224 bits long; this in turn requires that, in addition to the zeros, some of the parity bits are discardedin order to shorten the LDPC codewords to 224 bits.The data for the second shortened LDPC codeword is given as they are before they are scrambled to provideCS2.Reference: SCPHY_MCS2_Shortened LDPC for CS1 bits.txtReference: SCPHY_MCS2_Shortened LDPC for CS2 bits.txtL.6.2.5 SC PHY CS1/CS2 sequence bitsFigureL-5 node . The 448 bit concatenated CS1/CS2 sequence including the PN scrambling of CS2.Reference: SCPHY_MCS2_Final CS1 CS2 Sequence bits.txtTable L-44  SC PHY header settingsFieldValueScrambler Initialization66MCS2Length1000Additional PPDU0Packet Type0Training Length0Aggregation0Beam Tracking Request0Last RSSI0Turnaround0Reserved bits


page 579
551L.6.2.6 SC PHY header samplesFigureL-5 node . The fully modulated signal after BPSK mapping, duplication (with negation), GuardInterval addition and /2 rotation are applied.The 448 header bits are BPSK mapped to 448 modulation symbols and increased to 512 symbols by theaddition of a 64 symbol Guard Interval.  A second, negated, copy of the 448 modulation symbols is alsoincreased to 512 symbols by the addition of a 64 symbol Guard Interval.  The two 512 symbol blocks areconcatenated and /2 rotated to create 1024 samples. Reference: SCPHY_MCS2_Header Samples.tx


page 580
L.6.3 SC PHY payloadPPDU Data (PSDU)DataGIscrambled data (scrambler state continues from header)scramblerNDATA_PADzerosLCW= 672 bits672 bits672 bitsNCWx LCWbitsNBLK_PADzerosLCWDparityLCWDparityLCWDparityLCWDparityLCWDparityscramblerscrambled zeros (scrambler state continues from payload)No change448 modulation symbolsBPSK mappingNCBPBbitsGI448 modulated symbols448 modulated symbolsBPSK mappingGI448 modulated symbols448 modulated symbolsBPSK mappingGI448 modulated symbols448 modulated symbolsBPSK mappingGI448 modulated symbols448 modulated symbolsBPSK mappingGI448 modulated symbolsGI/2 rotation/2 rotationGIGI/2 rotationGIGIGI/2 rotation/2 rotationLZ data(1/2) LDPCparity672 bitsLZ chunkof scrambleddataLZ zerosLZ dataLZ zerosDiscardedPN patternparityLZ dataLZ scrambled1224CWCWCWZLLLLR=For MCS1 only = 2, R = 1/2LZ data(1/2) LDPCparity672 bitsLZ chunkof scrambleddataLZ zerosLZ dataLZ zerosDiscardedPN patternparityLZ dataLZ scrambledLZ data(1/2) LDPCparity672 bitsLZ chunkof scrambleddataLZ zerosLZ dataLZ zerosDiscardedPN patternparityLZ dataLZ scrambledm = NCWm = 2m = 151234Figure L-6  SC PHY MCS1 payload coding and modulatio


page 581
553L.6.3.1 SC PHY MCS1 payloadL.6.3.1.1 Payload bitsFigureL-6 node . The payload at node  is a count, modulo 256, starting at 0.For MCS1 each rate 1/2 LDPC codeword encodes 168 bits (with  repetition) so the payload paddingcalculation gives NCW = 48 and NDATA_PAD = 64.There are 1000    8 = 8000 payload bits plus 64 padding bits giving a total of 8064 bits.Reference: SCPHY_MCS1_Payload bits.txtL.6.3.1.2 Scrambled payload bitsFigureL-6 node . All 8064 bits are scrambled according to a scrambler initialization value of 66. Reference: SCPHY_MCS1_Scrambled Payload bits.txtPPDU Data (PSDU)DataGIscrambled data (scrambler state continues from header)scramblerNDATA_PADzerosLCW= 672 bits672 bits672 bitsNCWx LCWbitsNBLK_PADzerosLCWDparityLCWDparityLCWDparityLCWDparityLCWDparityscramblerscrambled zeros (scrambler state continues from payload)448 modulation symbolsNCBPBbitsGI448 modulated symbols448 modulated symbolsGI448 modulated symbols448 modulated symbolsGI448 modulated symbols448 modulated symbolsGI448 modulated symbols448 modulated symbolsGI448 modulated symbolsGI/2 rotation/2 rotationGIGI/2 rotationGIGIGI/2 rotation/2 rotationLCWD= (R) x LCW(R) LDPCparityLCWDLCWD-sized chunkm = 1LCWD= (R) x LCW(R) LDPCparityLCWDLCWD-sized chunkm = 2LCWD= (R) x LCW(R) LDPCparityLCWDLCWD-sized chunkm = NCWBPSK, QPSKor QAM16mappingBPSK, QPSKor QAM16mappingBPSK, QPSKor QAM16mappingBPSK, QPSKor QAM16mappingBPSK, QPSKor QAM16mapping1CWCWCWDCWLLLRRLR== 1, R = set by MCSNo change1234Figure L-7  SC PHY MCS2  MCS12 payload coding and modulation2


page 582
L.6.3.1.3 1/2-rate LDPC encoded bits before scrambled duplicationFigureL-6 node . The rate 1/2 LDPC encoding of each block of  scrambled payload bits plus padding zero bits.  In this example, the 8064 actual payload bits are doubled, by repetition, to aneffective payload of 16128 bits, then doubled again to 32256 bits by LDPC encoding.This node, unique to MCS1, is the raw LDPC encoded payload bits before scrambled duplication.Reference: SCPHY_MCS1_LDPC Encoder Output bits.txtL.6.3.1.4 1/2-rate LDPC encoded bits after scrambled duplicationFigureL-6 node . The LDPC codewords after the  zeros have been replaced by the  re-scrambled data octets. The data at this node also includes the appended NBLK_PAD scrambled zeros;however, in this example, NBLK_PAD = 0, so there are still 32256 bits.Each 448 bits in the reference file is the NCBPB = 448 bits required to build a modulation block of the MCS1payload. Reference: SCPHY_MCS1_LDPC Encoded Payload Bits.txtL.6.3.1.5 Payload samplesFigureL-6 node . The modulated signal after BPSK Mapping, Guard Interval addition and /2 rotationhas been applied.In this example, the 32256 encoded bits are divided into 72    448 bit blocks. BPSK mapping converts this to72    448 modulation symbols which the Guard Interval increases to 72    512 modulation symbols.  Whenthe closing 64-symbol Guard Interval is added, it results in a total of 72    512 + 64 = 36928 payloadsamples. Reference: SCPHY_MCS1_Payload Samples.txtL.6.3.2 SC PHY MCS5 payloadL.6.3.2.1 Payload bitsFigureL-7 node . The payload at node  is a count, modulo 256, starting at 0.For MCS5 each rate 13/16 LDPC codeword encodes 546 bits so the payload padding calculation gives NCW= 15 and NDATA_PAD = 190.There are 1000    8 = 8000 payload bits plus 190 padding bits giving a total of 8190 bits.Reference: SCPHY_MCS5_Payload bits.txtL.6.3.2.2 Scrambled payload bitsFigureL-7 node . All 8190 bits are scrambled according to a scrambler initialization value of 66. Reference: SCPHY_MCS5_Scrambled Payload bits.txt168ZL=168ZL=168ZL=168ZL


page 583
555L.6.3.2.3 13/16-rate LDPC encoded payload bitsFigureL-6 node . The rate 13/16 LDPC encoding of each block of  scrambled payload bits. Inthis example, the 8190 payload bits are increased to 10080 bits by the LDPC encoding. The data at this node also includes the appended NBLK_PAD scrambled zeros. In this example, NBLK_PAD =224, so there are still a total of 10080 + 224 = 10304 bits.Reference: SCPHY_MCS5_LDPC Encoded Payload Bits.txtL.6.3.2.4 Payload samples FigureL-7 node . The modulated signal after BPSK Mapping, Guard Interval addition and /2 rotationhas been applied.In this example, the 10304 encoded bits are divided into 23    448 bit blocks. BPSK mapping converts this to23    448 modulation symbols which the Guard Interval increases to 23    512 modulation symbols. Whenthe closing 64-symbol Guard Interval is added, it results in a total of 23    512 + 64 = 11840 payloadsamples. Reference: SCPHY_MCS5_Payload Samples.txtL.6.3.3 SC PHY MCS7 payloadL.6.3.3.1 Payload bitsFigureL-7 node . The payload at node  is a count, modulo 256, starting at 0.For MCS7 each rate 5/8 LDPC codeword encodes 420 bits so the payload padding calculation gives NCW =20 and NDATA_PAD = 400.There are 1000    8 = 8000 payload bits plus 400 padding bits giving a total of 8400 bits.Reference: SCPHY_MCS7_Payload bits.txtL.6.3.3.2 Scrambled payload bitsFigureL-6 node .  All 8400 bits are scrambled according to a scrambler initialization value of 66. Reference: SCPHY_MCS7_Scrambled Payload bits.txtL.6.3.3.3 5/8-rate LDPC encoded payload BitsFigureL-7 node . The rate 5/8 LDPC encoding of each block of  scrambled payload bits. Inthis example, the 8400 payload bits are increased to 13440 bits by the LDPC encoding.The data at this node also includes the appended NBLK_PAD scrambled zeros. In this example, NBLK_PAD =0, so there are still a total of 13440 bits.Reference: SCPHY_MCS7_LDPC Encoded Payload Bits.txt546CWDL=420CWDL


page 584
L.6.3.3.4 Payload samplesFigureL-7 node . The modulated signal after QPSK Mapping, Guard Interval addition and /2 rotationhas been applied.In this example, the 13440 encoded bits are divided into 15    896 bit blocks. QPSK mapping converts this to15    448 modulation symbols which the Guard Interval increases to 15    512 modulation symbols. Whenthe closing 64-symbol Guard Interval is added, it results in a total of 15    512 + 64 = 7744 payload samples.Reference: SCPHY_MCS7_Payload Samples.txtL.6.3.4 SC PHY MCS12 payloadL.6.3.4.1 Payload bitsFigureL-7 node . The payload at node  is a count, modulo 256, starting at 0.For MCS12 each rate 3/4 LDPC codeword encodes 504 bits so the payload padding calculation gives NCW =16 and NDATA_PAD = 64.There are 1000    8 = 8000 payload bits plus 64 padding bits giving a total of 8064 bits.Reference: SCPHY_MCS12_Payload bits.txtL.6.3.4.2 Scrambled payload bitsFigureL-7 node .  All 8064 bits are scrambled according to a scrambler initialization value of 66. Reference: SCPHY_MCS12_Scrambled Payload bits.txtL.6.3.4.3 3/4-rate LDPC encoded payload bitsFigureL-7 node . The rate 3/4 LDPC encoding of each block of  scrambled payload bits. Inthis example, the 8064 payload bits are increased to 10752 bits by the LDPC encoding.The data at this node also includes the appended NBLK_PAD scrambled zeros. In this example, NBLK_PAD =0, so there are still a total of 10752 bits.Reference: SCPHY_MCS12_LDPC Encoded Payload Bits.txtL.6.3.4.4 Payload samplesFigureL-7 node . The modulated signal after 16QAM Mapping, Guard Interval addition and /2 rotationhas been applied.In this example, the 10752 encoded bits are divided into 6    1792 bit blocks. 16QAM mapping converts thisto 6    448 modulation symbols which the Guard Interval increases to 6    512 modulation symbols. Whenthe closing 64-symbol Guard Interval is added, it results in a total of 6    512 + 64 = 3136 payload samples. Reference: SCPHY_MCS12_Payload Samples.txt504CWDL


page 585
557L.7 DMG Example 3    OFDM PHY encodingL.7.1 OFDM PHY preambleFigureL-8 illustrates that the OFDM PHY preamble is similar to the SC PHY preamble, but with the Gu512and Gv512 parts of the CEF reversed.  It is also resampled from 1.76GSa/s to 2.64GSa/s using the specifiedprocess of interpolation, resampling and decimation.Thus the OFDM PHY preamble sample count increases from 3328 to 4992.Reference: OFDMPHY_Preamble Samples.txt   Ga128-Ga128Gu128Short Training Field (STF)16 x Ga128+ 1 x -Ga128= 2176 Tc Channel Equalization Field (CEF)  1152 TcGu512Gv512-Gb128-Ga128Gb128-Ga128-Gb128Ga128-Gb128-Ga128-Gb128Ga128Ga128Ga128Ga128Ga1283/2 Resampler (convert 1.76GHz to 2.64GHz) interpolate x3resampling kernel Hfiltdecimate   24992 sample sequence @ 2.64 GSa/s representing 3328 /2-BPSK symbol preamble @ 1.76 Gcps3328 bipolar symbols/2 rotationFigure L-8  OFDM PHY preambl


page 586
L.7.2 OFDM PHY header codingL.7.2.1 OFDM PHY header bitsFigureL-9 node . The 8 octets of header data.For this example, the OFDM PHY header bit fields are set as listed in TableL-45.Reference: OFDMPHY_MCS13_Header bits.txtL.7.2.2 OFDM PHY scrambled header bitsFigureL-9 node . The header bits after scrambling bits 8 to 64 of the header using the seed 66 (0x42).Reference: OFDMPHY_MCS13_Scrambled Header bits.txtparity7 bits18 bits5 bits16 bitsScrambler InitializationPacket typeLength1Training LengthHCS5 bitsMCSAdditional PPDU11Aggregation2ReservedBeam Tracking Requestscrambled headerscrambler64 bits504   64 = 440 padding zeros64 bits504   64 = 440 padding zeros   LDPCscram. init.64 bitsparity64 bitsparityXOR with PN Sequencecs2cs1No changeTone Pairing TypeDTP Indicator11164 bitsparityXOR with PN Sequencecs3TurnaroundLast RSSI4 bits1NCBPSbits = 672 bits53214Figure L-9  OFDM PHY header codin


page 587
559L.7.2.3 OFDM PHY LDPC encoded header bitsFigureL-9 node . The scrambled header bits after LDPC encoding but prior to zero stripping.Reference: OFDMPHY_MCS13_LDPC Encoded Header Bits.txtL.7.2.4 OFDM PHY LDPC data shortened bitsFigureL-9 node . The dimension of OFDM PHY modulation symbols requires that the CS1, CS2 andCS3 sequences are each 224 bits long; this in turn requires that, in addition to the zeros, some of the paritybits are discarded in order to shorten the LDPC codewords to 224 bits.The data for the second and third shortened LDPC codewords are given as they are before they arescrambled to provide CS2 and CS3.Reference: OFDMPHY_MCS13_Shortened LDPC for CS1 bits.txtReference: OFDMPHY_MCS13_Shortened LDPC for CS2 bits.txtReference: OFDMPHY_MCS13_Shortened LDPC for CS3 bits.txtL.7.2.5 OFDM PHY CS1/CS2/CS3 sequence bitsFigureL-9 node . The 672 bit concatenated CS1/CS2/CS3 sequence including the PN scrambling of CS2and CS3.Reference: OFDMPHY_MCS13_Final CS1 CS2 CS3 Sequence bits.txtTable L-45  OFDM PHY header settingsFieldValueScrambler Initialization66MCS13Length1000Additional PPDU0Packet Type0Training Length0Aggregation0Beam Tracking Request0Tone Pairing Type0DTP Indicator0Last RSSI0Turnaround0Reserved bits


page 588
L.7.3 OFDM PHY header modulationL.7.3.1 Constellation mapped data pointsFigureL-10 node . The LDPC encoded data is converted in the specified manner to 336 QPSKconstellation point values prior to assignment to data carriers (in the same order as the data they werederived from).  Note that because of the action of the Q matrix, these points look like 16QAM when plotted. Reference: Samples 1 to 336 of the file OFDMPHY_MCS13_Constellation Mapped Data Points.txtL.7.3.2 IFFT input samples including data, pilot, DC and null carriersFigureL-10 node . At this node the data points have been mapped to the data carriers, the pilots, DC andnull carriers have been assigned, and the resulting 512 point frequency domain vector is in the correct orderfor input to the inverse Fourier transform, i.e., with positive frequencies in the first 256 locations andnegative frequencies in the second 256 locations.Reference: Samples 1 to 512 of the file OFDMPHY_MCS13_FFT Input Samples.txt(NCBPS/ 2) points512 frequency pointsCP512 time pointsHeaderPreamblePayload32Add cyclic prefixInverse FFTNull and pilotinsertion1NCBPS bits = 672()()()[]2442214143221,,0,1,,12121,,, where 215kkkkkkSDTTkkkPkxfccxfccNkddQxxQ+++++===   ==   From OFDMPHY Header CodingFigure L-10  OFDM PHY header modulatio


page 589
561L.7.3.3 Header samplesFigureL-10 node . At this node the signal has been inverse Fourier transformed to produce a time recordand the cyclic prefix has been appended to create the 640 sample OFDM symbol.Reference: OFDMPHY_MCS13_Header Samples.txtL.7.4 OFDM PHY payload codingAs illustrated in FigureL-11, the LDPC encoding for the OFDM PHY case is identical to the SC PHY case,so no additional LDPC vectors are strictly necessary. However, the equations for computing the zeropadding at the end of the payload are different from the SC PHY case so bit vectors for nodes 1, 2 and 3 areprovided.PPDU Data (PSDU)scrambled data (scrambler state continues from header)scramblerNPAD zerosLCW= 672 bitsLCWD= (R) x LCW(R) LDPCparityLCWDLCWD-sized chunkm = 1LCW= 672 bitsLCWD= (R) x LCW(R) LDPCparityLCWDLCWD-sized chunkm = 2LCW= 672 bitsLCWD= (R) x LCW(R) LDPCparityLCWDLCWD-sized chunkm = NCWNCW x LCW= NSYM x NCBPS bits321Figure L-11  OFDM PHY payload codin


page 590
L.7.5 OFDM PHY MCS14 payload modulationL.7.5.1 Payload bitsFigureL-11 node . The payload comprises 1000    8 bits. With NCBPS = 336 and rate 5/8 LDPC codingthe OFDM PHY zero padding NPAD = 400, so the padded payload comprises 8400 bits.Reference: OFDMPHY_MCS14_ Payload bits.txtL.7.5.2 Scrambled payload bitsFigureL-11 node . All 8400 bits are scrambled according to a scrambler initialization value of 66. Reference: OFDMPHY_MCS14_Scrambled Payload bits.txtPayloadFor SQPSK, half of an LDPC codeword is used for each OFDM symbol(NCBPS/ 2) points512 frequency pointsCP512 time points1Add cyclic prefixInverse FFTNull and pilotinsertionNCBPS bits = 336NCBPS pointsLCWDparity()221,kkkdfcc+=(NCBPS/ 2) pointsconjugation and static tone pairing2Figure L-12  OFDM PHY SQPSK payload modulatio


page 591
563L.7.5.3 LDPC encoded payload bitsFigureL-11 node . For this example, with NCBPS = 336 and rate 5/8 LDPC coding there are 20 LDPCcodewords or 20    672 = 13440 bits at this node.Reference: OFDMPHY_MCS14_LDPC Encoded Payload bits.txtL.7.5.4 SQPSK constellation mapped data pointsFigureL-12 node . For SQPSK modulation, each block of NCBPS = 336 LDPC encoded bits is convertedin the specified manner to 168 QPSK constellation point values and their complex conjugates prior toassignment to data carriers, in the same order as the data they were derived from.There are 336 constellation points for each block of 336 LDPC encoded bits, so there are 40 sets of 336constellation points (13440 point in total) at this node.Reference: Samples 337 to 13776 of the file OFDMPHY_MCS14_Constellation Mapped Data Points.txtL.7.5.5 Payload samplesFigureL-12 node . Each set of 336 constellation points is mapped to 512 frequency domain points theninverse Fourier transformed to 512 time domain points; adding the cyclic prefix creates a 640 sample OFDMsymbol. There are 40 OFDM symbols in this example payload, giving a total of 40    640 = 25600 samples.Reference: OFDMPHY_MCS14_Payload Samples.tx


page 592
L.7.6 OFDM PHY MCS17 payload modulationL.7.6.1 Payload bitsFigureL-11 node . The payload comprises 1000    8 bits. With NCBPS = 672 and rate 3/4 LDPC codingthe OFDM PHY zero padding NPAD = 64, so the padded payload comprises 8064 bits.Reference: OFDMPHY_MCS17_ Payload bits.txtL.7.6.2 Scrambled payload bitsFigureL-11 node . All 8064 bits are scrambled according to a scrambler initialization value of 66. Reference: OFDMPHY_MCS17_Scrambled Payload bits.txtPayloadFor QPSK, 1 LDPC codeword is used for each OFDM symbolLCWDparity(NCBPS/ 2) points512 frequency pointsCP512 time pointsAdd cyclic prefixInverse FFTNull and pilotinsertion1NCBPS bits = 672()()()[]2442214143221,,0,1,,12121,,, where 215kkkkkkSDTTkkkPkxfccxfccNkddQxxQ+++++===   ==   2Figure L-13  OFDM PHY QPSK payload modulatio


page 593
565L.7.6.3 LDPC encoded payload bitsFigureL-11 node . For this example, with NCBPS = 672 and rate 3/4 LDPC coding there are 16 LDPCcodewords or 16    672 = 10752 bits at this node.Reference: OFDMPHY_MCS17_LDPC Encoded Payload bits.txtL.7.6.4 QPSK constellation mapped data pointsFigureL-13 node . For QPSK modulation, each block of NCBPS = 672 LDPC encoded bits is converted inthe specified manner to 336 QPSK constellation point values prior to assignment to data carriers, in the sameorder as the data they were derived from.There are 336 constellation points for each block of 672 LDPC encoded bits, so there are 16 sets of 336constellation points (5376 point in total) at this node.Reference: Samples 337 to 5712 of the file OFDMPHY_MCS17_Constellation Mapped Data Points.txtL.7.6.5 Payload samplesFigureL-13 node . Each set of 336 constellation points is mapped to 512 frequency domain points theninverse Fourier transformed to 512 time domain points; adding the cyclic prefix creates a 640 sample OFDMsymbol. There are 16 OFDM symbols in this example payload giving a total of 16    640 = 10240 samples.Reference: OFDMPHY_MCS17_Payload Samples.tx


page 594
L.7.7 OFDM PHY MCS19 payload modulationL.7.7.1 Payload bitsFigureL-11 node . The payload comprises 1000    8 bits. With NCBPS = 1344 and rate 5/8 LDPC codingthe OFDM PHY zero padding NPAD = 400, so the padded payload comprises 8400 bits.Reference: OFDMPHY_MCS19_ Payload bits.txtL.7.7.2 Scrambled payload bitsFigureL-11 node . All 8400 bits are scrambled according to a scrambler initialization value of 66. Reference: OFDMPHY_MCS19_Scrambled Payload bits.txtPayloadFor 16QAM, 2 LDPC codewords are used for each OFDM symbolLCWDparity(NCBPS/ 4) points512 frequency pointsCP512 time pointsAdd cyclic prefixInverse FFTNull and pilotinsertion1LCWDparityNCBPS bits = 1344()()244142432142412422432,,,,,,0,1,,12SDSDSDSDkkkkkkkNkNkNkNSDxfccccxfccccNk+++++++++++===   2Figure L-14  OFDM PHY 16QAM payload modulatio


page 595
567L.7.7.3 LDPC encoded payload bitsFigureL-11 node . For this example, with NCBPS = 1344 and rate 5/8 LDPC coding there are 20 LDPCcodewords or 20    672 = 13440 bits at this node.Reference: OFDMPHY_MCS19_LDPC Encoded Payload bits.txtL.7.7.4 16QAM constellation mapped data pointsFigureL-14 node . For 16QAM modulation, each block of NCBPS = 1344 LDPC encoded bits isconverted in the specified manner to 336 16QAM constellation point values prior to assignment to datacarriers, in the same order as the data they were derived from.There are 336 constellation points for each block of 1344 LDPC encoded bits, so there are 10 sets of 336constellation points (3360 points in total) at this node.Reference: Samples 337 to 3696 of the file OFDMPHY_MCS19_Constellation Mapped Data Points.txtL.7.7.5 Payload samplesFigureL-14 node . Each set of 336 constellation points is mapped to 512 frequency domain points theninverse Fourier transformed to 512 time domain points; adding the cyclic prefix creates a 640 sample OFDMsymbol. There are 10 OFDM symbols in this example payload giving a total of 10    640 = 6400 samples.Reference: OFDMPHY_MCS19_Payload Samples.tx


page 596
L.7.8 OFDM PHY MCS23 payload modulationL.7.8.1 Payload bitsFigureL-11 node . The payload comprises 1000    8 bits. With NCBPS = 2016 and rate 3/4 LDPC codingthe OFDM PHY zero padding NPAD = 1072, so the padded payload comprises 9072 bits.Reference: OFDMPHY_MCS23_ Payload bits.txtL.7.8.2 Scrambled payload bitsFigureL-11 node . All 9072 bits are scrambled according to a scrambler initialization value of 66. Reference: OFDMPHY_MCS23_Scrambled Payload bits.txtPayloadFor 64QAM, 3 LDPC codewords are used for each OFDM symbolLCWDparity()()66162636465,,,,,112mod330,1,,1kmmmmmmSDdfccccccmkkkN+++++==+=   (NCBPS/ 6) points512 frequency pointsCP512 time pointsAdd cyclic prefixInverse FFTNull and pilotinsertion1LCWDparityLCWDparityNCBPS bits = 20162Figure L-15  OFDM PHY 64QAM payload modulatio


page 597
569L.7.8.3 LDPC encoded bitsFigureL-11 node . For this example, with NCBPS = 2016 and rate 3/4 LDPC coding there are 18 LDPCcodewords or 18    672 = 12096 bits at this node.Reference: OFDMPHY_MCS23_LDPC Encoded Payload bits.txtL.7.8.4 64QAM constellation mapped data pointsFigureL-15 node . For 64QAM modulation, each block of NCBPS = 2016 LDPC encoded bits isconverted in the specified manner to 336 64QAM constellation point values prior to assignment to datacarriers, in the same order as the data they were derived from.There are 336 constellation points for each block of 2016 LDPC encoded bits, so there are 6 sets of 336constellation points (2016 points in total) at this node.Reference: Samples 337 to 2352 of the file OFDMPHY_MCS23_Constellation Mapped Data Points.txtL.7.8.5 Payload samplesFigureL-15 node . Each set of 336 constellation points is mapped to 512 frequency domain points theninverse Fourier transformed to 512 time domain points; adding the cyclic prefix creates a 640 sample OFDMsymbol.  There are 6 OFDM symbols in this example payload giving a total of 6    640 = 3840 samples.Reference: OFDMPHY_MCS23_Payload Samples.txtL.8 DMG Example 4    LP SC PHY encodingL.8.1 LP SC PHY preambleThe LP SC PHY preamble is identical to the SC PHY preamble


page 598
L.8.2 LP SC PHY headerFigure L-16  LP SC PHY header coding and modulation16 octets of RS parityscrambled headerscrambler8 octets8 octetsRS(24,8)scram. init.(16,8) Block CodingKeydata octetsRS parity octets(16,8) parity octetsBPSK mapping49 x 8 = 392 modulation symbolsGa64512 modulation symbolsG8/2 rotation/2-BPSK modulated header392 bits384 bits392 bitsTurnaroundLast RSSIBeam Tracking Request7 bits18 bits5 bits16 bitsScrambler InitializationPacket typeLength11Training LengthHCS5 bitsMCSAdditional PPDU11Aggregation4 bitsReserved4 bits17 row x 8 columnbit interleaverAppend zero octetHeaderPreamblePayload12346


page 599
571L.8.2.1 Header bitsFigureL-16 node . The 8 octets of header data.For this example the LP SC PHY header bit fields are set as shown in TableL-46.Reference: LPSCPHY_MCS26_Header bits.txtL.8.2.2 Scrambled header bitsFigureL-16 node . The header bits after scrambling bits 8 to 64 of the header using the seed 66 (0x42).Reference: LPSCPHY_MCS26_Scrambled Header bits.txtL.8.2.3 RS(24,8) encoded header bitsFigureL-16 node . The 8 octets of header data are RS(24,8) encoded. The 8 message octets followed bythe 16 parity octets give the complete 24 octet RS codeword.There are 24    8 = 192 bits at this node.Reference: LPSCPHY_MCS26_RS(24,8) Encoded Header bits.txtL.8.2.4 (16,8) block coded header bitsFigureL-16 node . The (16,8) block coder doubles the effective bits from 192 to 384, then a zero paddingoctet is added to take the bit count up to the 392 needed to compose a modulation block.Reference: LPSCPHY_MCS26_(16,8) Block Coded Header bits.txtTable L-46  LP SC PHY header settingsFieldValueScrambler Initialization66MCS26Length1000Additional PPDU0Packet Type0Training Length0Aggregation0Beam Tracking Request0Last RSSI0Turnaround0Reserved bits


page 600
L.8.2.5 Header bit interleaver outputFigureL-16 node . The bit interleaver re-orders the 392 bits into a different time sequence.Reference: LPSCPHY_MCS26_Header Interleaver Output bits.txtL.8.2.6 Header samplesFigureL-16 node . The 392 bits of the header interleaver output are BPSK mapped, prepended with aGa64 sequence as a Guard Interval and punctuated by G8 (last 8 samples of Ga64) Guard Intervals, then /2rotated; resulting in a 512 sample /2-BPSK header modulation block.Reference: LPSCPHY_MCS26_Header Samples.tx


page 601
573L.8.3 LP SC PHY MCS26 payloadL.8.3.1 Payload bitsFigureL-17 node . The payload at node  is a count, modulo 256, starting at 0.For MCS26, the LP SC PHY payload padding calculation gives NDATA_PAD = 368; however, unlike theother PHYs, this padding data is not appended before FEC computation.So there are just 1000    8 = 8000 payload bits.Reference: LPSCPHY_MCS26_Payload bits.txt(N,8) Block Code/2-BPSK/QPSK block/2-BPSK/QPSK blockPPDU Data (PSDU)   "Length" octetsPayload"Length" scrambled data octets (scrambler state continues from header)scramblerNBLK_PAD zerosGa64512 modulation symbolsscrambled zerosscramblerG8/2 rotationBPSK orQPSK mapping208 data octetsRS(224,208)16 parity octets208RSNLength=392EBBLKSCBPSNNN=  last block512-64-(7 x 8) = 392 modulation symbolsfirst blockNEB=N x (Length + NRS x 16)NBLK_PADscrambled zeros/2-BPSK/QPSK block392 bitsBLKSCBPSNN    Add paddingGa647 row x 8 columnbit interleaver234165Figure L-17  LP SC PHY payload coding and modulatio


page 602
L.8.3.2 Scrambled payload bitsFigureL-17 node . All 8000 bits are scrambled according to a scrambler initialization value of 66.Reference: LPSCPHY_MCS26_Scrambled Payload bits.txtL.8.3.3 RS(224,208) encoded payload bitsFigureL-17 node . In this example, there are 4 RS(224,208) codewords and one shortened RS(184,168)codeword, giving a total of (4    224 + 1    184)    8 = 8640 bits at this node.Reference: LPSCPHY_MCS26_RS(224,208) Output bits.txtL.8.3.4 (12,8) block coded payload bitsFigureL-17 node . The (12,8) block coder increases the effective bits from 8640 to 12960.Reference: LPSCPHY_MCS26_Block Coded Payload bits.txtL.8.3.5 Interleaved payload bitsFigureL-17 node . Before interleaving the block coder output is padded with NDATA_PAD = 368scrambled zeros to give 13328 bits (34 x 392). The interleaver then redistributes these bits in time, asspecified.Reference: LPSCPHY_MCS26_RS Encoded and Interleaved Payload bits.txtL.8.3.6 Payload samplesFigureL-17 node . Each block of 392 bits from the interleaver output is BPSK mapped to 392 modulationsymbols, prepended with a Ga64 sequence as a Guard Interval and punctuated by G8 (last 8 samples of Ga64)Guard Intervals, then /2 rotated, thus resulting in a 512 symbol /2-BPSK modulation block.In this example, there are 34 modulation blocks and, as specified, the last one is followed by a terminatingGa64 Guard Interval sequence, so there are 34    512 + 64 = 17472 samples at this node.Reference: LPSCPHY_MCS26_Payload Samples.txtL.8.4 LP SC PHY MCS30 payloadL.8.4.1 Payload bitsFigureL-17 node . The payload at node  is a count, modulo 256, starting at 0.For MCS30, the LP SC PHY payload padding calculation gives NDATA_PAD = 472; however, unlike theother PHYs, this padding data is not appended before FEC computation.So there are just 1000    8 = 8000 payload bits.Reference: LPSCPHY_MCS30_Payload bits.tx


page 603
575L.8.4.2 Scrambled payload bitsFigureL-17 node . All 8000 bits are scrambled according to a scrambler initialization value of 66.Reference: LPSCPHY_MCS30_Scrambled Payload bits.txtL.8.4.3 RS(224,208) encoded payload bitsFigureL-17 node . In this example, there are 4 RS(224,208) codewords and one shortened RS(184,168)codeword, giving a total of (4    224 + 1    184)    8 = 8640 bits at this node.Reference: LPSCPHY_MCS30_RS(224,208) Output bits.txtL.8.4.4 Spc(9,8) block coded payload bitsFigureL-17 node . The (9,8) block coder increases the effective bits from 8640 to 9720.Reference: LPSCPHY_MCS30_Block Coded Payload bits.txtL.8.4.5 Interleaved payload bitsFigureL-17 node . Before interleaving the block coder output is padded with NDATA_PAD = 472scrambled zeros to give 10192 bits (26    392).  The interleaver then redistributes these bits in time, asspecified.Reference: LPSCPHY_MCS30_RS Encoded and Interleaved Payload bits.txtL.8.4.6 Payload samplesFigureL-17 node . Each block of 784 bits from the interleaver output is QPSK mapped to 392 modulationsymbols, prepended with a Ga64 sequence as a Guard Interval and punctuated by G8 (last 8 samples of Ga64)Guard Intervals, then /2 rotated, thus resulting in a 512 symbol /2-BPSK modulation block.In this example, there are 13 modulation blocks and, as specified, the last one is followed by a terminatingGa64 Guard Interval sequence, so there are 13    512 + 64 = 6720 samples at this node.Reference: LPSCPHY_MCS30_Payload Samples.tx


page 604



page 605
577Annex M(informative) RSNA reference implementations and test vectorsInsert the following subclauses, M.11 to M.11.2, after M.10:M.11 GCMPM.11.1 Test vector==== GCMP test mpdu #1 ====Plain Text: The plain text is a sequence of 0s made up to 256 octets.  Input data (Plain text): 256 octets  1: 0x00000000000000000000000000000000  2: 0x00000000000000000000000000000000  3: 0x00000000000000000000000000000000  4: 0x00000000000000000000000000000000  5: 0x00000000000000000000000000000000  6: 0x00000000000000000000000000000000  7: 0x00000000000000000000000000000000  8: 0x00000000000000000000000000000000  9: 0x00000000000000000000000000000000  10: 0x00000000000000000000000000000000  11: 0x00000000000000000000000000000000  12: 0x00000000000000000000000000000000  13: 0x00000000000000000000000000000000  14: 0x00000000000000000000000000000000  15: 0x00000000000000000000000000000000  16: 0x00000000000000000000000000000000  Key: 16 octets  0xAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA  AAD: 22 octets  0x2002000000000000FFFFFFFFFFFFFFFFFFFFFFFF0000  Frame Control (FC): 2 octets, 0x0220  Address 1 (A1): 6 octets, 0x000000000000  Address 2 (A2): 6 octets, 0xFFFFFFFFFFFF  BSSID: 6 octets, 0xFFFFFFFFFFFF  Sequence Control (SC): 2 octets, 0x0000  GCM nonce: 12 octets  0xFFFFFFFFFFFF000000000001  A2: 6 octets, 0xFFFFFFFFFFFF  PN: 6 octets, 0x000000000001  Output data (Cipher text): 256 octets  1: 0x5F5578C18F137AD279BF3F2B24C7BD8F  2: 0x277A1BE6770DA1D98B70C6D28AE01C55  3: 0x9ECBA6A01DB067C5A27E4DB08CDADC77  4: 0x52AD637EAF0A18ED13FBAA143BAFEF18  5: 0xF8FBCE4C65E86BD02A87B601B7EAB93F  6: 0x2BBC874C8A710580F502341A6A53393


page 606
  7: 0x43DE4C9EC6A286F125718378AEDC84EB  8: 0xA2B30F5C28BB5D75C6B025466D0651C7  9: 0x22DC71151F212D6887828A0382E9288A  10: 0x7F43D52B7D25086157646954BB43B57E  11: 0xA587A025F40CE74511E4DD2285B40BA3  12: 0xF3B96262CBC28C6AA7BE443E7B41E1EB  13: 0xFF524857A6816897750115B0231AB7C2  14: 0x8472C06DD0B49BE9F369A8C39CCD0DB7  15: 0x983510E1AE8F05D77545E0235CDBD612  16: 0xF3150754CEE5CE6A1225D99525026F74  MIC (Tag): 16 octets  0x80CB0662EA71ABFD9F04C7F872F58090==== GCMP test mpdu #2 (CCMP test vector format) ====//Changed Plaintext, Key, AAD and Nonce// MPDU FieldsVersion= 0Type= 2SubType= 8QoS DataToDS= 0FromDS= 0MoreFrag= 0Retry= 1PwrMgt= 0MoreData= 0Encrypt= 1Order= 0Duration= 11 (40 Octets(MCS1) + SIFS + ACK(MCS1))A1 = 0f-d2-e1-28-a5-7cDAA2 = 50-30-f1-84-44-08SAA3 = 50-30-f1-84-44-08BSSIDSC = 0x3380seqNum = 824 (0x0338)fragNum = 0 (0x00)QoSControl = 0x0003TID = 3Algorithm = AES_GCMPKey ID = 0TK = c9 7c 1f 67 ce 37 11 85 51 4a 8a 19 f2 bd d5 2fPN = 590010592008 (0x00895F5F2B08)802.11 Header = 88 48 0b 00 0f d2 e1 28 a5 7c 50 30 f1 84 44 08 50 30 f1 84 44 08 80 33 03 00Muted 802.11 Header = 88 40 0f d2 e1 28 a5 7c 50 30 f1 84 44 08 50 30 f1 84 44 08 00 00 03 00GCMP Header = 08 2b 00 20 5f 5f 89 00GCM Nonce = 50 30 f1 84 44 08 00 89 5f 5f 2b 08Plaintext Data = 00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25 26 27Encrypted Data = 60 e9 70 0c c4 d4 0a c6 d2 88 b2 01 c3 8f 5b f0 8b 80 74 42 64 0a 15 96 e5 db da d4 1d 1f 36 23 f4 5d 7a 12 db 7a fb 2


page 607
579GCM MIC = de f6 19 c2 a3 74 b6 df 66 ff a5 3b 6c 69 d7 9e-- Encrypted MPDU with FCS88 48 0b 00 0f d2 e1 28 a5 7c 50 30 f1 84 44 08 50 30 f1 84 44 08 80 33 03 00 08 2b 00 20 5f 5f 89 00 60 e9 70 0c c4 d4 0a c6 d2 88 b2 01 c3 8f 5b f0 8b 80 74 42 64 0a 15 96 e5 db da d4 1d 1f 36 23 f4 5d 7a 12 db 7a fb 23 de f6 19 c2 a3 74 b6 df 66 ff a5 3b 6c 69 d7 9e bf ee e9 53M.11.2 Example of encryption C code// GCMP code#include <stdio.h>#define USE_VECTOR_1// Use test vector #1 as GCMP input// #define USE_VECTOR_2 // Use test vector #2 as GCMP input// Prototypeint tcSubWord(int x);int tcSubByte(int x);void tcAESfunc(int StartofRound[4], int RoundKey[44]);void tcKeyExpansion(int x[4], int RoundKey[44]);void tcAdjustText(int move, int data[4]);int tcMixColumns(int x);int tcMultEight(int x, int y);void tcMultGF(int x[4], int y[4], int Zout[4]);int main(void){// Function parameterint i, j, temp[4];int Nr = 16;// 256-octet * 8-bit / 128-bit// Input for mainint ENCDEC=1;// Indication of Encryption and Decryption: 1 Enc 0 Dec#ifdef USE_VECTOR_1// Input for GCMP test vector #1int Key[4]={0xaaaaaaaa, 0xaaaaaaaa, 0xaaaaaaaa, 0xaaaaaaaa};// Key for system 128-bitint IV[4]={0xffffffff, 0xffff0000, 0x00000001, 0x00000001};// Initialization Vector 96-bit + 1 (32-bit)int AAD[2][4]={{0x20020000, 0x00000000, 0xffffffff, 0xffffffff},// Additional Authenticated Data{0xffffffff, 0x00000000, 0x00000000, 0x00000000}};// FC, A1=0s, A2=Fs, A3=Fsint LENAC[4]={0x00000000, 0x000000b0, 0x00000000, 0x00000800};// Length of AAD and Cipher Text#endif // USE_VECTOR_1#ifdef USE_VECTOR_2// Input for GCMP test vector #2 (see also plaintext input below)int Key[4]={0xc97c1f67, 0xce371185, 0x514a8a19, 0xf2bdd52f};// Key for system 128-bitint IV[4]={0x5030f184, 0x44080089, 0x5f5f2b08, 0x00000001};// Initialization Vector 96-bit + 1 (32-bit) // 88 40 0f d2 e1 28 a5 7c 50 30 f1 84 44 08 50 30 f1 84 44 08 00 00 03 00int AAD[2][4]={{0x88400fd2, 0xe128a57c, 0x5030f184, 0x44085030},  // Additional Authenticated Data{0xf1844408, 0x00000300, 0x00000000, 0x00000000}}; // FC, A1=0f-d2-e1-28-a5-7c,// A2=50-30-f1-84-44-08, A3=50-30-f1-84-44-08int LENAC[4]={0x00000000, 0x000000c0, 0x00000000, 0x00000140};// Length of AAD and Cipher Text#endif // USE_VECTOR_2int TextIn[16][4];// AES parameterint RoundKey[44];// Round Keys, Generated by Input Keys and use for AE


page 608
int StartofRound[4];// Input/output of AES functionint HASH[4];// HASH output, AES function with 0s inputint EKY0[4];// First output of AES function with Y0 input, which uses for generating Tagint TextOut[16][4];// Output Text, which is either Cipher/Plain text. Length should much with TextIn// GF parameterint MultIn[4];// Input of Multiplicationint Tag[4] = {0, 0, 0, 0};// Tag output// Processing Parameterint p_flag = 1;// Indication of end of processint LengthTxt[2];// Block length of text that is Plain/Cipher Textint TxtRemain;// The last block of text, range is between 0 to 127int Txt_flag = 0;// Indication of last text is not 128-bit// ===== Main Process =====// Generate 1500 Bytes '0' Textfor (i=0;i<Nr;i++) {for (j=0;j<4;j++) {TextIn[i][j] = 0;}}#ifdef USE_VECTOR_1// Plaintext for GCMP test vector #1// Not necessary as data is all zeros#endif // USE_VECTOR_1#ifdef USE_VECTOR_2// Plaintext for GCMP test vector #2TextIn[0][0] = 0x00010203;TextIn[0][1] = 0x04050607;TextIn[0][2] = 0x08090a0b;TextIn[0][3] = 0x0c0d0e0f;TextIn[1][0] = 0x10111213;TextIn[1][1] = 0x14151617;TextIn[1][2] = 0x18191a1b;TextIn[1][3] = 0x1c1d1e1f;TextIn[2][0] = 0x20212223;TextIn[2][1] = 0x24252627;#endif // USE_VECTOR_2// Generate Round KeytcKeyExpansion(Key, RoundKey);// Count 128-bit Text block size// Check input text size is multiply by 128-bit or not// Calculate the text length of last block LengthTxt[0] = LENAC[2] >> 7;if ((LENAC[3] & 0x0000007f) == 0) {LengthTxt[1] = LENAC[3] >> 7;}else {LengthTxt[1] = (LENAC[3] >> 7) + 1;TxtRemain = LENAC[3] & 0x0000007F;Txt_flag = 1;


page 609
581// Generate HASH, which uses for GF(2^128) function// AES function with 0s inputfor (i=0;i<4;i++) {StartofRound[i] = 0;}tcAESfunc(StartofRound, RoundKey);for (i=0;i<4;i++) {HASH[i] = StartofRound[i];}// GF 2^128 with AADfor (i=0;i<2;i++) {for (j=0;j<4;j++) {MultIn[j] = AAD[i][j] ^ Tag[j];}tcMultGF(HASH, MultIn, Tag);}// Generate Encryption Key and Tag// AES function with Yi input to generate Encryption Keys// First output for which Y0 input is used for generating Tagi = 0;while (p_flag) {// Set IV as a Input of AESfor (j=0;j<4;j++) {StartofRound[j] = IV[j];}// AES functiontcAESfunc(StartofRound, RoundKey);printf("AES Number %02d is %08x %08x %08x %08x\n", i, StartofRound[0], StartofRound[1], StartofRound[2], StartofRound[3]);// Increment IV by '1'IV[3] = IV[3] + 1;// Set EKY0 for Tagif (i == 0) {for (j=0;j<4;j++) {EKY0[j] = StartofRound[j];}}// Xor Input Text and Encryption Keys// Check the last Block of processingelse if (LengthTxt[1] == 0) {if (LengthTxt[0] == 0) {p_flag = 0;for (j=0;j<4;j++) {TextOut[i-1][j] = TextIn[i-1][j] ^ StartofRound[j];}// Adjust the length textoutfor (j=0;j<4;j++) {temp[j] = TextOut[i-1][j];}if (Txt_flag == 1) {tcAdjustText(TxtRemain, temp);}for (j=0;j<4;j++) {TextOut[i-1][j] = temp[j]


page 610
}// XOR with last text and former Tagfor (j=0;j<4;j++) {if (ENCDEC == 1) {MultIn[j] = TextOut[i-1][j] ^ Tag[j];}else {MultIn[j] = TextIn[i-1][j] ^ Tag[j];}}tcMultGF(HASH, MultIn, Tag);}else {LengthTxt[0]--;LengthTxt[1]--;for (j=0;j<4;j++) {TextOut[i-1][j] = TextIn[i-1][j] ^ StartofRound[j];if (ENCDEC == 1) {MultIn[j] = TextOut[i-1][j] ^ Tag[j];}else {MultIn[j] = TextIn[i-1][j] ^ Tag[j];}}tcMultGF(HASH, MultIn, Tag);}}else {for (j=0;j<4;j++) {TextOut[i-1][j] = TextIn[i-1][j] ^ StartofRound[j];if (ENCDEC == 1) {MultIn[j] = TextOut[i-1][j] ^ Tag[j];}else {MultIn[j] = TextIn[i-1][j] ^ Tag[j];}}tcMultGF(HASH, MultIn, Tag);}i++;LengthTxt[1]--;}// Generate Tag// 1. XOR with LENAC and Tagfor (j=0;j<4;j++) {MultIn[j] = LENAC[j] ^ Tag[j];}// 2. GF(2^128)tcMultGF(HASH, MultIn, Tag);// 3. XOR with EKY0 and Tagfor (j=0;j<4;j++) {Tag[j] = EKY0[j] ^ Tag[j];}// Displayfor (i=0;i<Nr;i++) {printf("Text Output %d is %08x %08x %08x %08x\n", i, TextOut[i][0], TextOut[i][1]


page 611
583TextOut[i][2], TextOut[i][3]);}printf("Tag is %08x %08x %08x %08x\n", Tag[0], Tag[1], Tag[2], Tag[3]);return 0;}// AES function with 128-bit Key lengthvoid tcAESfunc(int StartofRound[4], int RoundKey[44]){int i;int Nr = 10;int AfterSubBytes[4];int AfterShiftRows[4];int AfterMixColumns[4];// XOR Input and Round KeyStartofRound[0] = StartofRound[0] ^ RoundKey[0];StartofRound[1] = StartofRound[1] ^ RoundKey[1];StartofRound[2] = StartofRound[2] ^ RoundKey[2];StartofRound[3] = StartofRound[3] ^ RoundKey[3];for (i=0;i<Nr-1;i++) {// Sub BytesAfterSubBytes[0] = tcSubWord(StartofRound[0]);AfterSubBytes[1] = tcSubWord(StartofRound[1]);AfterSubBytes[2] = tcSubWord(StartofRound[2]);AfterSubBytes[3] = tcSubWord(StartofRound[3]);// Shift RowsAfterShiftRows[0] = (AfterSubBytes[0] & 0xFF000000) ^ (AfterSubBytes[1] & 0x00FF0000) ^ (AfterSubBytes[2] & 0x0000FF00) ^ (AfterSubBytes[3] & 0x000000FF);AfterShiftRows[1] = (AfterSubBytes[1] & 0xFF000000) ^ (AfterSubBytes[2] & 0x00FF0000) ^ (AfterSubBytes[3] & 0x0000FF00) ^ (AfterSubBytes[0] & 0x000000FF);AfterShiftRows[2] = (AfterSubBytes[2] & 0xFF000000) ^ (AfterSubBytes[3] & 0x00FF0000) ^ (AfterSubBytes[0] & 0x0000FF00) ^ (AfterSubBytes[1] & 0x000000FF);AfterShiftRows[3] = (AfterSubBytes[3] & 0xFF000000) ^ (AfterSubBytes[0] & 0x00FF0000) ^ (AfterSubBytes[1] & 0x0000FF00) ^ (AfterSubBytes[2] & 0x000000FF);// Mix ColumnsAfterMixColumns[0] = tcMixColumns(AfterShiftRows[0]);AfterMixColumns[1] = tcMixColumns(AfterShiftRows[1]);AfterMixColumns[2] = tcMixColumns(AfterShiftRows[2]);AfterMixColumns[3] = tcMixColumns(AfterShiftRows[3]);// XOR with Round KeyStartofRound[0] = AfterMixColumns[0] ^ RoundKey[(i*4)+4];StartofRound[1] = AfterMixColumns[1] ^ RoundKey[(i*4)+5];StartofRound[2] = AfterMixColumns[2] ^ RoundKey[(i*4)+6];StartofRound[3] = AfterMixColumns[3] ^ RoundKey[(i*4)+7];}// Last Round// Sub BytesAfterSubBytes[0] = tcSubWord(StartofRound[0]);AfterSubBytes[1] = tcSubWord(StartofRound[1]);AfterSubBytes[2] = tcSubWord(StartofRound[2]);AfterSubBytes[3] = tcSubWord(StartofRound[3]);// Shift RowsAfterShiftRows[0] = (AfterSubBytes[0] & 0xFF000000) ^ (AfterSubBytes[1] & 0x00FF0000) 


page 612
(AfterSubBytes[2] & 0x0000FF00) ^ (AfterSubBytes[3] & 0x000000FF);AfterShiftRows[1] = (AfterSubBytes[1] & 0xFF000000) ^ (AfterSubBytes[2] & 0x00FF0000) ^ (AfterSubBytes[3] & 0x0000FF00) ^ (AfterSubBytes[0] & 0x000000FF);AfterShiftRows[2] = (AfterSubBytes[2] & 0xFF000000) ^ (AfterSubBytes[3] & 0x00FF0000) ^ (AfterSubBytes[0] & 0x0000FF00) ^ (AfterSubBytes[1] & 0x000000FF);AfterShiftRows[3] = (AfterSubBytes[3] & 0xFF000000) ^ (AfterSubBytes[0] & 0x00FF0000) ^ (AfterSubBytes[1] & 0x0000FF00) ^ (AfterSubBytes[2] & 0x000000FF);// XOR with Round KeyStartofRound[0] = AfterShiftRows[0] ^ RoundKey[40];StartofRound[1] = AfterShiftRows[1] ^ RoundKey[41];StartofRound[2] = AfterShiftRows[2] ^ RoundKey[42];StartofRound[3] = AfterShiftRows[3] ^ RoundKey[43];}// Key Expansion function used for AESvoid tcKeyExpansion(int x[4], int RoundKey[44]){int i;int AfterRotWord;int AfterSubWord;int AfterXorWithRcon;int Rcon[10] = {0x01000000, 0x02000000, 0x04000000, 0x08000000, 0x10000000, 0x20000000, 0x40000000, 0x80000000, 0x1b000000, 0x36000000};// Generate first Round Key from Input Keyfor (i=0;i<4;i++) {RoundKey[i] = x[i];}// Generate other Round Keyfor (i=4;i<44;i++) {if (i%4 == 0) {AfterRotWord = (RoundKey[i-1] << 8) ^ ((RoundKey[i-1] >>24) & 0x000000FF);AfterSubWord = tcSubWord(AfterRotWord);AfterXorWithRcon = AfterSubWord ^ Rcon[i/4-1];RoundKey[i] = RoundKey[i-4] ^ AfterXorWithRcon;}else {RoundKey[i] = RoundKey[i-4] ^ RoundKey[i-1];}}}// Adjust the Plain/Cipher Text Size if it is not multiply by 128-bitvoid tcAdjustText(int move, int data[4]){int i;// Move to MSB -> LSBi = 128 - move;while (i) {data[3] = ((data[3] >> 1) & 0x7FFFFFFF) ^ ((data[2] << 31) & 0x80000000);data[2] = ((data[2] >> 1) & 0x7FFFFFFF) ^ ((data[1] << 31) & 0x80000000);data[1] = ((data[1] >> 1) & 0x7FFFFFFF) ^ ((data[0] << 31) & 0x80000000);data[0] = (data[0] >> 1) & 0x7FFFFFFF;i--;


page 613
585// Move to LSB -> MSBi = 128 - move;while (i) {data[0] = ((data[0] << 1) & 0xFFFFFFFE) ^ ((data[1] >> 31) & 0x00000001);data[1] = ((data[1] << 1) & 0xFFFFFFFE) ^ ((data[2] >> 31) & 0x00000001);data[2] = ((data[2] << 1) & 0xFFFFFFFE) ^ ((data[3] >> 31) & 0x00000001);data[3] = (data[3] << 1) & 0xFFFFFFFE;i--;}}// 32-bit SubByte functionint tcSubWord(int x){int r = 0;int i;int temp;for (i=0;i<4;i++) {temp = (x >> i*8) & 0xFF; r = r ^ tcSubByte(temp) << i*8;}return r;}// S-Box Lookup Tableint tcSubByte(int x){int r;switch(x) {case 0x00 : r = 0x63; break;case 0x01 : r = 0x7c; break;case 0x02 : r = 0x77; break;case 0x03 : r = 0x7b; break;case 0x04 : r = 0xf2; break;case 0x05 : r = 0x6b; break;case 0x06 : r = 0x6f; break;case 0x07 : r = 0xc5; break;case 0x08 : r = 0x30; break;case 0x09 : r = 0x01; break;case 0x0A : r = 0x67; break;case 0x0B : r = 0x2b; break;case 0x0C : r = 0xfe; break;case 0x0D : r = 0xd7; break;case 0x0E : r = 0xab; break;case 0x0F : r = 0x76; break;case 0x10 : r = 0xca; break;case 0x11 : r = 0x82; break;case 0x12 : r = 0xc9; break;case 0x13 : r = 0x7d; break;case 0x14 : r = 0xfa; break;case 0x15 : r = 0x59; break;case 0x16 : r = 0x47; break;case 0x17 : r = 0xf0; break;case 0x18 : r = 0xad; break;case 0x19 : r = 0xd4; break;case 0x1A : r = 0xa2; break


page 614
case 0x1B : r = 0xaf; break;case 0x1C : r = 0x9c; break;case 0x1D : r = 0xa4; break;case 0x1E : r = 0x72; break;case 0x1F : r = 0xc0; break;case 0x20 : r = 0xb7; break;case 0x21 : r = 0xfd; break;case 0x22 : r = 0x93; break;case 0x23 : r = 0x26; break;case 0x24 : r = 0x36; break;case 0x25 : r = 0x3f; break;case 0x26 : r = 0xf7; break;case 0x27 : r = 0xcc; break;case 0x28 : r = 0x34; break;case 0x29 : r = 0xa5; break;case 0x2A : r = 0xe5; break;case 0x2B : r = 0xf1; break;case 0x2C : r = 0x71; break;case 0x2D : r = 0xd8; break;case 0x2E : r = 0x31; break;case 0x2F : r = 0x15; break;case 0x30 : r = 0x04; break;case 0x31 : r = 0xc7; break;case 0x32 : r = 0x23; break;case 0x33 : r = 0xc3; break;case 0x34 : r = 0x18; break;case 0x35 : r = 0x96; break;case 0x36 : r = 0x05; break;case 0x37 : r = 0x9a; break;case 0x38 : r = 0x07; break;case 0x39 : r = 0x12; break;case 0x3A : r = 0x80; break;case 0x3B : r = 0xe2; break;case 0x3C : r = 0xeb; break;case 0x3D : r = 0x27; break;case 0x3E : r = 0xb2; break;case 0x3F : r = 0x75; break;case 0x40 : r = 0x09; break;case 0x41 : r = 0x83; break;case 0x42 : r = 0x2c; break;case 0x43 : r = 0x1a; break;case 0x44 : r = 0x1b; break;case 0x45 : r = 0x6e; break;case 0x46 : r = 0x5a; break;case 0x47 : r = 0xa0; break;case 0x48 : r = 0x52; break;case 0x49 : r = 0x3b; break;case 0x4A : r = 0xd6; break;case 0x4B : r = 0xb3; break;case 0x4C : r = 0x29; break;case 0x4D : r = 0xe3; break;case 0x4E : r = 0x2f; break;case 0x4F : r = 0x84; break;case 0x50 : r = 0x53; break;case 0x51 : r = 0xd1; break;case 0x52 : r = 0x00; break


page 615
587case 0x53 : r = 0xed; break;case 0x54 : r = 0x20; break;case 0x55 : r = 0xfc; break;case 0x56 : r = 0xb1; break;case 0x57 : r = 0x5b; break;case 0x58 : r = 0x6a; break;case 0x59 : r = 0xcb; break;case 0x5A : r = 0xbe; break;case 0x5B : r = 0x39; break;case 0x5C : r = 0x4a; break;case 0x5D : r = 0x4c; break;case 0x5E : r = 0x58; break;case 0x5F : r = 0xcf; break;case 0x60 : r = 0xd0; break;case 0x61 : r = 0xef; break;case 0x62 : r = 0xaa; break;case 0x63 : r = 0xfb; break;case 0x64 : r = 0x43; break;case 0x65 : r = 0x4d; break;case 0x66 : r = 0x33; break;case 0x67 : r = 0x85; break;case 0x68 : r = 0x45; break;case 0x69 : r = 0xf9; break;case 0x6A : r = 0x02; break;case 0x6B : r = 0x7f; break;case 0x6C : r = 0x50; break;case 0x6D : r = 0x3c; break;case 0x6E : r = 0x9f; break;case 0x6F : r = 0xa8; break;case 0x70 : r = 0x51; break;case 0x71 : r = 0xa3; break;case 0x72 : r = 0x40; break;case 0x73 : r = 0x8f; break;case 0x74 : r = 0x92; break;case 0x75 : r = 0x9d; break;case 0x76 : r = 0x38; break;case 0x77 : r = 0xf5; break;case 0x78 : r = 0xbc; break;case 0x79 : r = 0xb6; break;case 0x7A : r = 0xda; break;case 0x7B : r = 0x21; break;case 0x7C : r = 0x10; break;case 0x7D : r = 0xff; break;case 0x7E : r = 0xf3; break;case 0x7F : r = 0xd2; break;case 0x80 : r = 0xcd; break;case 0x81 : r = 0x0c; break;case 0x82 : r = 0x13; break;case 0x83 : r = 0xec; break;case 0x84 : r = 0x5f; break;case 0x85 : r = 0x97; break;case 0x86 : r = 0x44; break;case 0x87 : r = 0x17; break;case 0x88 : r = 0xc4; break;case 0x89 : r = 0xa7; break;case 0x8A : r = 0x7e; break


page 616
case 0x8B : r = 0x3d; break;case 0x8C : r = 0x64; break;case 0x8D : r = 0x5d; break;case 0x8E : r = 0x19; break;case 0x8F : r = 0x73; break;case 0x90 : r = 0x60; break;case 0x91 : r = 0x81; break;case 0x92 : r = 0x4f; break;case 0x93 : r = 0xdc; break;case 0x94 : r = 0x22; break;case 0x95 : r = 0x2a; break;case 0x96 : r = 0x90; break;case 0x97 : r = 0x88; break;case 0x98 : r = 0x46; break;case 0x99 : r = 0xee; break;case 0x9A : r = 0xb8; break;case 0x9B : r = 0x14; break;case 0x9C : r = 0xde; break;case 0x9D : r = 0x5e; break;case 0x9E : r = 0x0b; break;case 0x9F : r = 0xdb; break;case 0xA0 : r = 0xe0; break;case 0xA1 : r = 0x32; break;case 0xA2 : r = 0x3a; break;case 0xA3 : r = 0x0a; break;case 0xA4 : r = 0x49; break;case 0xA5 : r = 0x06; break;case 0xA6 : r = 0x24; break;case 0xA7 : r = 0x5c; break;case 0xA8 : r = 0xc2; break;case 0xA9 : r = 0xd3; break;case 0xAA : r = 0xac; break;case 0xAB : r = 0x62; break;case 0xAC : r = 0x91; break;case 0xAD : r = 0x95; break;case 0xAE : r = 0xe4; break;case 0xAF : r = 0x79; break;case 0xB0 : r = 0xe7; break;case 0xB1 : r = 0xc8; break;case 0xB2 : r = 0x37; break;case 0xB3 : r = 0x6d; break;case 0xB4 : r = 0x8d; break;case 0xB5 : r = 0xd5; break;case 0xB6 : r = 0x4e; break;case 0xB7 : r = 0xa9; break;case 0xB8 : r = 0x6c; break;case 0xB9 : r = 0x56; break;case 0xBA : r = 0xf4; break;case 0xBB : r = 0xea; break;case 0xBC : r = 0x65; break;case 0xBD : r = 0x7a; break;case 0xBE : r = 0xae; break;case 0xBF : r = 0x08; break;case 0xC0 : r = 0xba; break;case 0xC1 : r = 0x78; break;case 0xC2 : r = 0x25; break


page 617
589case 0xC3 : r = 0x2e; break;case 0xC4 : r = 0x1c; break;case 0xC5 : r = 0xa6; break;case 0xC6 : r = 0xb4; break;case 0xC7 : r = 0xc6; break;case 0xC8 : r = 0xe8; break;case 0xC9 : r = 0xdd; break;case 0xCA : r = 0x74; break;case 0xCB : r = 0x1f; break;case 0xCC : r = 0x4b; break;case 0xCD : r = 0xbd; break;case 0xCE : r = 0x8b; break;case 0xCF : r = 0x8a; break;case 0xD0 : r = 0x70; break;case 0xD1 : r = 0x3e; break;case 0xD2 : r = 0xb5; break;case 0xD3 : r = 0x66; break;case 0xD4 : r = 0x48; break;case 0xD5 : r = 0x03; break;case 0xD6 : r = 0xf6; break;case 0xD7 : r = 0x0e; break;case 0xD8 : r = 0x61; break;case 0xD9 : r = 0x35; break;case 0xDA : r = 0x57; break;case 0xDB : r = 0xb9; break;case 0xDC : r = 0x86; break;case 0xDD : r = 0xc1; break;case 0xDE : r = 0x1d; break;case 0xDF : r = 0x9e; break;case 0xE0 : r = 0xe1; break;case 0xE1 : r = 0xf8; break;case 0xE2 : r = 0x98; break;case 0xE3 : r = 0x11; break;case 0xE4 : r = 0x69; break;case 0xE5 : r = 0xd9; break;case 0xE6 : r = 0x8e; break;case 0xE7 : r = 0x94; break;case 0xE8 : r = 0x9b; break;case 0xE9 : r = 0x1e; break;case 0xEA : r = 0x87; break;case 0xEB : r = 0xe9; break;case 0xEC : r = 0xce; break;case 0xED : r = 0x55; break;case 0xEE : r = 0x28; break;case 0xEF : r = 0xdf; break;case 0xF0 : r = 0x8c; break;case 0xF1 : r = 0xa1; break;case 0xF2 : r = 0x89; break;case 0xF3 : r = 0x0d; break;case 0xF4 : r = 0xbf; break;case 0xF5 : r = 0xe6; break;case 0xF6 : r = 0x42; break;case 0xF7 : r = 0x68; break;case 0xF8 : r = 0x41; break;case 0xF9 : r = 0x99; break;case 0xFA : r = 0x2d; break


page 618
case 0xFB : r = 0x0f; break;case 0xFC : r = 0xb0; break;case 0xFD : r = 0x54; break;case 0xFE : r = 0xbb; break;case 0xFF : r = 0x16; break;default : r = 0x00; printf("S-BOX Error!!"); break;}return r;}// MixColumns function for AESint tcMixColumns(int x){int r;int s0, s1, s2, s3;s0 = (tcMultEight(0x02,(x>>24) & 0xFF))^ (tcMultEight(0x03,(x>>16) & 0xFF))^ ((x>>8) & 0xFF)^ (x & 0xFF);s1 = ((x>>24) & 0xFF)^ (tcMultEight(0x02,(x>>16) & 0xFF))^ (tcMultEight(0x03,(x>>8) & 0xFF))^ (x & 0xFF);s2 = ((x>>24) & 0xFF)^ ((x>>16) & 0xFF)^ (tcMultEight(0x02,(x>>8) & 0xFF))^ (tcMultEight(0x03,x & 0xFF));s3 = (tcMultEight(0x03,(x>>24) & 0xFF))^ ((x>>16) & 0xFF)^ ((x>>8) & 0xFF)^ (tcMultEight(0x02,x & 0xFF));r = ((s0<<24) & 0xFF000000) ^ ((s1<<16) & 0x00FF0000) ^ ((s2<<8) & 0x0000FF00) ^ (s3 & 0x000000FF);return r;}// Multiplication in GF(2^8)int tcMultEight(int x, int y){int r = 0x1b;int i, z = 0;int y_flag = 0;for (i=0;i<8;i++) {if (((x>>i) & 1) == 1) {z = z ^ y;}if (((y >> 7) & 1) == 1) {y_flag = 1;}y = (y << 1) & 0xFF;if (y_flag == 1) {y = y ^ r;}y_flag = 0;}return z;}// Multiplication in GF(2^128)void tcMultGF(int x[4], int y[4], int Zout[4]){int i,j,k=0;int r[4] = {0xe1000000, 0x00000000, 0x00000000, 0x00000000}


page 619
591int z[4] = {0x00000000, 0x00000000, 0x00000000, 0x00000000};int V[4];for (i=0;i<4;i++) {V[i] = x[i];}for (i=0;i<4;i++) {for (j=0;j<32;j++) {if (((y[i]>>(31-j)) & 1) == 1) {for (k=0;k<4;k++) {z[k] = z[k] ^ V[k];}}if ((V[3] & 1) == 0) {V[3] = ((V[3] >> 1) & 0x7fffffff) ^ ((V[2] << 31) & 0x80000000);V[2] = ((V[2] >> 1) & 0x7fffffff) ^ ((V[1] << 31) & 0x80000000);V[1] = ((V[1] >> 1) & 0x7fffffff) ^ ((V[0] << 31) & 0x80000000);V[0] = ((V[0] >> 1) & 0x7fffffff);}else {V[3] = ((V[3] >> 1) & 0x7fffffff) ^ ((V[2] << 31) & 0x80000000);V[2] = ((V[2] >> 1) & 0x7fffffff) ^ ((V[1] << 31) & 0x80000000);V[1] = ((V[1] >> 1) & 0x7fffffff) ^ ((V[0] << 31) & 0x80000000);V[0] = ((V[0] >> 1) & 0x7fffffff);for (k=0;k<4;k++) {V[k] = V[k] ^ r[k];}}}}for (i=0;i<4;i++) {Zout[i] = z[i];}


page 620



page 621
593Annex N(informative) Admission controlN.3 Guidelines and reference design for sample scheduler and admission control unitN.3.3 Reference design for sample scheduler and admission control unitN.3.3.1 Sample schedulerChange the variable list for the equation after the fifth paragraph of N.3.3.1 as follows:whereR is the Physical Transmission RateM is the maximum possible size of MSDU, i.e., 2304 octetsO is the Overhead in time unit


page 622



page 623
595Insert the following text, Annex Y and Annex Z, after Annex X:Annex Y(informative) Functions of the centralized coordination service root (CCSR)Via unspecified means over the DS, a centralized coordination service root (CCSR) performs the followingfunctions:   Allows APs to enroll or unenroll from the CCSS.  Provides a directory service, wherein the CCSR responds to a Directory Service request thatincludes a MAC address with an indication of whether the MAC address is an S-AP within theCCSS.  Configures the beacon interval, ClusterMaxMem, Beacon SP duration , TXSS Offset, TXSS CBAPDuration, and TXSS CBAP MaxMem (see 9.34.2.2) of each S-AP.  Aligns the rate of increment of TSFs of S-APs within the CCSS.  Configures the individual TSF offsets of each S-AP in order to minimize the temporal, spatial, andfrequency overlap of BHIs of the BSSs in the same CCSS.  Provides to each S-AP the Cluster Time Offset availability information from nearby co-channelS-Aps.  Configures each S-AP with certain medium access policies for its centralized PCP/AP cluster (see9.34.3.4). The CCSR is permitted to configure different S-APs with different medium accesspolicies.  Configures each S-AP with a list of one or more channels in an Operating Class that the S-AP isexcluded from operating upon and that the S-AP advertises via the Channel Usage procedures (see10.23.14). The excluded channels are available to STAs that are operating in the area covered by theECPAC, yet are not within the ECPAC


page 624



page 625
597Annex Z(informative) TSPEC aggregation for DMG BSSsExamples of TSPEC aggregation include, but are not limited to, the following:  Traffic streams between DMG STA A and DMG STA B, having an access policy of SPCA, even ifthey flow in opposite directions, sharing an SP allocation created with DMG STA A as Source AIDand DMG STA B as Destination AID.  Traffic streams between DMG STA A and other DMG STAs, having an access policy of EDCA,even if they flow in opposite directions (some having DMG STA A as source and some havingDMG STA A as destination), sharing a CBAP allocation created with DMG STA A as Source AIDand broadcast Destination AID.FigureZ-1 and FigureZ-2 show examples of TSPEC aggregation in a DMG BSS. Note that TSPEC 3 inFigureZ-1 (for both SPCA and EDCA cases) can flow only through an RD grant. Figure Z-1  Example of TSPEC aggregation (SPCA and EDCA access policies


144.718092918
